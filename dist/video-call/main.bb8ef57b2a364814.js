"use strict";var aj=Object.defineProperty,cj=Object.defineProperties,lj=Object.getOwnPropertyDescriptors,Qw=Object.getOwnPropertySymbols,uj=Object.prototype.hasOwnProperty,dj=Object.prototype.propertyIsEnumerable,Zw=(Ze,w,g)=>w in Ze?aj(Ze,w,{enumerable:!0,configurable:!0,writable:!0,value:g}):Ze[w]=g,nr=(Ze,w)=>{for(var g in w||(w={}))uj.call(w,g)&&Zw(Ze,g,w[g]);if(Qw)for(var g of Qw(w))dj.call(w,g)&&Zw(Ze,g,w[g]);return Ze},Os=(Ze,w)=>cj(Ze,lj(w)),ha=(Ze,w,g)=>{if(w.has(Ze))throw TypeError("Cannot add the same private member more than once");w instanceof WeakSet?w.add(Ze):w.set(Ze,g)};(self.webpackChunkvideo_call=self.webpackChunkvideo_call||[]).push([[179],{36:(Ze,w,g)=>{var Jp,Yp,Qp,Zp,y={};g.r(y),g.d(y,{Decoder:()=>yp,Encoder:()=>X2,PacketType:()=>fe,protocol:()=>Z2});var x={};g.r(x),g.d(x,{fixNegotiationNeeded:()=>ew,shimAddTrackRemoveTrack:()=>XE,shimAddTrackRemoveTrackWithNative:()=>ZE,shimGetDisplayMedia:()=>uB,shimGetSendersWithDtmf:()=>JE,shimGetStats:()=>YE,shimGetUserMedia:()=>qE,shimMediaStream:()=>WE,shimOnTrack:()=>KE,shimPeerConnection:()=>bp,shimSenderReceiverGetStats:()=>QE});var P={};g.r(P),g.d(P,{shimAddTransceiver:()=>aw,shimCreateAnswer:()=>uw,shimCreateOffer:()=>lw,shimGetDisplayMedia:()=>dB,shimGetParameters:()=>cw,shimGetUserMedia:()=>tw,shimOnTrack:()=>nw,shimPeerConnection:()=>Dp,shimRTCDataChannel:()=>ow,shimReceiverGetStats:()=>iw,shimRemoveStream:()=>sw,shimSenderGetStats:()=>rw});var te={};g.r(te),g.d(te,{shimAudioContext:()=>_w,shimCallbacksAPI:()=>hw,shimConstraints:()=>gw,shimCreateOfferLegacy:()=>vw,shimGetUserMedia:()=>pw,shimLocalStreamsAPI:()=>dw,shimRTCIceServerUrls:()=>mw,shimRemoteStreamsAPI:()=>fw,shimTrackEventTransceiver:()=>yw});var ke={};function ne(t){return"function"==typeof t}function yn(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}g.r(ke),g.d(ke,{removeExtmapAllowMixed:()=>Sp,shimAddIceCandidateNullOrEmpty:()=>wl,shimConnectionState:()=>wp,shimMaxMessageSize:()=>Dl,shimParameterlessSetLocalDescription:()=>Sl,shimRTCIceCandidate:()=>bl,shimRTCIceCandidateRelayProtocol:()=>Ep,shimSendThrowTypeError:()=>El});const ft=yn(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function bt(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ae{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ne(r))try{r()}catch(s){e=s instanceof ft?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Xp(s)}catch(o){e=null!=e?e:[],o instanceof ft?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ft(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Xp(e);else{if(e instanceof Ae){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&bt(n,e)}remove(e){const{_finalizers:n}=this;n&&bt(n,e),e instanceof Ae&&e._removeParent(this)}}Ae.EMPTY=(()=>{const t=new Ae;return t.closed=!0,t})();const Fn=Ae.EMPTY;function pa(t){return t instanceof Ae||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function Xp(t){ne(t)?t():t.unsubscribe()}const Gr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ga={setTimeout(t,e,...n){const{delegate:r}=ga;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ga;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function eg(t){ga.setTimeout(()=>{const{onUnhandledError:e}=Gr;if(!e)throw t;e(t)})}function tg(){}const Xw=jl("C",void 0,void 0);function jl(t,e,n){return{kind:t,value:e,error:n}}let zr=null;function ma(t){if(Gr.useDeprecatedSynchronousErrorHandling){const e=!zr;if(e&&(zr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=zr;if(zr=null,n)throw r}}else t()}class Ul extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pa(e)&&e.add(this)):this.destination=oS}static create(e,n,r){return new Ns(e,n,r)}next(e){this.isStopped?Hl(function tS(t){return jl("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Hl(function eS(t){return jl("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hl(Xw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rS=Function.prototype.bind;function $l(t,e){return rS.call(t,e)}class iS{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ya(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ya(r)}else ya(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ya(n)}}}class Ns extends Ul{constructor(e,n,r){let i;if(super(),ne(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&Gr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$l(e.next,s),error:e.error&&$l(e.error,s),complete:e.complete&&$l(e.complete,s)}):i=e}this.destination=new iS(i)}}function ya(t){Gr.useDeprecatedSynchronousErrorHandling?function nS(t){Gr.useDeprecatedSynchronousErrorHandling&&zr&&(zr.errorThrown=!0,zr.error=t)}(t):eg(t)}function Hl(t,e){const{onStoppedNotification:n}=Gr;n&&ga.setTimeout(()=>n(t,e))}const oS={closed:!0,next:tg,error:function sS(t){throw t},complete:tg},Gl="function"==typeof Symbol&&Symbol.observable||"@@observable";function qr(t){return t}let Le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function cS(t){return t&&t instanceof Ul||function aS(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}(t)&&pa(t)}(n)?n:new Ns(n,r,i);return ma(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=rg(r))((i,s)=>{const o=new Ns({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Gl](){return this}pipe(...n){return function ng(t){return 0===t.length?qr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=rg(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function rg(t){var e;return null!==(e=null!=t?t:Gr.Promise)&&void 0!==e?e:Promise}const lS=yn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let rr=(()=>{class t extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ig(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lS}next(n){ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Fn:(this.currentObservers=null,s.push(n),new Ae(()=>{this.currentObservers=null,bt(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Le;return n.source=this,n}}return t.create=(e,n)=>new ig(e,n),t})();class ig extends rr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Fn}}function sg(t){return ne(null==t?void 0:t.lift)}function ht(t){return e=>{if(sg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(t,e,n,r,i){return new uS(t,e,n,r,i)}class uS extends Ul{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(t,e){return ht((n,r)=>{let i=0;n.subscribe(ot(r,s=>{r.next(t.call(e,s,i++))}))})}function Dr(t){return this instanceof Dr?(this.v=t,this):new Dr(t)}function cg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,v){s.push([f,h,p,v])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Dr?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function lg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Kl(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ug=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function dg(t){return ne(null==t?void 0:t.then)}function fg(t){return ne(t[Gl])}function hg(t){return Symbol.asyncIterator&&ne(null==t?void 0:t[Symbol.asyncIterator])}function pg(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gg=function kS(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mg(t){return ne(null==t?void 0:t[gg])}function yg(t){return cg(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Dr(n.read());if(i)return yield Dr(void 0);yield yield Dr(r)}}finally{n.releaseLock()}})}function vg(t){return ne(null==t?void 0:t.getReader)}function vn(t){if(t instanceof Le)return t;if(null!=t){if(fg(t))return function PS(t){return new Le(e=>{const n=t[Gl]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ug(t))return function OS(t){return new Le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(dg(t))return function NS(t){return new Le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,eg)})}(t);if(hg(t))return _g(t);if(mg(t))return function FS(t){return new Le(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(vg(t))return function LS(t){return _g(yg(t))}(t)}throw pg(t)}function _g(t){return new Le(e=>{(function VS(t,e){var n,r,i,s;return function og(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=lg(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ir(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function at(t,e,n=1/0){return ne(e)?at((r,i)=>ye((s,o)=>e(r,s,i,o))(vn(t(r,i))),n):("number"==typeof e&&(n=e),ht((r,i)=>function BS(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=v=>l<r?p(v):c.push(v),p=v=>{s&&e.next(v),l++;let E=!1;vn(n(v,u++)).subscribe(ot(e,S=>{null==i||i(S),s?h(S):e.next(S)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){const S=c.shift();o?ir(e,o,()=>p(S)):p(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(ot(e,h,()=>{d=!0,f()})),()=>{null==a||a()}}(r,i,t,n)))}function Fs(t=1/0){return at(qr,t)}const sr=new Le(t=>t.complete());function Jl(t){return t[t.length-1]}function Cg(t){return ne(Jl(t))?t.pop():void 0}function Ls(t){return function US(t){return t&&ne(t.schedule)}(Jl(t))?t.pop():void 0}function bg(t,e=0){return ht((n,r)=>{n.subscribe(ot(r,i=>ir(r,t,()=>r.next(i),e),()=>ir(r,t,()=>r.complete(),e),i=>ir(r,t,()=>r.error(i),e)))})}function Dg(t,e=0){return ht((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Eg(t,e){if(!t)throw new Error("Iterable cannot be null");return new Le(n=>{ir(n,e,()=>{const r=t[Symbol.asyncIterator]();ir(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pt(t,e){return e?function KS(t,e){if(null!=t){if(fg(t))return function HS(t,e){return vn(t).pipe(Dg(e),bg(e))}(t,e);if(ug(t))return function zS(t,e){return new Le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(dg(t))return function GS(t,e){return vn(t).pipe(Dg(e),bg(e))}(t,e);if(hg(t))return Eg(t,e);if(mg(t))return function qS(t,e){return new Le(n=>{let r;return ir(n,e,()=>{r=t[gg](),ir(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ne(null==r?void 0:r.return)&&r.return()})}(t,e);if(vg(t))return function WS(t,e){return Eg(yg(t),e)}(t,e)}throw pg(t)}(t,e):vn(t)}function Yl(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ns({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function Ql(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Zl(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const QS=De({__forward_ref__:De});function we(t){return t.__forward_ref__=we,t.toString=function(){return ve(this())},t}function re(t){return wg(t)?t():t}function wg(t){return"function"==typeof t&&t.hasOwnProperty(QS)&&t.__forward_ref__===we}class ge extends Error{constructor(e,n){super(function Xl(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function K(t){return"string"==typeof t?t:null==t?"":String(t)}function gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():K(t)}function va(t,e){const n=e?` in ${e}`:"";throw new ge(-201,`No provider for ${gt(t)} found${n}`)}function zt(t,e){null==t&&function _e(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function eu(t){return Sg(t,_a)||Sg(t,Mg)}function Sg(t,e){return t.hasOwnProperty(e)?t[e]:null}function xg(t){return t&&(t.hasOwnProperty(tu)||t.hasOwnProperty(ix))?t[tu]:null}const _a=De({\u0275prov:De}),tu=De({\u0275inj:De}),Mg=De({ngInjectableDef:De}),ix=De({ngInjectorDef:De});var W=(()=>((W=W||{})[W.Default=0]="Default",W[W.Host=1]="Host",W[W.Self=2]="Self",W[W.SkipSelf=4]="SkipSelf",W[W.Optional=8]="Optional",W))();let nu;function Er(t){const e=nu;return nu=t,e}function Tg(t,e,n){const r=eu(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&W.Optional?null:void 0!==e?e:void va(ve(t),"Injector")}function wr(t){return{toString:t}.toString()}var _n=(()=>((_n=_n||{})[_n.OnPush=0]="OnPush",_n[_n.Default=1]="Default",_n))(),Ln=(()=>{return(t=Ln||(Ln={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Ln;var t})();const ox="undefined"!=typeof globalThis&&globalThis,ax="undefined"!=typeof window&&window,cx="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,be=ox||"undefined"!=typeof global&&global||ax||cx,Ai={},Ee=[],Ca=De({\u0275cmp:De}),ru=De({\u0275dir:De}),iu=De({\u0275pipe:De}),Ag=De({\u0275mod:De}),ar=De({\u0275fac:De}),Vs=De({__NG_ELEMENT_ID__:De});let lx=0;function Sr(t){return wr(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===_n.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ee,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ln.Emulated,id:"c",styles:t.styles||Ee,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=lx++,r.inputs=Pg(t.inputs,n),r.outputs=Pg(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Ig):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Rg):null,r})}function Ig(t){return mt(t)||function xr(t){return t[ru]||null}(t)}function Rg(t){return function Wr(t){return t[iu]||null}(t)}const kg={};function qt(t){return wr(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ee,declarations:t.declarations||Ee,imports:t.imports||Ee,exports:t.exports||Ee,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(kg[t.id]=t.type),e})}function Pg(t,e){if(null==t)return Ai;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const G=Sr;function mt(t){return t[Ca]||null}function on(t,e){const n=t[Ag]||null;if(!n&&!0===e)throw new Error(`Type ${ve(t)} does not have '\u0275mod' property.`);return n}const Z=11;function Vn(t){return Array.isArray(t)&&"object"==typeof t[1]}function bn(t){return Array.isArray(t)&&!0===t[1]}function au(t){return 0!=(8&t.flags)}function wa(t){return 2==(2&t.flags)}function Sa(t){return 1==(1&t.flags)}function Dn(t){return null!==t.template}function gx(t){return 0!=(512&t[2])}function Qr(t,e){return t.hasOwnProperty(ar)?t[ar]:null}class vx{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function cn(){return Ng}function Ng(t){return t.type.prototype.ngOnChanges&&(t.setInput=Cx),_x}function _x(){const t=Lg(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Ai)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Cx(t,e,n,r){const i=Lg(t)||function bx(t,e){return t[Fg]=e}(t,{previous:Ai,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new vx(c&&c.currentValue,e,o===Ai),t[r]=e}cn.ngInherit=!0;const Fg="__ngSimpleChanges__";function Lg(t){return t[Fg]||null}let fu;function Be(t){return!!t.listen}const Vg={createRenderer:(t,e)=>function hu(){return void 0!==fu?fu:"undefined"!=typeof document?document:void 0}()};function ze(t){for(;Array.isArray(t);)t=t[0];return t}function xa(t,e){return ze(e[t])}function Kt(t,e){return ze(e[t.index])}function pu(t,e){return t.data[e]}function Jt(t,e){const n=e[t];return Vn(n)?n:n[0]}function gu(t){return 128==(128&t[2])}function Mr(t,e){return null==e?null:t[e]}function jg(t){t[18]=0}function mu(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Y={lFrame:Yg(null),bindingsEnabled:!0};function $g(){return Y.bindingsEnabled}function T(){return Y.lFrame.lView}function me(){return Y.lFrame.tView}function Xe(){let t=Gg();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gg(){return Y.lFrame.currentTNode}function Bn(t,e){const n=Y.lFrame;n.currentTNode=t,n.isParent=e}function yu(){return Y.lFrame.isParent}function Ni(){return Y.lFrame.bindingIndex++}function Vx(t,e){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=t,_u(e)}function _u(t){Y.lFrame.currentDirectiveIndex=t}function bu(t){Y.lFrame.currentQueryIndex=t}function jx(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Kg(t,e,n){if(n&W.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&W.Host||(i=jx(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Y.lFrame=Jg();return r.currentTNode=e,r.lView=t,!0}function Ta(t){const e=Jg(),n=t[1];Y.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Jg(){const t=Y.lFrame,e=null===t?null:t.child;return null===e?Yg(t):e}function Yg(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Qg(){const t=Y.lFrame;return Y.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Zg=Qg;function Aa(){const t=Qg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rt(){return Y.lFrame.selectedIndex}function Tr(t){Y.lFrame.selectedIndex=t}function Pe(){const t=Y.lFrame;return pu(t.tView,t.selectedIndex)}function Ia(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),c&&(t.viewHooks||(t.viewHooks=[])).push(-n,c),l&&((t.viewHooks||(t.viewHooks=[])).push(n,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,l)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function Ra(t,e,n){Xg(t,e,3,n)}function ka(t,e,n,r){(3&t[2])===n&&Xg(t,e,n,r)}function Du(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Xg(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[18]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[18]+=65536),(a<s||-1==s)&&(Jx(t,n,e,c),t[18]=(4294901760&t[18])+c+2),c++}function Jx(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Hs{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Pa(t,e,n){const r=Be(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];wu(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function em(t){return 3===t||4===t||6===t}function wu(t){return 64===t.charCodeAt(0)}function Oa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||tm(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function tm(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function nm(t){return-1!==t}function Fi(t){return 32767&t}function Li(t,e){let n=function eM(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Su=!0;function Na(t){const e=Su;return Su=t,e}let tM=0;function zs(t,e){const n=Mu(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,xu(r.data,t),xu(e,null),xu(r.blueprint,null));const i=Fa(t,e),s=t.injectorIndex;if(nm(i)){const o=Fi(i),a=Li(i,e),c=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function xu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Mu(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fa(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function La(t,e,n){!function nM(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vs)&&(r=n[Vs]),null==r&&(r=n[Vs]=tM++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function sm(t,e,n){if(n&W.Optional)return t;va(e,"NodeInjector")}function om(t,e,n,r){if(n&W.Optional&&void 0===r&&(r=null),0==(n&(W.Self|W.Host))){const i=t[9],s=Er(void 0);try{return i?i.get(e,r,n&W.Optional):Tg(e,r,n&W.Optional)}finally{Er(s)}}return sm(r,e,n)}function am(t,e,n,r=W.Default,i){if(null!==t){const s=function oM(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Vs)?t[Vs]:void 0;return"number"==typeof e?e>=0?255&e:iM:e}(n);if("function"==typeof s){if(!Kg(e,t,r))return r&W.Host?sm(i,n,r):om(e,n,r,i);try{const o=s(r);if(null!=o||r&W.Optional)return o;va(n)}finally{Zg()}}else if("number"==typeof s){let o=null,a=Mu(t,e),c=-1,l=r&W.Host?e[16][6]:null;for((-1===a||r&W.SkipSelf)&&(c=-1===a?Fa(t,e):e[a+8],-1!==c&&um(r,!1)?(o=e[1],a=Fi(c),e=Li(c,e)):a=-1);-1!==a;){const u=e[1];if(lm(s,a,u.data)){const d=sM(a,e,n,o,r,l);if(d!==cm)return d}c=e[a+8],-1!==c&&um(r,e[1].data[a+8]===l)&&lm(s,a,e)?(o=u,a=Fi(c),e=Li(c,e)):a=-1}}}return om(e,n,r,i)}const cm={};function iM(){return new Vi(Xe(),T())}function sM(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=function Va(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Dn(h)&&h.type===n)return c}return null}(a,o,n,null==r?wa(a)&&Su:r!=o&&0!=(3&a.type),i&W.Host&&s===a);return null!==u?qs(e,o,u,a):cm}function qs(t,e,n,r){let i=t[n];const s=e.data;if(function Yx(t){return t instanceof Hs}(i)){const o=i;o.resolving&&function ZS(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ge(-200,`Circular dependency in DI detected for ${t}${n}`)}(gt(s[n]));const a=Na(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Er(o.injectImpl):null;Kg(t,r,W.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Kx(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Ng(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&Er(c),Na(a),o.resolving=!1,Zg()}}return i}function lm(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function um(t,e){return!(t&W.Self||t&W.Host&&e)}class Vi{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return am(this._tNode,this._lView,e,r,n)}}function Tu(t){return wg(t)?()=>{const e=Tu(re(t));return e&&e()}:Qr(t)}const ji="__parameters__";function $i(t,e,n){return wr(()=>{const r=function Au(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(ji)?c[ji]:Object.defineProperty(c,ji,{value:[]})[ji];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ie{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cM=new ie("AnalyzeForEntryComponents");function jn(t,e){t.forEach(n=>Array.isArray(n)?jn(n,e):e(n))}function fm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ba(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yt(t,e,n){let r=Hi(t,e);return r>=0?t[1|r]=n:(r=~r,function dM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Ru(t,e){const n=Hi(t,e);if(n>=0)return t[1|n]}function Hi(t,e){return function gm(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Qs={},Pu="__NG_DI_FLAG__",Ua="ngTempTokenPath",vM=/\n/gm,ym="__source",CM=De({provide:String,useValue:De});let Zs;function vm(t){const e=Zs;return Zs=t,e}function bM(t,e=W.Default){if(void 0===Zs)throw new ge(203,"");return null===Zs?Tg(t,void 0,e):Zs.get(t,e&W.Optional?null:void 0,e)}function j(t,e=W.Default){return(function sx(){return nu}()||bM)(re(t),e)}const DM=j;function Ou(t){const e=[];for(let n=0;n<t.length;n++){const r=re(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ge(900,"");let i,s=W.Default;for(let o=0;o<r.length;o++){const a=r[o],c=EM(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(j(i,s))}else e.push(j(r))}return e}function Xs(t,e){return t[Pu]=e,t.prototype[Pu]=e,t}function EM(t){return t[Pu]}const $a=Xs($i("Inject",t=>({token:t})),-1),Ir=Xs($i("Optional"),8),eo=Xs($i("SkipSelf"),4);var Qt=(()=>((Qt=Qt||{})[Qt.Important=1]="Important",Qt[Qt.DashCase=2]="DashCase",Qt))();const xm="__ngContext__";function wt(t,e){t[xm]=e}function Lu(t){const e=function no(t){return t[xm]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Bu(t,e){return undefined(t,e)}function ro(t){const e=t[3];return bn(e)?e[3]:e}function ju(t){return Pm(t[13])}function Uu(t){return Pm(t[4])}function Pm(t){for(;null!==t&&!bn(t);)t=t[4];return t}function zi(t,e,n,r,i){if(null!=r){let s,o=!1;bn(r)?s=r:Vn(r)&&(o=!0,r=r[0]);const a=ze(r);0===t&&null!==n?null==i?Bm(e,n,a):Zr(e,n,a,i||null,!0):1===t&&null!==n?Zr(e,n,a,i||null,!0):2===t?function Ku(t,e,n){const r=Ga(t,e);r&&function eT(t,e,n,r){Be(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function rT(t,e,n,r,i){const s=n[7];s!==ze(n)&&zi(e,t,r,s,i);for(let a=10;a<n.length;a++){const c=n[a];io(c[1],c,t,e,r,s)}}(e,t,s,n,i)}}function Hu(t,e,n){if(Be(t))return t.createElement(e,n);{const r=null!==n?function Sx(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function Nm(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,mu(i,-1)),n.splice(r,1)}function Gu(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Nm(i,r),e>0&&(t[n-1][4]=r[4]);const s=Ba(t,10+e);!function qM(t,e){io(t,e,e[Z],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Fm(t,e){if(!(256&e[2])){const n=e[Z];Be(n)&&n.destroyNode&&io(t,e,n,3,null,null),function JM(t){let e=t[13];if(!e)return zu(t[1],t);for(;e;){let n=null;if(Vn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Vn(e)&&zu(e[1],e),e=e[3];null===e&&(e=t),Vn(e)&&zu(e[1],e),n=e&&e[4]}e=n}}(e)}}function zu(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function XM(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Hs)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];try{c.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function ZM(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):ze(e[o]),c=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?a.removeEventListener(n[s],c,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Be(e[Z])&&e[Z].destroy();const n=e[17];if(null!==n&&bn(e[3])){n!==e[3]&&Nm(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Lm(t,e,n){return function Vm(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Ln.None||i===Ln.Emulated)return null}return Kt(r,n)}(t,e.parent,n)}function Zr(t,e,n,r,i){Be(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Bm(t,e,n){Be(t)?t.appendChild(e,n):e.appendChild(n)}function jm(t,e,n,r,i){null!==r?Zr(t,e,n,r,i):Bm(t,e,n)}function Ga(t,e){return Be(t)?t.parentNode(e):e.parentNode}let Hm=function $m(t,e,n){return 40&t.type?Kt(t,n):null};function za(t,e,n,r){const i=Lm(t,r,e),s=e[Z],a=function Um(t,e,n){return Hm(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)jm(s,i,n[c],a,!1);else jm(s,i,n,a,!1)}function qa(t,e){if(null!==e){const n=e.type;if(3&n)return Kt(e,t);if(4&n)return Wu(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return qa(t,r);{const i=t[e.index];return bn(i)?Wu(-1,i):ze(i)}}if(32&n)return Bu(e,t)()||ze(t[e.index]);{const r=zm(t,e);return null!==r?Array.isArray(r)?r[0]:qa(ro(t[16]),r):qa(t,e.next)}}return null}function zm(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Wu(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return qa(r,i)}return e[7]}function Ju(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&wt(ze(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Ju(t,e,n.child,r,i,s,!1),zi(e,t,i,a,s);else if(32&c){const l=Bu(n,r);let u;for(;u=l();)zi(e,t,i,u,s);zi(e,t,i,a,s)}else 16&c?qm(t,e,r,n,i,s):zi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function io(t,e,n,r,i,s){Ju(n,r,t.firstChild,e,i,s,!1)}function qm(t,e,n,r,i,s){const o=n[16],c=o[6].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)zi(e,t,i,c[l],s);else Ju(t,e,c,o[3],i,s,!0)}function Wm(t,e,n){Be(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Yu(t,e,n){Be(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Qm{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Rr(t){return t instanceof Qm?t.changingThisBreaksApplicationSecurity:t}const yT=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,vT=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var qe=(()=>((qe=qe||{})[qe.NONE=0]="NONE",qe[qe.HTML=1]="HTML",qe[qe.STYLE=2]="STYLE",qe[qe.SCRIPT=3]="SCRIPT",qe[qe.URL=4]="URL",qe[qe.RESOURCE_URL=5]="RESOURCE_URL",qe))();function rd(t){const e=function ao(){const t=T();return t&&t[12]}();return e?e.sanitize(qe.URL,t)||"":function so(t,e){const n=function hT(t){return t instanceof Qm&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?Rr(t):function Ja(t){return(t=String(t)).match(yT)||t.match(vT)?t:"unsafe:"+t}(K(t))}function sd(t){return t.ngOriginalError}function NT(t,...e){t.error(...e)}class co{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function OT(t){return t&&t.ngErrorLogger||NT}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&sd(e);for(;n&&sd(n);)n=sd(n);return n||null}}const $T=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(be))();function $n(t){return t instanceof Function?t():t}function ay(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const cy="ng-template";function qT(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ay(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ly(t){return 4===t.type&&t.value!==cy}function WT(t,e,n){return e===(4!==t.type||n?t.value:cy)}function KT(t,e,n){let r=4;const i=t.attrs||[],s=function QT(t){for(let e=0;e<t.length;e++)if(em(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!WT(t,c,n)||""===c&&1===e.length){if(En(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!qT(t.attrs,l,n)){if(En(r))return!1;o=!0}continue}const d=JT(8&r?"class":c,i,ly(t),n);if(-1===d){if(En(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==ay(h,l,0)||2&r&&l!==f){if(En(r))return!1;o=!0}}}}else{if(!o&&!En(r)&&!En(c))return!1;if(o&&En(c))continue;o=!1,r=c|1&r}}return En(r)||o}function En(t){return 0==(1&t)}function JT(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function ZT(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function uy(t,e,n=!1){for(let r=0;r<e.length;r++)if(KT(t,e[r],n))return!0;return!1}function dy(t,e){return t?":not("+e.trim()+")":e}function eA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!En(o)&&(e+=dy(s,i),i=""),r=o,s=s||!En(r);n++}return""!==i&&(e+=dy(s,i)),e}const Q={};function ei(t){fy(me(),T(),Rt()+t,!1)}function fy(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Ra(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ka(e,s,0,n)}Tr(n)}function Qa(t,e){return t<<17|e<<2}function wn(t){return t>>17&32767}function od(t){return 2|t}function ur(t){return(131068&t)>>2}function ad(t,e){return-131069&t|e<<2}function cd(t){return 1|t}function Ey(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];bu(i),o.contentQueries(2,e[s],s)}}}function lo(t,e,n,r,i,s,o,a,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,jg(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[Z]=a||t&&t[Z],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function Wi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function yd(t,e,n,r,i){const s=Gg(),o=yu(),c=t.data[e]=function vA(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(t,e,n,r,i),function Lx(){return Y.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function $s(){const t=Y.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Bn(s,!0),s}function Ki(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uo(t,e,n){Ta(e);try{const r=t.viewQuery;null!==r&&xd(1,r,n);const i=t.template;null!==i&&wy(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ey(t,e),t.staticViewQueries&&xd(2,t.viewQuery,n);const s=t.components;null!==s&&function gA(t,e){for(let n=0;n<e.length;n++)FA(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Aa()}}function Ji(t,e,n,r){const i=e[2];if(256!=(256&i)){Ta(e);try{jg(e),function zg(t){return Y.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&wy(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Ra(e,l,null)}else{const l=t.preOrderHooks;null!==l&&ka(e,l,0,null),Du(e,0)}if(function OA(t){for(let e=ju(t);null!==e;e=Uu(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&mu(s,1),i[2]|=1024}}}(e),function PA(t){for(let e=ju(t);null!==e;e=Uu(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];gu(r)&&Ji(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Ey(t,e),o){const l=t.contentCheckHooks;null!==l&&Ra(e,l)}else{const l=t.contentHooks;null!==l&&ka(e,l,1),Du(e,1)}!function hA(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Tr(~i);else{const s=i,o=n[++r],a=n[++r];Vx(o,s),a(2,e[s])}}}finally{Tr(-1)}}(t,e);const a=t.components;null!==a&&function pA(t,e){for(let n=0;n<e.length;n++)NA(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&xd(2,c,r),o){const l=t.viewCheckHooks;null!==l&&Ra(e,l)}else{const l=t.viewHooks;null!==l&&ka(e,l,2),Du(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,mu(e[3],-1))}finally{Aa()}}}function mA(t,e,n,r){const i=e[10],o=function Bg(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&uo(t,e,r),Ji(t,e,n,r)}finally{!o&&i.end&&i.end()}}function wy(t,e,n,r,i){const s=Rt(),o=2&r;try{Tr(-1),o&&e.length>20&&fy(t,e,20,!1),n(r,i)}finally{Tr(s)}}function vd(t,e,n){!$g()||(function SA(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||zs(n,e),wt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Dn(c);l&&IA(e,n,c);const u=qs(e,t,a,n);wt(u,e),null!==o&&RA(0,a-i,u,c,0,o),l&&(Jt(n.index,e)[8]=u)}}(t,e,n,Kt(n,e)),128==(128&n.flags)&&function xA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function Bx(){return Y.lFrame.currentDirectiveIndex}();try{Tr(o);for(let c=r;c<i;c++){const l=t.data[c],u=e[c];_u(c),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Py(l,u)}}finally{Tr(-1),_u(a)}}(t,e,n))}function _d(t,e,n=Kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xy(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ec(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ec(t,e,n,r,i,s,o,a,c,l){const u=20+r,d=u+i,f=function yA(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Q);return n}(u,d),h="function"==typeof l?l():l;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1}}function Iy(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Cd(t,e,n,r){let i=!1;if($g()){const s=function MA(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];uy(n,o.selectors,!1)&&(i||(i=[]),La(zs(n,e),t,o.type),Dn(o)?(Oy(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ny(n,t.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,c=!1,l=Ki(t,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];n.mergedAttrs=Oa(n.mergedAttrs,d.hostAttrs),Fy(t,n,e,l,d),AA(l,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),c=!0),l++}!function _A(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,c=null;for(let l=e.directiveStart;l<r;l++){const u=i[l],d=u.inputs,f=null===s||ly(e)?null:kA(d,s);o.push(f),a=Iy(d,l,a),c=Iy(u.outputs,l,c)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=c}(t,n)}o&&function TA(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ge(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Oa(n.mergedAttrs,n.attrs),i}function ky(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~e.index;(function wA(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=c&&a.push(c),a.push(r,i,o)}}function Py(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Oy(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function AA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Dn(e)&&(n[""]=t)}}function Ny(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fy(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Qr(i.type)),o=new Hs(s,Dn(i),null);t.blueprint[r]=o,n[r]=o,ky(t,e,0,r,Ki(t,n,i.hostVars,Q),i)}function IA(t,e,n){const r=Kt(e,t),i=xy(n),s=t[10],o=tc(t,lo(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Hn(t,e,n,r,i,s){const o=Kt(t,e);!function bd(t,e,n,r,i,s,o){if(null==s)Be(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?K(s):o(s,r||"",i);Be(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[Z],o,s,t.value,n,r,i)}function RA(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let c=0;c<o.length;){const l=o[c++],u=o[c++],d=o[c++];null!==a?r.setInput(n,d,l,u):n[u]=d}}}function kA(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ly(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function NA(t,e){const n=Jt(e,t);if(gu(n)){const r=n[1];80&n[2]?Ji(r,n,r.template,n[8]):n[5]>0&&Dd(n)}}function Dd(t){for(let r=ju(t);null!==r;r=Uu(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ji(o,s,o.template,s[8])}else s[5]>0&&Dd(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Jt(n[r],t);gu(i)&&i[5]>0&&Dd(i)}}function FA(t,e){const n=Jt(e,t),r=n[1];(function LA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),uo(r,n,n[8])}function tc(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ed(t){for(;t;){t[2]|=64;const e=ro(t);if(gx(t)&&!e)return t;t=e}return null}function Vy(t){!function wd(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Lu(n),i=r[1];mA(i,r,i.template,n)}}(t[8])}function xd(t,e,n){bu(0),e(t,n)}const BA=(()=>Promise.resolve(null))();function By(t){return t[7]||(t[7]=[])}function jy(t){return t.cleanup||(t.cleanup=[])}function $y(t,e){const n=t[9],r=n?n.get(co,null):null;r&&r.handleError(e)}function Hy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function dr(t,e,n){const r=xa(e,t);!function Om(t,e,n){Be(t)?t.setValue(e,n):e.textContent=n}(t[Z],r,n)}function nc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Zl(i,a):2==s&&(r=Zl(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Md=new ie("INJECTOR",-1);class Gy{get(e,n=Qs){if(n===Qs){const r=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw r.name="NullInjectorError",r}return n}}const Td=new ie("Set Injector scope."),fo={},$A={};let Ad;function zy(){return void 0===Ad&&(Ad=new Gy),Ad}function qy(t,e=null,n=null,r){const i=Wy(t,e,n,r);return i._resolveInjectorDefTypes(),i}function Wy(t,e=null,n=null,r){return new HA(t,n,e||zy(),r)}class HA{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&jn(n,a=>this.processProvider(a,e,n)),jn([e],a=>this.processInjectorType(a,[],s)),this.records.set(Md,Yi(void 0,this));const o=this.records.get(Td);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ve(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Qs,r=W.Default){this.assertNotDestroyed();const i=vm(this),s=Er(void 0);try{if(!(r&W.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function QA(t){return"function"==typeof t||"object"==typeof t&&t instanceof ie}(e)&&eu(e);a=c&&this.injectableDefInScope(c)?Yi(Id(e),fo):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&W.Self?zy():this.parent).get(e,n=r&W.Optional&&n===Qs?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Ua]=o[Ua]||[]).unshift(ve(e)),i)throw o;return function wM(t,e,n,r){const i=t[Ua];throw e[ym]&&i.unshift(e[ym]),t.message=function SM(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=ve(e);if(Array.isArray(e))i=e.map(ve).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ve(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vM,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ua]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Er(s),vm(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ve(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processInjectorType(e,n,r){if(!(e=re(e)))return!1;let i=xg(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=xg(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{jn(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:f,providers:h}=u[d];jn(h,p=>this.processProvider(p,f,h||Ee))}}this.injectorDefTypes.add(o);const c=Qr(o)||(()=>new o);this.records.set(o,Yi(c,fo));const l=i.providers;if(null!=l&&!a){const u=e;jn(l,d=>this.processProvider(d,u,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Qi(e=re(e))?e:re(e&&e.provide);const s=function zA(t,e,n){return Jy(t)?Yi(void 0,t.useValue):Yi(Ky(t),fo)}(e);if(Qi(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Yi(void 0,fo,!0),o.factory=()=>Ou(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===fo&&(n.value=$A,n.value=n.factory()),"object"==typeof n.value&&n.value&&function YA(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=re(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Id(t){const e=eu(t),n=null!==e?e.factory:Qr(t);if(null!==n)return n;if(t instanceof ie)throw new ge(204,!1);if(t instanceof Function)return function GA(t){const e=t.length;if(e>0)throw function Ys(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new ge(204,!1);const n=function nx(t){const e=t&&(t[_a]||t[Mg]);if(e){const n=function rx(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ge(204,!1)}function Ky(t,e,n){let r;if(Qi(t)){const i=re(t);return Qr(i)||Id(i)}if(Jy(t))r=()=>re(t.useValue);else if(function WA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ou(t.deps||[]));else if(function qA(t){return!(!t||!t.useExisting)}(t))r=()=>j(re(t.useExisting));else{const i=re(t&&(t.useClass||t.provide));if(!function JA(t){return!!t.deps}(t))return Qr(i)||Id(i);r=()=>new i(...Ou(t.deps))}return r}function Yi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Jy(t){return null!==t&&"object"==typeof t&&CM in t}function Qi(t){return"function"==typeof t}let Pt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return qy({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return qy({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=Qs,t.NULL=new Gy,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>j(Md)}),t.__NG_ELEMENT_ID__=-1,t})();function sI(t,e){Ia(Lu(t)[1],Xe())}function Ce(t){let e=function av(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Dn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ge(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Pd(t.inputs),o.declaredInputs=Pd(t.declaredInputs),o.outputs=Pd(t.outputs);const a=i.hostBindings;a&&lI(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&aI(t,c),l&&cI(t,l),Ql(t.inputs,i.inputs),Ql(t.declaredInputs,i.declaredInputs),Ql(t.outputs,i.outputs),Dn(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ce&&(n=!1)}}e=Object.getPrototypeOf(e)}!function oI(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oa(i.hostAttrs,n=Oa(n,i.hostAttrs))}}(r)}function Pd(t){return t===Ai?{}:t===Ee?[]:t}function aI(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function cI(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function lI(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let rc=null;function Zi(){if(!rc){const t=be.Symbol;if(t&&t.iterator)rc=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(rc=r)}}}return rc}function ho(t){return!!function Od(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zi()in t)}function St(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function zn(t,e,n,r){const i=T();return St(i,Ni(),e)&&(me(),Hn(Pe(),i,t,e,n,r)),zn}function M(t,e=W.Default){const n=T();return null===n?j(t,e):am(Xe(),n,re(t),e)}function Bd(){throw new Error("invalid")}function ni(t,e,n){const r=T();return St(r,Ni(),e)&&function Zt(t,e,n,r,i,s,o,a){const c=Kt(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Hy(t,n,u,r,i),wa(e)&&function bA(t,e){const n=Jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function CA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Be(s)?s.setProperty(c,r,i):wu(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}(me(),Pe(),r,t,e,r[Z],n,!1),ni}function jd(t,e,n,r,i){const o=i?"class":"style";Hy(t,n,e.inputs[o],o,r)}function Me(t,e,n,r){const i=T(),s=me(),o=20+t,a=i[Z],c=i[o]=Hu(a,e,function Wx(){return Y.lFrame.currentNamespace}()),l=s.firstCreatePass?function VI(t,e,n,r,i,s,o){const a=e.consts,l=Wi(e,t,2,i,Mr(a,s));return Cd(e,n,l,Mr(a,o)),null!==l.attrs&&nc(l,l.attrs,!1),null!==l.mergedAttrs&&nc(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,n,r):s.data[o];Bn(l,!0);const u=l.mergedAttrs;null!==u&&Pa(a,c,u);const d=l.classes;null!==d&&Yu(a,c,d);const f=l.styles;return null!==f&&Wm(a,c,f),64!=(64&l.flags)&&za(s,i,c,l),0===function Rx(){return Y.lFrame.elementDepthCount}()&&wt(c,i),function kx(){Y.lFrame.elementDepthCount++}(),Sa(l)&&(vd(s,i,l),function Sy(t,e,n){if(au(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,l,i)),null!==r&&_d(i,l),Me}function je(){let t=Xe();yu()?function vu(){Y.lFrame.isParent=!1}():(t=t.parent,Bn(t,!1));const e=t;!function Px(){Y.lFrame.elementDepthCount--}();const n=me();return n.firstCreatePass&&(Ia(n,t),au(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Zx(t){return 0!=(16&t.flags)}(e)&&jd(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Xx(t){return 0!=(32&t.flags)}(e)&&jd(n,e,T(),e.stylesWithoutHost,!1),je}function xt(t,e,n,r){return Me(t,e,n,r),je(),xt}function go(t){return!!t&&"function"==typeof t.then}const Hd=function Iv(t){return!!t&&"function"==typeof t.subscribe};function yt(t,e,n,r){const i=T(),s=me(),o=Xe();return function kv(t,e,n,r,i,s,o,a){const c=Sa(r),u=t.firstCreatePass&&jy(t),d=e[8],f=By(e);let h=!0;if(3&r.type||a){const E=Kt(r,e),S=a?a(E):E,D=f.length,V=a?k=>a(ze(k[r.index])):r.index;if(Be(n)){let k=null;if(!a&&c&&(k=function jI(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,h=!1;else{s=Gd(r,e,d,s,!1);const ue=n.listen(S,i,s);f.push(s,ue),u&&u.push(i,V,D,D+1)}}else s=Gd(r,e,d,s,!0),S.addEventListener(i,s,o),f.push(s),u&&u.push(i,V,D,o)}else s=Gd(r,e,d,s,!1);const p=r.outputs;let v;if(h&&null!==p&&(v=p[i])){const E=v.length;if(E)for(let S=0;S<E;S+=2){const st=e[v[S]][v[S+1]].subscribe(s),Vt=f.length;f.push(s,st),u&&u.push(i,r.index,Vt,-(Vt+1))}}}(s,i,i[Z],o,t,e,!!n,r),yt}function Pv(t,e,n,r){try{return!1!==n(r)}catch(i){return $y(t,i),!1}}function Gd(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Jt(t.index,e):e;0==(32&e[2])&&Ed(a);let c=Pv(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)c=Pv(e,0,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function Ov(t=1){return function Ux(t){return(Y.lFrame.contextLView=function $x(t,e){for(;t>0;)e=e[15],t--;return e}(t,Y.lFrame.contextLView))[8]}(t)}function Gv(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?wn(s):ur(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];qI(t[a],e)&&(c=!0,t[a+1]=r?cd(u):od(u)),a=r?wn(u):ur(u)}c&&(t[n+1]=r?od(s):cd(s))}function qI(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Hi(t,e)>=0}function oc(t,e){return function xn(t,e,n,r){const i=T(),s=me(),o=function lr(t){const e=Y.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Xv(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Rt()],o=function Zv(t,e){return e>=t.expandoStartIndex}(t,n);(function r_(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function t1(t,e,n,r){const i=function Cu(t){const e=Y.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=mo(n=qd(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=qd(i,t,e,n,r),null===s){let c=function n1(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ur(r))return t[wn(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=qd(null,t,e,c[1],r),c=mo(c,e.attrs,r),function r1(t,e,n,r){t[wn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function i1(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=mo(r,t[s].hostAttrs,n);return mo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function GI(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wn(o),c=ur(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const d=n;u=d[1],(null===u||Hi(d,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const f=wn(t[a+1]);t[r+1]=Qa(f,a),0!==f&&(t[f+1]=ad(t[f+1],r)),t[a+1]=function rA(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Qa(a,0),0!==a&&(t[a+1]=ad(t[a+1],r)),a=r;else t[r+1]=Qa(c,0),0===a?a=r:t[c+1]=ad(t[c+1],r),c=r;l&&(t[r+1]=od(t[r+1])),Gv(t,u,r,!0),Gv(t,u,r,!1),function zI(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Hi(s,e)>=0&&(n[r+1]=cd(n[r+1]))}(e,u,t,r,s),o=Qa(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Q&&St(i,o,e)&&function t_(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];ac(function gy(t){return 1==(1&t)}(l)?n_(c,e,n,i,ur(l),o):void 0)||(ac(s)||function py(t){return 2==(2&t)}(l)&&(s=n_(c,null,n,i,a,o)),function iT(t,e,n,r,i){const s=Be(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Qt.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Qt.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,xa(Rt(),n),i,s))}(s,s.data[Rt()],i,i[Z],t,i[o+1]=function a1(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ve(Rr(t)))),t}(e,n),r,o)}(t,e,null,!0),oc}function qd(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=mo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function mo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yt(t,o,!!n||e[++s]))}return void 0===t?null:t}function n_(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===Q&&(f=d?Ee:void 0);let h=d?Ru(f,r):u===r?f:void 0;if(l&&!ac(h)&&(h=Ru(c,r)),ac(h)&&(a=h,o))return a;const p=t[i+1];i=o?wn(p):ur(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Ru(c,r))}return a}function ac(t){return void 0!==t}function Xt(t,e=""){const n=T(),r=me(),i=t+20,s=r.firstCreatePass?Wi(r,i,1,e,null):r.data[i],o=n[i]=function $u(t,e){return Be(t)?t.createText(e):t.createTextNode(e)}(n[Z],e);za(r,n,o,s),Bn(s,!1)}function cc(t,e,n){const r=T(),i=function es(t,e,n,r){return St(t,Ni(),n)?e+K(n)+r:Q}(r,t,e,n);return i!==Q&&dr(r,Rt(),i),cc}const lc="en-US";let x_=lc;function Jd(t,e,n,r,i){if(t=re(t),Array.isArray(t))for(let s=0;s<t.length;s++)Jd(t[s],e,n,r,i);else{const s=me(),o=T();let a=Qi(t)?t:re(t.provide),c=Ky(t);const l=Xe(),u=1048575&l.providerIndexes,d=l.directiveStart,f=l.providerIndexes>>20;if(Qi(t)||!t.multi){const h=new Hs(c,i,M),p=Qd(a,e,i?u:u+f,d);-1===p?(La(zs(l,o),s,a),Yd(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=Qd(a,e,u+f,d),p=Qd(a,e,u,u+f),v=h>=0&&n[h],E=p>=0&&n[p];if(i&&!E||!i&&!v){La(zs(l,o),s,a);const S=function xR(t,e,n,r,i){const s=new Hs(t,n,M);return s.multi=[],s.index=e,s.componentProviders=0,Y_(s,i,r&&!n),s}(i?SR:wR,n.length,i,r,c);!i&&E&&(n[p].providerFactory=S),Yd(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(S),o.push(S)}else Yd(s,t,h>-1?h:p,Y_(n[i?p:h],c,!i&&r));!i&&r&&E&&n[p].componentProviders++}}}function Yd(t,e,n,r){const i=Qi(e),s=function KA(t){return!!t.useClass}(e);if(i||s){const c=(s?re(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Y_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Qd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wR(t,e,n,r){return Zd(this.multi,[])}function SR(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=qs(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Zd(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Zd(i,s);return s}function Zd(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Re(t,e=[]){return n=>{n.providersResolver=(r,i)=>function ER(t,e,n){const r=me();if(r.firstCreatePass){const i=Dn(t);Jd(n,r.data,r.blueprint,i,!0),Jd(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Q_{}class AR{resolveComponentFactory(e){throw function TR(t){const e=Error(`No component factory found for ${ve(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let bo=(()=>{class t{}return t.NULL=new AR,t})();function IR(){return fs(Xe(),T())}function fs(t,e){return new en(Kt(t,e))}let en=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=IR,t})();class X_{}let fr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function PR(){const t=T(),n=Jt(Xe().index,t);return function kR(t){return t[Z]}(Vn(n)?n:t)}(),t})(),OR=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>null}),t})();class Do{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const NR=new Do("13.3.12"),Xd={};function pc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(ze(s)),bn(s))for(let a=10;a<s.length;a++){const c=s[a],l=c[1].firstChild;null!==l&&pc(c[1],c,l,r)}const o=n.type;if(8&o)pc(t,e,n.child,r);else if(32&o){const a=Bu(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=zm(e,n);if(Array.isArray(a))r.push(...a);else{const c=ro(e[16]);pc(c[1],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Eo{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return pc(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(bn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Gu(e,r),Ba(n,r))}this._attachedToViewContainer=!1}Fm(this._lView[1],this._lView)}onDestroy(e){!function Ay(t,e,n,r){const i=By(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&jy(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Ed(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Sd(t,e,n){const r=e[10];r.begin&&r.begin();try{Ji(t,e,t.template,n)}catch(i){throw $y(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KM(t,e){io(t,e,e[Z],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ge(902,"");this._appRef=e}}class FR extends Eo{constructor(e){super(e),this._view=e}detectChanges(){Vy(this._view)}checkNoChanges(){}get context(){return null}}class e0 extends bo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=mt(e);return new ef(n,this.ngModule)}}function t0(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class ef extends Q_{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function tA(t){return t.map(eA).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return t0(this.componentDef.inputs)}get outputs(){return t0(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function VR(t,e){return{get:(n,r,i)=>{const s=t.get(n,Xd,i);return s!==Xd||r===Xd?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(X_,Vg),a=s.get(OR,null),c=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=r?function Ty(t,e,n){if(Be(t))return t.selectRootElement(e,n===Ln.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,r,this.componentDef.encapsulation):Hu(o.createRenderer(null,this.componentDef),l,function LR(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),d=this.componentDef.onPush?576:528,f=function ov(t,e){return{components:[],scheduler:t||$T,clean:BA,playerHandler:e||null,flags:0}}(),h=ec(0,null,null,1,0,null,null,null,null,null),p=lo(null,h,f,d,null,null,o,c,a,s);let v,E;Ta(p);try{const S=function iv(t,e,n,r,i,s){const o=n[1];n[20]=t;const c=Wi(o,20,2,"#host",null),l=c.mergedAttrs=e.hostAttrs;null!==l&&(nc(c,l,!0),null!==t&&(Pa(i,t,l),null!==c.classes&&Yu(i,t,c.classes),null!==c.styles&&Wm(i,t,c.styles)));const u=r.createRenderer(t,e),d=lo(n,xy(e),null,e.onPush?64:16,n[20],c,r,u,s||null,null);return o.firstCreatePass&&(La(zs(c,n),o,e.type),Oy(o,c),Ny(c,n.length,1)),tc(n,d),n[20]=d}(u,this.componentDef,p,o,c);if(u)if(r)Pa(c,u,["ng-version",NR.full]);else{const{attrs:D,classes:V}=function nA(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!En(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);D&&Pa(c,u,D),V&&V.length>0&&Yu(c,u,V.join(" "))}if(E=pu(h,20),void 0!==n){const D=E.projection=[];for(let V=0;V<this.ngContentSelectors.length;V++){const k=n[V];D.push(null!=k?Array.from(k):null)}}v=function sv(t,e,n,r,i){const s=n[1],o=function EA(t,e,n){const r=Xe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Fy(t,r,e,Ki(t,e,1,null),n));const i=qs(e,t,r.directiveStart,r);wt(i,e);const s=Kt(r,e);return s&&wt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(c=>c(o,e)),e.contentQueries){const c=Xe();e.contentQueries(1,o,c.directiveStart)}const a=Xe();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Tr(a.index),ky(n[1],a,0,a.directiveStart,a.directiveEnd,e),Py(e,o)),o}(S,this.componentDef,p,f,[sI]),uo(h,p,null)}finally{Aa()}return new jR(this.componentType,v,fs(E,p),p,E)}}class jR extends class MR{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new FR(i),this.componentType=e}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class hr{}class n0{}const hs=new Map;class o0 extends hr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new e0(this);const r=on(e);this._bootstrapComponents=$n(r.bootstrap),this._r3Injector=Wy(e,n,[{provide:hr,useValue:this},{provide:bo,useValue:this.componentFactoryResolver}],ve(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Pt.THROW_IF_NOT_FOUND,r=W.Default){return e===Pt||e===hr||e===Md?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class tf extends n0{constructor(e){super(),this.moduleType=e,null!==on(e)&&function $R(t){const e=new Set;!function n(r){const i=on(r,!0),s=i.id;null!==s&&(function r0(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${ve(e)} vs ${ve(e.name)}`)}(s,hs.get(s),r),hs.set(s,r));const o=$n(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new o0(this.moduleType,e)}}function nf(t){return e=>{setTimeout(t,void 0,e)}}const $e=class ok extends rr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,c=n||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),c=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(c=nf(c),a&&(a=nf(a)),l&&(l=nf(l)));const u=super.subscribe({next:a,error:c,complete:l});return e instanceof Ae&&e.add(u),u}};Symbol;let pr=(()=>{class t{}return t.__NG_ELEMENT_ID__=uk,t})();const ck=pr,lk=class extends ck{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=lo(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),uo(n,r,e),new Eo(r)}};function uk(){return function gc(t,e){return 4&t.type?new lk(e,t,fs(t,e)):null}(Xe(),T())}let Tn=(()=>{class t{}return t.__NG_ELEMENT_ID__=dk,t})();function dk(){return function p0(t,e){let n;const r=e[t.index];if(bn(r))n=r;else{let i;if(8&t.type)i=ze(r);else{const s=e[Z];i=s.createComment("");const o=Kt(t,e);Zr(s,Ga(s,o),i,function tT(t,e){return Be(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=Ly(r,e,i,t),tc(e,n)}return new f0(n,t,e)}(Xe(),T())}const fk=Tn,f0=class extends fk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fs(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fa(this._hostTNode,this._hostLView);if(nm(e)){const n=Li(e,this._hostLView),r=Fi(e);return new Vi(n[1].data[r+8],n)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=h0(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function Js(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const c=o?e:new ef(mt(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const f=(o?l:this.parentInjector).get(hr,null);f&&(s=f)}const u=c.create(l,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,n){const r=e._lView,i=r[1];if(function Ix(t){return bn(t[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],f=new f0(d,d[6],d[3]);f.detach(f.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function YM(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],fm(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function QM(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Wu(s,o),c=r[Z],l=Ga(c,o[7]);return null!==l&&function WM(t,e,n,r,i,s){r[0]=i,r[6]=e,io(t,r,n,1,i,s)}(i,o[6],c,r,l,a),e.attachToViewContainerRef(),fm(sf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=h0(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Gu(this._lContainer,n);r&&(Ba(sf(this._lContainer),n),Fm(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Gu(this._lContainer,n);return r&&null!=Ba(sf(this._lContainer),n)?new Eo(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function h0(t){return t[8]}function sf(t){return t[8]||(t[8]=[])}function vc(...t){}const _f=new ie("Application Initializer");let Cf=(()=>{class t{constructor(n){this.appInits=n,this.resolve=vc,this.reject=vc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(go(s))n.push(s);else if(Hd(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(j(_f,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Mo=new ie("AppId",{providedIn:"root",factory:function F0(){return`${bf()}${bf()}${bf()}`}});function bf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const L0=new ie("Platform Initializer"),Df=new ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),V0=new ie("appBootstrapListener");let Bk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Or=new ie("LocaleId",{providedIn:"root",factory:()=>DM(Or,W.Optional|W.SkipSelf)||function jk(){return"undefined"!=typeof $localize&&$localize.locale||lc}()});class $k{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let B0=(()=>{class t{compileModuleSync(n){return new tf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=$n(on(n).declarations).reduce((o,a)=>{const c=mt(a);return c&&o.push(new ef(c)),o},[]);return new $k(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Gk=(()=>Promise.resolve(0))();function Ef(t){"undefined"==typeof Zone?Gk.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class vt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function zk(){let t=be.requestAnimationFrame,e=be.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Kk(t){const e=()=>{!function Wk(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sf(t),t.isCheckStableRunning=!0,wf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return j0(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),U0(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return j0(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),U0(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Sf(t),wf(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(vt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,qk,vc,vc);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const qk={};function wf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Sf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function j0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function U0(t){t._nesting--,wf(t)}class Jk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let xf=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vt.assertNotInAngularZone(),Ef(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ef(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(j(vt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Yk=(()=>{class t{constructor(){this._applications=new Map,Mf.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Mf.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class Qk{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Mf=new Qk,ii=null;const $0=new ie("AllowMultipleToken"),H0=new ie("PlatformOnDestroy");class G0{constructor(e,n){this.name=e,this.token=n}}function z0(t,e,n=[]){const r=`Platform: ${e}`,i=new ie(r);return(s=[])=>{let o=Tf();if(!o||o.injector.get($0,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function tP(t){if(ii&&!ii.get($0,!1))throw new ge(400,"");ii=t;const e=t.get(q0),n=t.get(L0,null);n&&n.forEach(r=>r())}(function rP(t=[],e){return Pt.create({name:e,providers:[{provide:Td,useValue:"platform"},{provide:H0,useValue:()=>ii=null},...t]})}(a,r))}return function nP(t){const e=Tf();if(!e)throw new ge(401,"");return e}()}}function Tf(){var t;return null!==(t=null==ii?void 0:ii.get(q0))&&void 0!==t?t:null}let q0=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function iP(t,e){let n;return n="noop"===t?new Jk:("zone.js"===t?void 0:t)||new vt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),c=[{provide:vt,useValue:a}];return a.run(()=>{const l=Pt.create({providers:c,parent:this.injector,name:n.moduleType.name}),u=n.create(l),d=u.injector.get(co,null);if(!d)throw new ge(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:h=>{d.handleError(h)}});u.onDestroy(()=>{If(this._modules,u),f.unsubscribe()})}),function sP(t,e,n){try{const r=n();return go(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const f=u.injector.get(Cf);return f.runInitializers(),f.donePromise.then(()=>(function k1(t){zt(t,"Expected localeId to be defined"),"string"==typeof t&&(x_=t.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Or,lc)||lc),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const i=W0({},r);return function Xk(t,e,n){const r=new tf(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Af);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ge(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(H0,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(j(Pt))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function W0(t,e){return Array.isArray(e)?e.reduce(W0,t):Object.assign(Object.assign({},t),e)}let Af=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Le(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),a=new Le(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{vt.assertNotInAngularZone(),Ef(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{vt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function JS(...t){const e=Ls(t),n=function $S(t,e){return"number"==typeof Jl(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?vn(r[0]):Fs(n)(pt(r,e)):sr}(o,a.pipe(function YS(t={}){const{connector:e=(()=>new rr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{null==a||a.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const v=o;h(),null==v||v.unsubscribe()};return ht((v,E)=>{l++,!d&&!u&&f();const S=c=null!=c?c:e();E.add(()=>{l--,0===l&&!d&&!u&&(a=Yl(p,i))}),S.subscribe(E),!o&&l>0&&(o=new Ns({next:D=>S.next(D),error:D=>{d=!0,f(),a=Yl(h,n,D),S.error(D)},complete:()=>{u=!0,f(),a=Yl(h,r),S.complete()}}),vn(v).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new ge(405,"");let i;i=n instanceof Q_?n:this._injector.get(bo).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function eP(t){return t.isBoundToModule}(i)?void 0:this._injector.get(hr),a=i.create(Pt.NULL,[],r||i.selector,s),c=a.location.nativeElement,l=a.injector.get(xf,null),u=l&&a.injector.get(Yk);return l&&u&&u.registerApplication(c,l),a.onDestroy(()=>{this.detachView(a.hostView),If(this.components,a),u&&u.unregisterApplication(c)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ge(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;If(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(V0,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(j(vt),j(Pt),j(co),j(Cf))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function If(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let J0=!0,_c=(()=>{class t{}return t.__NG_ELEMENT_ID__=cP,t})();function cP(t){return function lP(t,e,n){if(wa(t)&&!n){const r=Jt(t.index,e);return new Eo(r,r)}return 47&t.type?new Eo(e[16],e):null}(Xe(),T(),16==(16&t))}class eC{constructor(){}supports(e){return ho(e)}create(e){return new gP(e)}}const pP=(t,e)=>e;class gP{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||pP}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<nC(r,i,s)?n:r,a=nC(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ho(e))throw new ge(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function gI(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Zi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new mP(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new tC),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class mP{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yP{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class tC{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new yP,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nC(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function iC(){return new Dc([new eC])}let Dc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||iC()),deps:[[t,new eo,new Ir]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ge(901,"")}}return t.\u0275prov=J({token:t,providedIn:"root",factory:iC}),t})();const DP=z0(null,"core",[]);let EP=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(j(Af))},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({}),t})(),Ec=null;function Kn(){return Ec}const tn=new ie("DocumentToken");let oi=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return function MP(){return j(oC)}()},providedIn:"platform"}),t})();const TP=new ie("Location Initialized");let oC=(()=>{class t extends oi{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kn().getBaseHref(this._doc)}onPopState(n){const r=Kn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Kn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){aC()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){aC()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(j(tn))},t.\u0275prov=J({token:t,factory:function(){return function AP(){return new oC(j(tn))}()},providedIn:"platform"}),t})();function aC(){return!!window.history.pushState}function Nf(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function cC(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function gr(t){return t&&"?"!==t[0]?"?"+t:t}let gs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return function IP(t){const e=j(tn).location;return new lC(j(oi),e&&e.origin||"")}()},providedIn:"root"}),t})();const Ff=new ie("appBaseHref");let lC=(()=>{class t extends gs{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Nf(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+gr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+gr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+gr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(j(oi),j(Ff,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),RP=(()=>{class t extends gs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Nf(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+gr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+gr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(j(oi),j(Ff,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Lf=(()=>{class t{constructor(n,r){this._subject=new $e,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=cC(uC(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gr(r))}normalize(n){return t.stripTrailingSlash(function PP(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,uC(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=gr,t.joinWithSlash=Nf,t.stripTrailingSlash=cC,t.\u0275fac=function(n){return new(n||t)(j(gs),j(oi))},t.\u0275prov=J({token:t,factory:function(){return function kP(){return new Lf(j(gs),j(oi))}()},providedIn:"root"}),t})();function uC(t){return t.replace(/\/index.html$/,"")}function _C(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class vO{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let CC=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new vO(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),bC(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{bC(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(M(Tn),M(pr),M(Dc))},t.\u0275dir=G({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function bC(t,e){t.context.$implicit=e.item}let WO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({}),t})();let QO=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>new ZO(j(tn),window)}),t})();class ZO{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function XO(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xC(this.window.history)||xC(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function xC(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class MC{}class Qf extends class eN extends class xP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function SP(t){Ec||(Ec=t)}(new Qf)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function tN(){return Ro=Ro||document.querySelector("base"),Ro?Ro.getAttribute("href"):null}();return null==n?null:function nN(t){Pc=Pc||document.createElement("a"),Pc.setAttribute("href",t);const e=Pc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ro=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _C(document.cookie,e)}}let Pc,Ro=null;const TC=new ie("TRANSITION_ID"),iN=[{provide:_f,useFactory:function rN(t,e,n){return()=>{n.get(Cf).donePromise.then(()=>{const r=Kn(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[TC,tn,Pt],multi:!0}];class Zf{static init(){!function Zk(t){Mf=t}(new Zf)}addToWindow(e){be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},be.getAllAngularTestabilities=()=>e.getAllTestabilities(),be.getAllAngularRootElements=()=>e.getAllRootElements(),be.frameworkStabilizers||(be.frameworkStabilizers=[]),be.frameworkStabilizers.push(r=>{const i=be.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Kn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let sN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const Oc=new ie("EventManagerPlugins");let Nc=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(j(Oc),j(vt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class AC{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Kn().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let IC=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),ko=(()=>{class t extends IC{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(RC),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(RC))}}return t.\u0275fac=function(n){return new(n||t)(j(tn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function RC(t){Kn().remove(t)}const Xf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eh=/%COMP%/g;function Fc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Fc(t,i,n):(i=i.replace(eh,t),n.push(i))}return n}function OC(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let th=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new nh(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Ln.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new dN(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Ln.ShadowDom:return new fN(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Fc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(j(Nc),j(ko),j(Mo))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class nh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Xf[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Xf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Xf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qt.DashCase|Qt.Important)?e.style.setProperty(n,r,i&Qt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,OC(r)):this.eventManager.addEventListener(e,n,OC(r))}}class dN extends nh{constructor(e,n,r,i){super(e),this.component=r;const s=Fc(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function cN(t){return"_ngcontent-%COMP%".replace(eh,t)}(i+"-"+r.id),this.hostAttr=function lN(t){return"_nghost-%COMP%".replace(eh,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class fN extends nh{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Fc(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let hN=(()=>{class t extends AC{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(j(tn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const FC=["alt","control","meta","shift"],gN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yN=(()=>{class t extends AC{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(FC.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function vN(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&LC.hasOwnProperty(e)&&(e=LC[e]))}return gN[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),FC.forEach(s=>{s!=i&&mN[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(j(tn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const DN=z0(DP,"browser",[{provide:Df,useValue:"browser"},{provide:L0,useValue:function _N(){Qf.makeCurrent(),Zf.init()},multi:!0},{provide:tn,useFactory:function bN(){return function xx(t){fu=t}(document),document},deps:[]}]),EN=[{provide:Td,useValue:"root"},{provide:co,useFactory:function CN(){return new co},deps:[]},{provide:Oc,useClass:hN,multi:!0,deps:[tn,vt,Df]},{provide:Oc,useClass:yN,multi:!0,deps:[tn]},{provide:th,useClass:th,deps:[Nc,ko,Mo]},{provide:X_,useExisting:th},{provide:IC,useExisting:ko},{provide:ko,useClass:ko,deps:[tn]},{provide:xf,useClass:xf,deps:[vt]},{provide:Nc,useClass:Nc,deps:[Oc,vt]},{provide:MC,useClass:sN,deps:[]}];let wN=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Mo,useValue:n.appId},{provide:TC,useExisting:Mo},iN]}}}return t.\u0275fac=function(n){return new(n||t)(j(t,12))},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({providers:EN,imports:[WO,EP]}),t})();function X(...t){return pt(t,Ls(t))}"undefined"!=typeof window&&window;class Rn extends rr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:NN}=Array,{getPrototypeOf:FN,prototype:LN,keys:VN}=Object;function jC(t){if(1===t.length){const e=t[0];if(NN(e))return{args:e,keys:null};if(function BN(t){return t&&"object"==typeof t&&FN(t)===LN}(e)){const n=VN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:jN}=Array;function UC(t){return ye(e=>function UN(t,e){return jN(e)?t(...e):t(e)}(t,e))}function $C(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function HC(t,e,n){t?ir(n,t,e):e()}function Lc(t,e){const n=ne(t)?t:()=>t,r=i=>i.error(n());return new Le(e?i=>e.schedule(r,0,i):r)}const Vc=yn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ih(...t){return function GN(){return Fs(1)}()(pt(t,Ls(t)))}function GC(t){return new Le(e=>{vn(t()).subscribe(e)})}function zC(){return ht((t,e)=>{let n=null;t._refCount++;const r=ot(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class zN extends Le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;const n=this.getSubject();e.add(this.source.subscribe(ot(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return zC()(this)}}function ai(t,e){return ht((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ot(r,c=>{null==i||i.unsubscribe();let l=0;const u=s++;vn(t(c,u)).subscribe(i=ot(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function sh(t){return t<=0?()=>sr:ht((e,n)=>{let r=0;e.subscribe(ot(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function WN(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(ot(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function qC(t,e){return ht(WN(t,e,arguments.length>=2,!0))}function ci(t,e){return ht((n,r)=>{let i=0;n.subscribe(ot(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Fr(t){return ht((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ot(n,void 0,void 0,o=>{s=vn(t(o,Fr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function ms(t,e){return ne(e)?at(t,e,1):at(t,1)}function oh(t){return t<=0?()=>sr:ht((e,n)=>{let r=[];e.subscribe(ot(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function WC(t=KN){return ht((e,n)=>{let r=!1;e.subscribe(ot(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function KN(){return new Vc}function KC(t){return ht((e,n)=>{let r=!1;e.subscribe(ot(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ys(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ci((i,s)=>t(i,s,r)):qr,sh(1),n?KC(e):WC(()=>new Vc))}function _t(t,e,n){const r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?ht((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ot(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):qr}class yr{constructor(e,n){this.id=e,this.url=n}}class ah extends yr{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Po extends yr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class JC extends yr{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class QN extends yr{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ZN extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XN extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eF extends yr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tF extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nF extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YC{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QC{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rF{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iF{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sF{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oF{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZC{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ce="primary";class aF{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function vs(t){return new aF(t)}const XC="ngNavigationCancelingError";function ch(t){const e=Error("NavigationCancelingError: "+t);return e[XC]=!0,e}function lF(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Jn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!eb(t[i],e[i]))return!1;return!0}function eb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function tb(t){return Array.prototype.concat.apply([],t)}function nb(t){return t.length>0?t[t.length-1]:null}function Ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Yn(t){return Hd(t)?t:go(t)?pt(Promise.resolve(t)):X(t)}const fF={exact:function sb(t,e,n){if(!ui(t.segments,e.segments)||!Bc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!sb(t.children[r],e.children[r],n))return!1;return!0},subset:ob},rb={exact:function hF(t,e){return Jn(t,e)},subset:function pF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eb(t[n],e[n]))},ignored:()=>!0};function ib(t,e,n){return fF[n.paths](t.root,e.root,n.matrixParams)&&rb[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function ob(t,e,n){return ab(t,e,e.segments,n)}function ab(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ui(i,n)||e.hasChildren()||!Bc(i,n,r))}if(t.segments.length===n.length){if(!ui(t.segments,n)||!Bc(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!ob(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ui(t.segments,i)&&Bc(t.segments,i,r)&&t.children[ce])&&ab(t.children[ce],e,s,r)}}function Bc(t,e,n){return e.every((r,i)=>rb[n](t[i].parameters,r.parameters))}class li{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vs(this.queryParams)),this._queryParamMap}toString(){return yF.serialize(this)}}class de{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ct(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}}class Oo{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=vs(this.parameters)),this._parameterMap}toString(){return fb(this)}}function ui(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class cb{}class lb{parse(e){const n=new xF(e);return new li(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${No(e.root,!0)}`,r=function CF(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Uc(n)}=${Uc(i)}`).join("&"):`${Uc(n)}=${Uc(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function vF(t){return encodeURI(t)}(e.fragment)}`:""}`}}const yF=new lb;function jc(t){return t.segments.map(e=>fb(e)).join("/")}function No(t,e){if(!t.hasChildren())return jc(t);if(e){const n=t.children[ce]?No(t.children[ce],!1):"",r=[];return Ct(t.children,(i,s)=>{s!==ce&&r.push(`${s}:${No(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function mF(t,e){let n=[];return Ct(t.children,(r,i)=>{i===ce&&(n=n.concat(e(r,i)))}),Ct(t.children,(r,i)=>{i!==ce&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ce?[No(t.children[ce],!1)]:[`${i}:${No(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ce]?`${jc(t)}/${n[0]}`:`${jc(t)}/(${n.join("//")})`}}function ub(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uc(t){return ub(t).replace(/%3B/gi,";")}function lh(t){return ub(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $c(t){return decodeURIComponent(t)}function db(t){return $c(t.replace(/\+/g,"%20"))}function fb(t){return`${lh(t.path)}${function _F(t){return Object.keys(t).map(e=>`;${lh(e)}=${lh(t[e])}`).join("")}(t.parameters)}`}const bF=/^[^\/()?;=#]+/;function Hc(t){const e=t.match(bF);return e?e[0]:""}const DF=/^[^=?&#]+/,wF=/^[^&#]+/;class xF{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new de(e,n)),r}parseSegment(){const e=Hc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Oo($c(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Hc(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Hc(this.remaining);i&&(r=i,this.capture(r))}e[$c(n)]=$c(r)}parseQueryParam(e){const n=function EF(t){const e=t.match(DF);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function SF(t){const e=t.match(wF);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=db(n),s=db(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ce]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class hb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=uh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=uh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=dh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dh(e,this._root).map(n=>n.value)}}function uh(t,e){if(t===e.value)return e;for(const n of e.children){const r=uh(t,n);if(r)return r}return null}function dh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=dh(t,n);if(r.length)return r.unshift(e),r}return[]}class vr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function _s(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class pb extends hb{constructor(e,n){super(e),this.snapshot=n,fh(this,e)}toString(){return this.snapshot.toString()}}function gb(t,e){const n=function MF(t,e){const o=new Gc([],{},{},"",{},ce,e,null,t.root,-1,{});return new yb("",new vr(o,[]))}(t,e),r=new Rn([new Oo("",{})]),i=new Rn({}),s=new Rn({}),o=new Rn({}),a=new Rn(""),c=new di(r,i,o,a,s,ce,e,n.root);return c.snapshot=n.root,new pb(new vr(c,[]),n)}class di{constructor(e,n,r,i,s,o,a,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>vs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>vs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mb(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function TF(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gc{constructor(e,n,r,i,s,o,a,c,l,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yb extends hb{constructor(e,n){super(n),this.url=e,fh(this,n)}toString(){return vb(this._root)}}function fh(t,e){e.value._routerState=t,e.children.forEach(n=>fh(t,n))}function vb(t){const e=t.children.length>0?` { ${t.children.map(vb).join(", ")} } `:"";return`${t.value}${e}`}function hh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Jn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Jn(e.params,n.params)||t.params.next(n.params),function uF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Jn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Jn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ph(t,e){const n=Jn(t.params,e.params)&&function gF(t,e){return ui(t,e)&&t.every((n,r)=>Jn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ph(t.parent,e.parent))}function Fo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function IF(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fo(t,r,i);return Fo(t,r)})}(t,e,n);return new vr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Fo(t,a)),o}}const r=function RF(t){return new di(new Rn(t.url),new Rn(t.params),new Rn(t.queryParams),new Rn(t.fragment),new Rn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Fo(t,s));return new vr(r,i)}}function zc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Lo(t){return"object"==typeof t&&null!=t&&t.outlets}function gh(t,e,n,r,i){let s={};if(r&&Ct(r,(a,c)=>{s[c]=Array.isArray(a)?a.map(l=>`${l}`):`${a}`}),t===e)return new li(n,s,i);const o=_b(t,e,n);return new li(o,s,i)}function _b(t,e,n){const r={};return Ct(t.children,(i,s)=>{r[s]=i===e?n:_b(i,e,n)}),new de(t.segments,r)}class Cb{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zc(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Lo);if(i&&i!==nb(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mh{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function bb(t,e,n){if(t||(t=new de([],{})),0===t.segments.length&&t.hasChildren())return qc(t,e,n);const r=function LF(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Lo(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!Eb(c,l,o))return s;r+=2}else{if(!Eb(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new de(t.segments.slice(r.pathIndex),t.children),qc(s,0,i)}return r.match&&0===i.length?new de(t.segments,{}):r.match&&!t.hasChildren()?yh(t,e,n):r.match?qc(t,0,i):yh(t,e,n)}function qc(t,e,n){if(0===n.length)return new de(t.segments,{});{const r=function FF(t){return Lo(t[0])?t[0].outlets:{[ce]:t}}(n),i={};return Ct(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=bb(t.children[o],e,s))}),Ct(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(t.segments,i)}}function yh(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Lo(s)){const c=VF(s.outlets);return new de(r,c)}if(0===i&&zc(n[0])){r.push(new Oo(t.segments[e].path,Db(n[0]))),i++;continue}const o=Lo(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&zc(a)?(r.push(new Oo(o,Db(a))),i+=2):(r.push(new Oo(o,{})),i++)}return new de(r,{})}function VF(t){const e={};return Ct(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=yh(new de([],{}),0,n))}),e}function Db(t){const e={};return Ct(t,(n,r)=>e[r]=`${n}`),e}function Eb(t,e,n){return t==n.path&&Jn(e,n.parameters)}class jF{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=_s(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ct(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_s(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_s(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=_s(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new oF(s.value.snapshot))}),e.children.length&&this.forwardEvent(new iF(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(hh(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hh(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function UF(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),c=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=c,o.outlet&&o.outlet.activateWith(i,c),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class vh{constructor(e,n){this.routes=e,this.module=n}}function Lr(t){return"function"==typeof t}function fi(t){return t instanceof li}const Vo=Symbol("INITIAL_VALUE");function Bo(){return ai(t=>function $N(...t){const e=Ls(t),n=Cg(t),{args:r,keys:i}=jC(t);if(0===r.length)return pt([],e);const s=new Le(function HN(t,e,n=qr){return r=>{HC(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)HC(e,()=>{const l=pt(t[c],e);let u=!1;l.subscribe(ot(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>$C(i,o):qr));return n?s.pipe(UC(n)):s}(t.map(e=>e.pipe(sh(1),function qN(...t){const e=Ls(t);return ht((n,r)=>{(e?ih(t,n,e):ih(t,n)).subscribe(r)})}(Vo)))).pipe(qC((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Vo?i:(s===Vo&&(r=!0),r||!1!==s&&o!==n.length-1&&!fi(s)?i:s),e)},Vo),ci(e=>e!==Vo),ye(e=>fi(e)?e:!0===e),sh(1)))}class WF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jo,this.attachRef=null}}class jo{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new WF,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let _h=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.name=s||ce,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,c=new KF(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(M(jo),M(Tn),M(bo),function Ws(t){return function rM(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(em(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Xe(),t)}("name"),M(_c))},t.\u0275dir=G({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class KF{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===di?this.route:e===jo?this.childContexts:this.parent.get(e,n)}}let wb=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Sr({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&xt(0,"router-outlet")},directives:[_h],encapsulation:2}),t})();function Sb(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];JF(r,YF(e,r))}}function JF(t,e){t.children&&Sb(t.children,e)}function YF(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ch(t){const e=t.children&&t.children.map(Ch),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=wb),n}function pn(t){return t.outlet||ce}function xb(t,e){const n=t.filter(r=>pn(r)===e);return n.push(...t.filter(r=>pn(r)!==e)),n}const Mb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wc(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Mb):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||lF)(n,t,e);if(!s)return Object.assign({},Mb);const o={};Ct(s.posParams,(c,l)=>{o[l]=c.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Kc(t,e,n,r,i="corrected"){if(n.length>0&&function XF(t,e,n){return n.some(r=>Jc(t,e,r)&&pn(r)!==ce)}(t,n,r)){const o=new de(e,function ZF(t,e,n,r){const i={};i[ce]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&pn(s)!==ce){const o=new de([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[pn(s)]=o}return i}(t,e,r,new de(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function eL(t,e,n){return n.some(r=>Jc(t,e,r))}(t,n,r)){const o=new de(t.segments,function QF(t,e,n,r,i,s){const o={};for(const a of r)if(Jc(t,n,a)&&!i[pn(a)]){const c=new de([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[pn(a)]=c}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new de(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Jc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Tb(t,e,n,r){return!!(pn(t)===r||r!==ce&&Jc(e,n,t))&&("**"===t.path||Wc(e,t,n).matched)}function Ab(t,e,n){return 0===e.length&&!t.children[n]}class Yc{constructor(e){this.segmentGroup=e||null}}class Ib{constructor(e){this.urlTree=e}}function Uo(t){return Lc(new Yc(t))}function Rb(t){return Lc(new Ib(t))}class iL{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(hr)}apply(){const e=Kc(this.urlTree.root,[],[],this.config).segmentGroup,n=new de(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ce).pipe(ye(s=>this.createUrlTree(bh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fr(s=>{if(s instanceof Ib)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Yc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ce).pipe(ye(i=>this.createUrlTree(bh(i),e.queryParams,e.fragment))).pipe(Fr(i=>{throw i instanceof Yc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new de([],{[ce]:e}):e;return new li(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ye(s=>new de([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pt(i).pipe(ms(s=>{const o=r.children[s],a=xb(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ye(c=>({segment:c,outlet:s})))}),qC((s,o)=>(s[o.outlet]=o.segment,s),{}),function JN(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ci((i,s)=>t(i,s,r)):qr,oh(1),n?KC(e):WC(()=>new Vc))}())}expandSegment(e,n,r,i,s,o){return pt(r).pipe(ms(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Fr(l=>{if(l instanceof Yc)return X(null);throw l}))),ys(a=>!!a),Fr((a,c)=>{if(a instanceof Vc||"EmptyError"===a.name)return Ab(n,i,s)?X(new de([],{})):Uo(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return Tb(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Uo(n):Uo(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Rb(s):this.lineralizeSegments(r,s).pipe(at(o=>{const a=new de(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=Wc(n,i,s);if(!a)return Uo(n);const d=this.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?Rb(d):this.lineralizeSegments(i,d).pipe(at(f=>this.expandSegment(e,n,r,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?X(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ye(d=>(r._loadedConfig=d,new de(i,{})))):X(new de(i,{}));const{matched:o,consumedSegments:a,remainingSegments:c}=Wc(n,r,i);return o?this.getChildConfig(e,r,i).pipe(at(u=>{const d=u.module,f=u.routes,{segmentGroup:h,slicedSegments:p}=Kc(n,a,c,f),v=new de(h.segments,h.children);if(0===p.length&&v.hasChildren())return this.expandChildren(d,f,v).pipe(ye(V=>new de(a,V)));if(0===f.length&&0===p.length)return X(new de(a,{}));const E=pn(r)===s;return this.expandSegment(d,v,f,p,E?ce:s,!0).pipe(ye(D=>new de(a.concat(D.segments),D.children)))})):Uo(n)}getChildConfig(e,n,r){return n.children?X(new vh(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?X(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(at(i=>i?this.configLoader.load(e.injector,n).pipe(ye(s=>(n._loadedConfig=s,s))):function nL(t){return Lc(ch(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):X(new vh([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?X(i.map(o=>{const a=e.get(o);let c;if(function HF(t){return t&&Lr(t.canLoad)}(a))c=a.canLoad(n,r);else{if(!Lr(a))throw new Error("Invalid CanLoad guard");c=a(n,r)}return Yn(c)})).pipe(Bo(),_t(o=>{if(!fi(o))return;const a=ch(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ye(o=>!0===o)):X(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[ce])return Lc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[ce]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new li(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ct(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ct(n.children,(a,c)=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function bh(t){const e={};for(const r of Object.keys(t.children)){const s=bh(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function sL(t){if(1===t.numberOfChildren&&t.children[ce]){const e=t.children[ce];return new de(t.segments.concat(e.segments),e.children)}return t}(new de(t.segments,e))}class kb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qc{constructor(e,n){this.component=e,this.route=n}}function aL(t,e,n){const r=t._root;return $o(r,e?e._root:null,n,[r.value])}function Zc(t,e,n){const r=function lL(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function $o(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=_s(e);return t.children.forEach(o=>{(function uL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function dL(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ui(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ui(t.url,e.url)||!Jn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ph(t,e)||!Jn(t.queryParams,e.queryParams);default:return!ph(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new kb(r)):(s.data=o.data,s._resolvedData=o._resolvedData),$o(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qc(a.outlet.component,o))}else o&&Ho(e,a,i),i.canActivateChecks.push(new kb(r)),$o(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ct(s,(o,a)=>Ho(o,n.getContext(a),i)),i}function Ho(t,e,n){const r=_s(t),i=t.value;Ct(r,(s,o)=>{Ho(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Qc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class CL{}function Pb(t){return new Le(e=>e.error(t))}class DL{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Kc(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ce);if(null===n)return null;const r=new Gc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ce,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vr(r,n),s=new yb(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=mb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=xb(e,s),c=this.processSegmentGroup(a,o,s);if(null===c)return null;r.push(...c)}const i=Ob(r);return function EL(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return Ab(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!Tb(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const h=r.length>0?nb(r).parameters:{};s=new Gc(r,h,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lb(e),pn(e),e.component,e,Nb(n),Fb(n)+r.length,Vb(e))}else{const h=Wc(n,e,r);if(!h.matched)return null;o=h.consumedSegments,a=h.remainingSegments,s=new Gc(o,h.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lb(e),pn(e),e.component,e,Nb(n),Fb(n)+o.length,Vb(e))}const c=function wL(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=Kc(n,o,a,c.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const h=this.processChildren(c,l);return null===h?null:[new vr(s,h)]}if(0===c.length&&0===u.length)return[new vr(s,[])];const d=pn(e)===i,f=this.processSegment(c,l,u,d?ce:i);return null===f?null:[new vr(s,f)]}}function SL(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ob(t){const e=[],n=new Set;for(const r of t){if(!SL(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Ob(r.children);e.push(new vr(r.value,i))}return e.filter(r=>!n.has(r))}function Nb(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Fb(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Lb(t){return t.data||{}}function Vb(t){return t.resolve||{}}function Bb(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Dh(t){return ai(e=>{const n=t(e);return n?pt(n).pipe(ye(()=>e)):X(e)})}class PL extends class kL{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Eh=new ie("ROUTES");class jb{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new vh(tb(o.injector.get(Eh,void 0,W.Self|W.Optional)).map(Ch),o)}),Fr(s=>{throw n._loader$=void 0,s}));return n._loader$=new zN(i,()=>new rr).pipe(zC()),n._loader$}loadModuleFactory(e){return Yn(e()).pipe(at(n=>n instanceof n0?X(n):pt(this.compiler.compileModuleAsync(n))))}}class NL{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function FL(t){throw t}function LL(t,e,n){return e.parse("/")}function Ub(t,e){return X(null)}const VL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lt=(()=>{class t{constructor(n,r,i,s,o,a,c){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rr,this.errorHandler=FL,this.malformedUriErrorHandler=LL,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ub,afterPreactivation:Ub},this.urlHandlingStrategy=new NL,this.routeReuseStrategy=new PL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(hr),this.console=o.get(Bk);const d=o.get(vt);this.isNgZoneEnabled=d instanceof vt&&vt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function dF(){return new li(new de([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new jb(o,a,f=>this.triggerEvent(new YC(f)),f=>this.triggerEvent(new QC(f))),this.routerState=gb(this.currentUrlTree,this.rootComponentType),this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ci(i=>0!==i.id),ye(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ai(i=>{let s=!1,o=!1;return X(i).pipe(_t(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ai(a=>{const c=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return $b(a.source)&&(this.browserUrlTree=a.extractedUrl),X(a).pipe(ai(d=>{const f=this.transitions.getValue();return r.next(new ah(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions.getValue()?sr:Promise.resolve(d)}),function oL(t,e,n,r){return ai(i=>function rL(t,e,n,r,i){return new iL(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ye(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),_t(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function xL(t,e,n,r,i){return at(s=>function bL(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new DL(t,e,n,r,i,s).recognize();return null===o?Pb(new CL):X(o)}catch(o){return Pb(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(ye(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),_t(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const h=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(h,d)}this.browserUrlTree=d.urlAfterRedirects}const f=new ZN(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(f)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:f,extractedUrl:h,source:p,restoredState:v,extras:E}=a,S=new ah(f,this.serializeUrl(h),p,v);r.next(S);const D=gb(h,this.rootComponentType).snapshot;return X(Object.assign(Object.assign({},a),{targetSnapshot:D,urlAfterRedirects:h,extras:Object.assign(Object.assign({},E),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),sr}),Dh(a=>{const{targetSnapshot:c,id:l,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:h}}=a;return this.hooks.beforePreactivation(c,{navigationId:l,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!h})}),_t(a=>{const c=new XN(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),ye(a=>Object.assign(Object.assign({},a),{guards:aL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function fL(t,e){return at(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?X(Object.assign(Object.assign({},n),{guardsResult:!0})):function hL(t,e,n,r){return pt(t).pipe(at(i=>function _L(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?X(s.map(a=>{const c=Zc(a,e,i);let l;if(function qF(t){return t&&Lr(t.canDeactivate)}(c))l=Yn(c.canDeactivate(t,e,n,r));else{if(!Lr(c))throw new Error("Invalid CanDeactivate guard");l=Yn(c(t,e,n,r))}return l.pipe(ys())})).pipe(Bo()):X(!0)}(i.component,i.route,n,e,r)),ys(i=>!0!==i,!0))}(o,r,i,t).pipe(at(a=>a&&function $F(t){return"boolean"==typeof t}(a)?function pL(t,e,n,r){return pt(e).pipe(ms(i=>ih(function mL(t,e){return null!==t&&e&&e(new rF(t)),X(!0)}(i.route.parent,r),function gL(t,e){return null!==t&&e&&e(new sF(t)),X(!0)}(i.route,r),function vL(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function cL(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>GC(()=>X(o.guards.map(c=>{const l=Zc(c,o.node,n);let u;if(function zF(t){return t&&Lr(t.canActivateChild)}(l))u=Yn(l.canActivateChild(r,t));else{if(!Lr(l))throw new Error("Invalid CanActivateChild guard");u=Yn(l(r,t))}return u.pipe(ys())})).pipe(Bo())));return X(s).pipe(Bo())}(t,i.path,n),function yL(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(s=>GC(()=>{const o=Zc(s,e,n);let a;if(function GF(t){return t&&Lr(t.canActivate)}(o))a=Yn(o.canActivate(e,t));else{if(!Lr(o))throw new Error("Invalid CanActivate guard");a=Yn(o(e,t))}return a.pipe(ys())}));return X(i).pipe(Bo())}(t,i.route,n))),ys(i=>!0!==i,!0))}(r,s,t,e):X(a)),ye(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),_t(a=>{if(fi(a.guardsResult)){const l=ch(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const c=new eF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),ci(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Dh(a=>{if(a.guards.canActivateChecks.length)return X(a).pipe(_t(c=>{const l=new tF(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}),ai(c=>{let l=!1;return X(c).pipe(function ML(t,e){return at(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let s=0;return pt(i).pipe(ms(o=>function TL(t,e,n,r){return function AL(t,e,n,r){const i=Bb(t);if(0===i.length)return X({});const s={};return pt(i).pipe(at(o=>function IL(t,e,n,r){const i=Zc(t,e,r);return Yn(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(_t(a=>{s[o]=a}))),oh(1),at(()=>Bb(s).length===i.length?X(s):sr))}(t._resolve,t,e,r).pipe(ye(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),mb(t,n).resolve),null)))}(o.route,r,t,e)),_t(()=>s++),oh(1),at(o=>s===i.length?X(n):sr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),_t({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),_t(c=>{const l=new nF(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}))}),Dh(a=>{const{targetSnapshot:c,id:l,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:h}}=a;return this.hooks.afterPreactivation(c,{navigationId:l,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!h})}),ye(a=>{const c=function AF(t,e,n){const r=Fo(t,e._root,n?n._root:void 0);return new pb(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:c})}),_t(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ye(r=>(new jF(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),_t({next(){s=!0},complete(){s=!0}}),function YN(t){return ht((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Fr(a=>{if(o=!0,function cF(t){return t&&t[XC]}(a)){const c=fi(a.url);c||(this.navigated=!0,this.restoreHistory(i,!0));const l=new JC(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),c?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$b(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new QN(i.id,this.serializeUrl(i.extractedUrl),a);r.next(c);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return sr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const c=Object.assign({},o);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){Sb(n),this.config=n.map(Ch),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=i||this.routerState.root,u=c?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function kF(t,e,n,r,i){if(0===n.length)return gh(e.root,e.root,e.root,r,i);const s=function PF(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Cb(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ct(s.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Cb(n,e,r)}(n);if(s.toRoot())return gh(e.root,e.root,new de([],{}),r,i);const o=function OF(t,e,n){if(t.isAbsolute)return new mh(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new mh(s,s===e.root,0)}const r=zc(t.commands[0])?0:1;return function NF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new mh(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?qc(o.segmentGroup,o.index,s.commands):bb(o.segmentGroup,o.index,s.commands);return gh(e.root,o.segmentGroup,a,r,i)}(l,this.currentUrlTree,n,d,null!=u?u:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=fi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function jL(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},VL):!1===r?Object.assign({},BL):r,fi(n))return ib(this.currentUrlTree,n,i);const s=this.parseUrl(n);return ib(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Po(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,c;if(this.disposed)return Promise.resolve(!1);let l,u,d;o?(l=o.resolve,u=o.reject,d=o.promise):d=new Promise((p,v)=>{l=p,u=v});const f=++this.navigationId;let h;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),h=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):h=0,this.setTransition({id:f,targetPageId:h,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:l,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new JC(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Bd()},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function $b(t){return"imperative"!==t}let Go=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new rr,this.subscription=n.events.subscribe(s=>{s instanceof Po&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Cs(this.skipLocationChange),replaceUrl:Cs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cs(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(M(lt),M(di),M(gs))},t.\u0275dir=G({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&yt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&zn("target",r.target)("href",r.href,rd)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[cn]}),t})();function Cs(t){return""===t||!!t}class Hb{}class Gb{preload(e,n){return X(null)}}let zb=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new jb(i,r,c=>n.triggerEvent(new YC(c)),c=>n.triggerEvent(new QC(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(ci(n=>n instanceof Po),ms(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(hr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return pt(i).pipe(Fs(),ye(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?X(r._loadedConfig):this.loader.load(n.injector,r)).pipe(at(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(j(lt),j(B0),j(Pt),j(Hb))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Sh=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ah?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Po&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ZC&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new ZC(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Bd()},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const hi=new ie("ROUTER_CONFIGURATION"),qb=new ie("ROUTER_FORROOT_GUARD"),GL=[Lf,{provide:cb,useClass:lb},{provide:lt,useFactory:function JL(t,e,n,r,i,s,o={},a,c){const l=new lt(null,t,e,n,r,i,tb(s));return a&&(l.urlHandlingStrategy=a),c&&(l.routeReuseStrategy=c),function YL(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(u=>{var d,f;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(f=console.groupEnd)||void 0===f||f.call(console)}),l},deps:[cb,jo,Lf,Pt,B0,Eh,hi,[class OL{},new Ir],[class RL{},new Ir]]},jo,{provide:di,useFactory:function QL(t){return t.routerState.root},deps:[lt]},zb,Gb,class HL{preload(e,n){return n().pipe(Fr(()=>X(null)))}},{provide:hi,useValue:{enableTracing:!1}}];function zL(){return new G0("Router",lt)}let Wb=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[GL,Kb(n),{provide:qb,useFactory:KL,deps:[[lt,new Ir,new eo]]},{provide:hi,useValue:r||{}},{provide:gs,useFactory:WL,deps:[oi,[new $a(Ff),new Ir],hi]},{provide:Sh,useFactory:qL,deps:[lt,QO,hi]},{provide:Hb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Gb},{provide:G0,multi:!0,useFactory:zL},[xh,{provide:_f,multi:!0,useFactory:ZL,deps:[xh]},{provide:Jb,useFactory:XL,deps:[xh]},{provide:V0,multi:!0,useExisting:Jb}]]}}static forChild(n){return{ngModule:t,providers:[Kb(n)]}}}return t.\u0275fac=function(n){return new(n||t)(j(qb,8),j(lt,8))},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({}),t})();function qL(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Sh(t,e,n)}function WL(t,e,n={}){return n.useHash?new RP(t,e):new lC(t,e)}function KL(t){return"guarded"}function Kb(t){return[{provide:cM,multi:!0,useValue:t},{provide:Eh,multi:!0,useValue:t}]}let xh=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new rr}appInitializer(){return this.injector.get(TP,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(lt),o=this.injector.get(hi);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?X(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(hi),i=this.injector.get(zb),s=this.injector.get(Sh),o=this.injector.get(lt),a=this.injector.get(Af);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(j(Pt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function ZL(t){return t.appInitializer.bind(t)}function XL(t){return t.bootstrapListener.bind(t)}const Jb=new ie("Router Initializer");let Yb=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(M(fr),M(en))},t.\u0275dir=G({type:t}),t})(),pi=(()=>{class t extends Yb{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function Et(t){return wr(()=>{const e=t.prototype.constructor,n=e[ar]||Tu(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ar]||Tu(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275dir=G({type:t,features:[Ce]}),t})();const Qn=new ie("NgValueAccessor"),rV={provide:Qn,useExisting:we(()=>zo),multi:!0},sV=new ie("CompositionEventMode");let zo=(()=>{class t extends Yb{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iV(){const t=Kn()?Kn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(M(fr),M(en),M(sV,8))},t.\u0275dir=G({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&yt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Re([rV]),Ce]}),t})();function Vr(t){return null==t||0===t.length}function Zb(t){return null!=t&&"number"==typeof t.length}const Mt=new ie("NgValidators"),Br=new ie("NgAsyncValidators"),oV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qo{static min(e){return function Xb(t){return e=>{if(Vr(e.value)||Vr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function eD(t){return e=>{if(Vr(e.value)||Vr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function tD(t){return Vr(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function nD(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function rD(t){return Vr(t.value)||oV.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function iD(t){return e=>Vr(e.value)||!Zb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function sD(t){return e=>Zb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function oD(t){if(!t)return Xc;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Vr(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return fD(e)}static composeAsync(e){return hD(e)}}function Xc(t){return null}function aD(t){return null!=t}function cD(t){const e=go(t)?pt(t):t;return Hd(e),e}function lD(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function uD(t,e){return e.map(n=>n(t))}function dD(t){return t.map(e=>function aV(t){return!t.validate}(e)?e:n=>e.validate(n))}function fD(t){if(!t)return null;const e=t.filter(aD);return 0==e.length?null:function(n){return lD(uD(n,e))}}function Mh(t){return null!=t?fD(dD(t)):null}function hD(t){if(!t)return null;const e=t.filter(aD);return 0==e.length?null:function(n){return function tV(...t){const e=Cg(t),{args:n,keys:r}=jC(t),i=new Le(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;vn(n[u]).subscribe(ot(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?$C(r,a):a),s.complete())}))}});return e?i.pipe(UC(e)):i}(uD(n,e).map(cD)).pipe(ye(lD))}}function Th(t){return null!=t?hD(dD(t)):null}function pD(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function gD(t){return t._rawValidators}function mD(t){return t._rawAsyncValidators}function Ah(t){return t?Array.isArray(t)?t:[t]:[]}function el(t,e){return Array.isArray(t)?t.includes(e):t===e}function yD(t,e){const n=Ah(e);return Ah(t).forEach(i=>{el(n,i)||n.push(i)}),n}function vD(t,e){return Ah(e).filter(n=>!el(t,n))}class _D{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Th(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class jr extends _D{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ft extends _D{get formDirective(){return null}get path(){return null}}class CD{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Ih=(()=>{class t extends CD{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(M(jr,2))},t.\u0275dir=G({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&oc("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Ce]}),t})(),Rh=(()=>{class t extends CD{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(M(Ft,10))},t.\u0275dir=G({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&oc("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Ce]}),t})();function Wo(t,e){Oh(t,e),e.valueAccessor.writeValue(t.value),function gV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&DD(t,e)})}(t,e),function yV(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function mV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&DD(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function pV(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function rl(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function il(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Oh(t,e){const n=gD(t);null!==e.validator?t.setValidators(pD(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=mD(t);null!==e.asyncValidator?t.setAsyncValidators(pD(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();il(e._rawValidators,i),il(e._rawAsyncValidators,i)}function sl(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=gD(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=mD(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return il(e._rawValidators,r),il(e._rawAsyncValidators,r),n}function DD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Lh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ko="VALID",ol="INVALID",bs="PENDING",Jo="DISABLED";function Bh(t){return(al(t)?t.validators:t)||null}function xD(t){return Array.isArray(t)?Mh(t):t||null}function jh(t,e){return(al(e)?e.asyncValidators:t)||null}function MD(t){return Array.isArray(t)?Th(t):t||null}function al(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const TD=t=>t instanceof gi,Uh=t=>t instanceof Yo;function AD(t){return TD(t)?t.value:t.getRawValue()}function ID(t,e){const n=Uh(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new ge(1e3,"");if(!r[e])throw new ge(1001,"")}function RD(t,e){Uh(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new ge(1002,"")})}class $h{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=xD(this._rawValidators),this._composedAsyncValidatorFn=MD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ko}get invalid(){return this.status===ol}get pending(){return this.status==bs}get disabled(){return this.status===Jo}get enabled(){return this.status!==Jo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=xD(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=MD(e)}addValidators(e){this.setValidators(yD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vD(e,this._rawAsyncValidators))}hasValidator(e){return el(this._rawValidators,e)}hasAsyncValidator(e){return el(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jo,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ko,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ko||this.status===bs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jo:Ko}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator=!0;const n=cD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function bV(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=Uh(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(t=>t instanceof EV)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?Jo:this.errors?ol:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(ol)?ol:Ko}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){al(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gi extends $h{constructor(e=null,n,r){super(Bh(n),jh(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),al(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Yo extends $h{constructor(e,n,r){super(Bh(n),jh(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){RD(this,e),Object.keys(e).forEach(r=>{ID(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=AD(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class EV extends $h{constructor(e,n,r){super(Bh(n),jh(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){RD(this,e),e.forEach((r,i)=>{ID(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>AD(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Gh=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=G({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),LD=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({}),t})();const zh=new ie("NgModelWithFormControlWarning"),kV={provide:Ft,useExisting:we(()=>Zo)};let Zo=(()=>{class t extends Ft{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new $e,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Wo(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){rl(n.control||null,n,!1),Lh(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function SD(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(rl(r||null,n),TD(i)&&(Wo(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function ED(t,e){Oh(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function vV(t,e){return sl(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Oh(this.form,this),this._oldForm&&sl(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(M(Mt,10),M(Br,10))},t.\u0275dir=G({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&yt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Re([kV]),Ce,cn]}),t})();const NV={provide:jr,useExisting:we(()=>cl)};let cl=(()=>{class t extends jr{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new $e,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Fh(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===zo?n=s:function CV(t){return Object.getPrototypeOf(t.constructor)===pi}(s)?r=s:i=s}),i||r||n||null}(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function Nh(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function nl(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(M(Ft,13),M(Mt,10),M(Br,10),M(Qn,10),M(zh,8))},t.\u0275dir=G({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Re([NV]),Ce,cn]}),t})(),XD=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({imports:[[LD]]}),t})(),QV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({imports:[XD]}),t})(),ZV=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zh,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({imports:[XD]}),t})();class eE{}class tE{}class nn{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof nn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new nn;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof nn?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class XV{encodeKey(e){return nE(e)}encodeValue(e){return nE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const t2=/%(\d[a-f0-9])/gi,n2={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function nE(t){return encodeURIComponent(t).replace(t2,(e,n)=>{var r;return null!==(r=n2[n])&&void 0!==r?r:e})}function rE(t){return`${t}`}class Ur{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new XV,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function e2(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ur({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(rE(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(rE(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class r2{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function iE(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function sE(t){return"undefined"!=typeof Blob&&t instanceof Blob}function oE(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Xo{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function i2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new nn),this.context||(this.context=new r2),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Ur,this.urlWithParams=n}serializeBody(){return null===this.body?null:iE(this.body)||sE(this.body)||oE(this.body)||function s2(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ur?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oE(this.body)?null:sE(this.body)?this.body.type||null:iE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ur?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,u=e.params||this.params;const d=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new Xo(r,i,o,{params:u,headers:l,context:d,reportProgress:c,responseType:s,withCredentials:a})}}var Je=(()=>((Je=Je||{})[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je))();class Qh{constructor(e,n=200,r="OK"){this.headers=e.headers||new nn,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Zh extends Qh{constructor(e={}){super(e),this.type=Je.ResponseHeader}clone(e={}){return new Zh({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ll extends Qh{constructor(e={}){super(e),this.type=Je.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ll({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class aE extends Qh{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Xh(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ep=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Xo)s=n;else{let c,l;c=i.headers instanceof nn?i.headers:new nn(i.headers),i.params&&(l=i.params instanceof Ur?i.params:new Ur({fromObject:i.params})),s=new Xo(n,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=X(s).pipe(ms(c=>this.handler.handle(c)));if(n instanceof Xo||"events"===i.observe)return o;const a=o.pipe(ci(c=>c instanceof ll));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ye(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ye(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ye(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(ye(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Ur).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Xh(i,r))}post(n,r,i={}){return this.request("POST",n,Xh(i,r))}put(n,r,i={}){return this.request("PUT",n,Xh(i,r))}}return t.\u0275fac=function(n){return new(n||t)(j(eE))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class cE{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const tp=new ie("HTTP_INTERCEPTORS");let o2=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const a2=/^\)\]\}',?\n/;let lE=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Le(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((h,p)=>i.setRequestHeader(h,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const h=n.detectContentTypeHeader();null!==h&&i.setRequestHeader("Content-Type",h)}if(n.responseType){const h=n.responseType.toLowerCase();i.responseType="json"!==h?h:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const h=i.statusText||"OK",p=new nn(i.getAllResponseHeaders()),v=function c2(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new Zh({headers:p,status:i.status,statusText:h,url:v}),o},c=()=>{let{headers:h,status:p,statusText:v,url:E}=a(),S=null;204!==p&&(S=void 0===i.response?i.responseText:i.response),0===p&&(p=S?200:0);let D=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof S){const V=S;S=S.replace(a2,"");try{S=""!==S?JSON.parse(S):null}catch(k){S=V,D&&(D=!1,S={error:k,text:S})}}D?(r.next(new ll({body:S,headers:h,status:p,statusText:v,url:E||void 0})),r.complete()):r.error(new aE({error:S,headers:h,status:p,statusText:v,url:E||void 0}))},l=h=>{const{url:p}=a(),v=new aE({error:h,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(v)};let u=!1;const d=h=>{u||(r.next(a()),u=!0);let p={type:Je.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},f=h=>{let p={type:Je.UploadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),r.next(p)};return i.addEventListener("load",c),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",f)),i.send(s),r.next({type:Je.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",c),i.removeEventListener("timeout",l),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(j(MC))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const np=new ie("XSRF_COOKIE_NAME"),rp=new ie("XSRF_HEADER_NAME");class uE{}let l2=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_C(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(j(tn),j(Df),j(np))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),ip=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(j(uE),j(rp))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),u2=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(tp,[]);this.chain=r.reduceRight((i,s)=>new cE(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(j(tE),j(Pt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),d2=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ip,useClass:o2}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:np,useValue:n.cookieName}:[],n.headerName?{provide:rp,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({providers:[ip,{provide:tp,useExisting:ip,multi:!0},{provide:uE,useClass:l2},{provide:np,useValue:"XSRF-TOKEN"},{provide:rp,useValue:"X-XSRF-TOKEN"}]}),t})(),f2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({providers:[ep,{provide:eE,useClass:u2},lE,{provide:tE,useExisting:lE}],imports:[[d2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();let ul=(()=>{class t{constructor(n,r){this.http=n,this.router=r,this.userUrl="https://video-call-nodejs-seven.vercel.app/user"}register(n){const r=new nn({"Content-Type":"application/json"});return this.http.post(this.userUrl+"/register",Object.assign({},n),{headers:r,observe:"response"}).pipe(_t(i=>(console.log(i,"resData"),i.body)))}login(n){const r=new nn({"Content-Type":"application/json"});return this.http.post(this.userUrl+"/login",Object.assign({},n),{headers:r,observe:"response"}).pipe(_t(i=>{console.log(i);let s=i.body,a=s.userData.token;localStorage.setItem("user_Data",JSON.stringify(null==s?void 0:s.userData)),localStorage.setItem("token",JSON.stringify(a))}))}createNewRoom(){const n=new nn({"Content-Type":"application/json"});return this.http.post(this.userUrl+"/create-room",{headers:n,observe:"response"}).pipe(_t(r=>{console.log(r)}))}getRooms(){const n=new nn({"Content-Type":"application/json"});return this.http.get(this.userUrl+"/rooms",{headers:n,observe:"response"}).pipe(_t(r=>{console.log(r)}))}}return t.\u0275fac=function(n){return new(n||t)(j(ep),j(lt))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h2=(()=>{class t{constructor(n,r){this.userService=n,this.router=r}ngOnInit(){this.loginForm=new Yo({email:new gi("",qo.required),password:new gi("",qo.required)})}onSubmitForm(n){this.userService.login(this.loginForm.value).subscribe(i=>{i.body.success&&this.router.navigate(["/home"])})}}return t.\u0275fac=function(n){return new(n||t)(M(ul),M(lt))},t.\u0275cmp=Sr({type:t,selectors:[["app-login"]],decls:14,vars:2,consts:[[1,"main-container"],[3,"formGroup","ngSubmit"],[1,"outer-container"],["for","email"],["type","email","formControlName","email",1,"input-text"],["for","password"],["type","password","formControlName","password",1,"input-text"],[1,"button-container"],["type","submit",1,"submit-button"],[3,"routerLink"]],template:function(n,r){1&n&&(Me(0,"div",0)(1,"form",1),yt("ngSubmit",function(){return r.onSubmitForm(r.loginForm)}),Me(2,"div",2)(3,"label",3),Xt(4,"Email"),je(),xt(5,"input",4),Me(6,"label",5),Xt(7,"Password"),je(),xt(8,"input",6),Me(9,"div",7)(10,"button",8),Xt(11,"Login"),je(),Me(12,"a",9),Xt(13,"Register"),je()()()()()),2&n&&(ei(1),ni("formGroup",r.loginForm),ei(11),ni("routerLink","register"))},directives:[Gh,Rh,Zo,zo,Ih,cl,Go],styles:[".outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;justify-content:center;width:300px;height:300px;background-color:#faebd7;padding:0 5%;position:absolute;top:30%;left:35%}.input-text[_ngcontent-%COMP%]{width:100%;height:16px;padding:5px;border:1px solid blueviolet}.button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:10%}.submit-button[_ngcontent-%COMP%]{width:60%;padding:5px;border:1px solid blue;background-color:beige}.main-container[_ngcontent-%COMP%]{width:100%;height:100vh;background-color:#a9a9a9}"]}),t})(),p2=(()=>{class t{constructor(n,r){this.userService=n,this.router=r}ngOnInit(){this.registerForm=new Yo({name:new gi("",qo.required),email:new gi("",qo.required),password:new gi("",qo.required)})}onSubmitForm(n){this.userService.register(this.registerForm.value).subscribe(i=>{i.body.success&&this.router.navigate([""])})}}return t.\u0275fac=function(n){return new(n||t)(M(ul),M(lt))},t.\u0275cmp=Sr({type:t,selectors:[["app-register"]],decls:17,vars:2,consts:[[1,"main-container"],[3,"formGroup","ngSubmit"],[1,"outer-container"],["for","email"],["type","email","formControlName","email",1,"input-text"],["for","name"],["type","text","formControlName","name",1,"input-text"],["for","password"],["type","password","formControlName","password",1,"input-text"],[1,"button-container"],["type","submit",1,"submit-button"],[3,"routerLink"]],template:function(n,r){1&n&&(Me(0,"div",0)(1,"form",1),yt("ngSubmit",function(){return r.onSubmitForm(r.registerForm)}),Me(2,"div",2)(3,"label",3),Xt(4,"Email"),je(),xt(5,"input",4),Me(6,"label",5),Xt(7,"Name"),je(),xt(8,"input",6),Me(9,"label",7),Xt(10,"Password"),je(),xt(11,"input",8),Me(12,"div",9)(13,"button",10),Xt(14,"Register"),je(),Me(15,"a",11),Xt(16,"Login"),je()()()()()),2&n&&(ei(1),ni("formGroup",r.registerForm),ei(14),ni("routerLink",""))},directives:[Gh,Rh,Zo,zo,Ih,cl,Go],styles:[".outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;justify-content:center;width:300px;height:300px;background-color:#faebd7;padding:0 5%;position:absolute;top:30%;left:35%}.input-text[_ngcontent-%COMP%]{width:100%;height:16px;padding:5px;border:1px solid blueviolet}.button-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;margin-top:10%}.submit-button[_ngcontent-%COMP%]{width:60%;padding:5px;border:1px solid blue;background-color:beige}.main-container[_ngcontent-%COMP%]{width:100%;height:100vh;background-color:#a9a9a9}"]}),t})();const Zn=Object.create(null);Zn.open="0",Zn.close="1",Zn.ping="2",Zn.pong="3",Zn.message="4",Zn.upgrade="5",Zn.noop="6";const dl=Object.create(null);Object.keys(Zn).forEach(t=>{dl[Zn[t]]=t});const sp={type:"error",data:"parser error"},fE="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),hE="function"==typeof ArrayBuffer,pE=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,op=({type:t,data:e},n,r)=>fE&&e instanceof Blob?n?r(e):gE(e,r):hE&&(e instanceof ArrayBuffer||pE(e))?n?r(e):gE(new Blob([e]),r):r(Zn[t]+(e||"")),gE=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function mE(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let ap;const Ds="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ea="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<Ds.length;t++)ea[Ds.charCodeAt(t)]=t;const y2="function"==typeof ArrayBuffer,cp=(t,e)=>{if("string"!=typeof t)return{type:"message",data:yE(t,e)};const n=t.charAt(0);return"b"===n?{type:"message",data:v2(t.substring(1),e)}:dl[n]?t.length>1?{type:dl[n],data:t.substring(1)}:{type:dl[n]}:sp},v2=(t,e)=>{if(y2){const n=(t=>{let r,s,o,a,c,e=.75*t.length,n=t.length,i=0;"="===t[t.length-1]&&(e--,"="===t[t.length-2]&&e--);const l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<n;r+=4)s=ea[t.charCodeAt(r)],o=ea[t.charCodeAt(r+1)],a=ea[t.charCodeAt(r+2)],c=ea[t.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(15&o)<<4|a>>2,u[i++]=(3&a)<<6|63&c;return l})(t);return yE(n,e)}return{base64:!0,data:t}},yE=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,vE=String.fromCharCode(30);let lp;function fl(t){return t.reduce((e,n)=>e+n.length,0)}function hl(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Ye(t){if(t)return function E2(t){for(var e in Ye.prototype)t[e]=Ye.prototype[e];return t}(t)}Ye.prototype.on=Ye.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Ye.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},Ye.prototype.off=Ye.prototype.removeListener=Ye.prototype.removeAllListeners=Ye.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},Ye.prototype.emitReserved=Ye.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},Ye.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Ye.prototype.hasListeners=function(t){return!!this.listeners(t).length};const gn="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function CE(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const w2=gn.setTimeout,S2=gn.clearTimeout;function pl(t,e){e.useNativeTimers?(t.setTimeoutFn=w2.bind(gn),t.clearTimeoutFn=S2.bind(gn)):(t.setTimeoutFn=gn.setTimeout.bind(gn),t.clearTimeoutFn=gn.clearTimeout.bind(gn))}function M2(t){return"string"==typeof t?function T2(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))}class R2 extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class up extends Ye{constructor(e){super(),this.writable=!1,pl(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,r){return super.emitReserved("error",new R2(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=cp(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const n=function A2(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}(e);return n.length?"?"+n:""}}const bE="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),DE={};let wE,EE=0,$r=0;function SE(t){let e="";do{e=bE[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function xE(){const t=SE(+new Date);return t!==wE?(EE=0,wE=t):t+"."+SE(EE++)}for(;$r<64;$r++)DE[bE[$r]]=$r;let ME=!1;try{ME="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const k2=ME;function TE(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||k2))return new XMLHttpRequest}catch(n){}if(!e)try{return new(gn[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function P2(){}const O2=null!=new TE({xdomain:!1}).responseType;let ml=(()=>{class t extends Ye{constructor(n,r){super(),pl(this,r),this.opts=r,this.method=r.method||"GET",this.uri=n,this.data=void 0!==r.data?r.data:null,this.create()}create(){var n;const r=CE(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const i=this.xhr=new TE(r);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch(s){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{i.setRequestHeader("Accept","*/*")}catch(s){}null===(n=this.opts.cookieJar)||void 0===n||n.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;3===i.readyState&&(null===(s=this.opts.cookieJar)||void 0===s||s.parseCookies(i)),4===i.readyState&&(200===i.status||1223===i.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof i.status?i.status:0)},0))},i.send(this.data)}catch(s){return void this.setTimeoutFn(()=>{this.onError(s)},0)}"undefined"!=typeof document&&(this.index=t.requestsCount++,t.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(null!=this.xhr){if(this.xhr.onreadystatechange=P2,n)try{this.xhr.abort()}catch(r){}"undefined"!=typeof document&&delete t.requests[this.index],this.xhr=null}}onLoad(){const n=this.xhr.responseText;null!==n&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return t.requestsCount=0,t.requests={},t})();function AE(){for(let t in ml.requests)ml.requests.hasOwnProperty(t)&&ml.requests[t].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",AE):"function"==typeof addEventListener&&addEventListener("onpagehide"in gn?"pagehide":"unload",AE,!1));const dp="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,n)=>n(e,0),yl=gn.WebSocket||gn.MozWebSocket,IE="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),B2={websocket:class L2 extends up{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,r=IE?{}:CE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=IE?new yl(e,n,r):n?new yl(e,n):new yl(e)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=n===e.length-1;op(e[n],this.supportsBinary,s=>{try{this.ws.send(s)}catch(a){}i&&dp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=xE()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!yl}},webtransport:class V2 extends up{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=function D2(t,e){lp||(lp=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(0===r){if(fl(n)<1)break;const c=hl(n,1);s=128==(128&c[0]),i=127&c[0],r=i<126?3:126===i?1:2}else if(1===r){if(fl(n)<2)break;const c=hl(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(2===r){if(fl(n)<8)break;const c=hl(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(sp);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(fl(n)<i)break;const c=hl(n,i);a.enqueue(cp(s?c:lp.decode(c),e)),r=0}if(0===i||i>t){a.enqueue(sp);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=function b2(){return new TransformStream({transform(t,e){!function g2(t,e){fE&&t.data instanceof Blob?t.data.arrayBuffer().then(mE).then(e):hE&&(t.data instanceof ArrayBuffer||pE(t.data))?e(mE(t.data)):op(t,!1,n=>{ap||(ap=new TextEncoder),e(ap.encode(n))})}(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&"string"!=typeof t.data&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=n===e.length-1;this.writer.write(e[n]).then(()=>{i&&dp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class N2 extends up{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const r="https:"===location.protocol;let i=location.port;i||(i=r?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port}this.supportsBinary=O2&&!(e&&e.forceBase64),this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((t,e)=>{const n=t.split(vE),r=[];for(let i=0;i<n.length;i++){const s=cp(n[i],e);if(r.push(s),"error"===s.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{op(s,!1,a=>{r[o]=a,++i===n&&e(r.join(vE))})})})(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return!1!==this.opts.timestampRequests&&(n[this.opts.timestampParam]=xE()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ml(this.uri(),e)}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}},j2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,U2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hp(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=j2.exec(t||""),s={},o=14;for(;o--;)s[U2[o]]=i[o]||"";return-1!=n&&-1!=r&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function $2(t,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&r.splice(0,1),"/"==e.slice(-1)&&r.splice(r.length-1,1),r}(0,s.path),s.queryKey=function H2(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}(0,s.query),s}let RE=(()=>{class t extends Ye{constructor(n,r={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],n&&"object"==typeof n&&(r=n,n=null),n?(n=hp(n),r.hostname=n.host,r.secure="https"===n.protocol||"wss"===n.protocol,r.port=n.port,n.query&&(r.query=n.query)):r.host&&(r.hostname=hp(r.host).host),pl(this,r),this.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=r.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function I2(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=n,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new B2[n](i)}open(){let n;if(this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))n="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);n=this.transports[0]}this.readyState="opening";try{n=this.createTransport(n)}catch(r){return this.transports.shift(),void this.open()}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(n){let r=this.createTransport(n),i=!1;t.priorWebsocketSuccess=!1;const s=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!i)if("pong"===f.type&&"probe"===f.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;t.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function o(){i||(i=!0,d(),r.close(),r=null)}const a=f=>{const h=new Error("probe error: "+f);h.transport=r.name,o(),this.emitReserved("upgradeError",h)};function c(){a("transport closed")}function l(){a("socket closed")}function u(f){r&&f.name!==r.name&&o()}const d=()=>{r.removeListener("open",s),r.removeListener("error",a),r.removeListener("close",c),this.off("close",l),this.off("upgrading",u)};r.once("open",s),r.once("error",a),r.once("close",c),this.once("close",l),this.once("upgrading",u),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==n?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onOpen(){if(this.readyState="open",t.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let n=0;const r=this.upgrades.length;for(;n<r;n++)this.probe(this.upgrades[n])}}onPacket(n){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),this.resetPingTimeout(),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=n.data,this.onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data)}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(r+=M2(s)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(n,r,i){return this.sendPacket("message",n,r,i),this}send(n,r,i){return this.sendPacket("message",n,r,i),this}sendPacket(n,r,i,s){if("function"==typeof r&&(s=r,r=void 0),"function"==typeof i&&(s=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const o={type:n,data:r,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const n=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():n()}):this.upgrading?i():n()),this}onError(n){t.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){const r=[];let i=0;const s=n.length;for(;i<s;i++)~this.transports.indexOf(n[i])&&r.push(n[i]);return r}}return t.protocol=4,t})();const z2="function"==typeof ArrayBuffer,kE=Object.prototype.toString,W2="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===kE.call(Blob),K2="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===kE.call(File);function pp(t){return z2&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||W2&&t instanceof Blob||K2&&t instanceof File}function vl(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(vl(t[n]))return!0;return!1}if(pp(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return vl(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&vl(t[n]))return!0;return!1}function J2(t){const e=[],r=t;return r.data=gp(t.data,e),r.attachments=e.length,{packet:r,buffers:e}}function gp(t,e){if(!t)return t;if(pp(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=gp(t[r],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=gp(t[r],e));return n}return t}function Y2(t,e){return t.data=mp(t.data,e),delete t.attachments,t}function mp(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=mp(t[n],e);else if("object"==typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=mp(t[n],e));return t}const Q2=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Z2=5;var fe=(()=>{return(t=fe||(fe={}))[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",fe;var t})();class X2{constructor(e){this.replacer=e}encode(e){return e.type!==fe.EVENT&&e.type!==fe.ACK||!vl(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let n=""+e.type;return(e.type===fe.BINARY_EVENT||e.type===fe.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=J2(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function PE(t){return"[object Object]"===Object.prototype.toString.call(t)}class yp extends Ye{constructor(e){super(),this.reviver=e}add(e){let n;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===fe.BINARY_EVENT;r||n.type===fe.BINARY_ACK?(n.type=r?fe.EVENT:fe.ACK,this.reconstructor=new eB(n),0===n.attachments&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else{if(!pp(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n))}}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(void 0===fe[r.type])throw new Error("unknown packet type "+r.type);if(r.type===fe.BINARY_EVENT||r.type===fe.BINARY_ACK){const s=n+1;for(;"-"!==e.charAt(++n)&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(n+1)){const s=n+1;for(;++n&&","!==e.charAt(n)&&n!==e.length;);r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(""!==i&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(null==o||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(!yp.isPayloadValid(r.type,s))throw new Error("invalid payload");r.data=s}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(n){return!1}}static isPayloadValid(e,n){switch(e){case fe.CONNECT:return PE(n);case fe.DISCONNECT:return void 0===n;case fe.CONNECT_ERROR:return"string"==typeof n||PE(n);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(n)&&("number"==typeof n[0]||"string"==typeof n[0]&&-1===Q2.indexOf(n[0]));case fe.ACK:case fe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class eB{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Y2(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function kn(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const tB=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class OE extends Ye{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[kn(e,"open",this.onopen.bind(this)),kn(e,"packet",this.onpacket.bind(this)),kn(e,"error",this.onerror.bind(this)),kn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(tB.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:fe.EVENT,data:n,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),r.id=o}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){var r;const i=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=n);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...o])}}emitWithAck(e,...n){const r=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((i,s)=>{n.push((o,a)=>r?o?s(o):i(a):i(o)),this.emit(e,...n)})}_addToQueue(e){let n;"function"==typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(null!==i?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const n=e.data||[];null!=e.id&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:fe.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];"function"==typeof n&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Es(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Es.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Es.prototype.reset=function(){this.attempts=0},Es.prototype.setMin=function(t){this.ms=t},Es.prototype.setMax=function(t){this.max=t},Es.prototype.setJitter=function(t){this.jitter=t};class vp extends Ye{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,pl(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Es({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||y;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(n=this.backoff)||void 0===n||n.setMin(e),this)}randomizationFactor(e){var n;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(n=this.backoff)||void 0===n||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(n=this.backoff)||void 0===n||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new RE(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=kn(n,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=kn(n,"error",s);if(!1!==this._timeout){const c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},this._timeout);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(kn(e,"ping",this.onping.bind(this)),kn(e,"data",this.ondata.bind(this)),kn(e,"error",this.onerror.bind(this)),kn(e,"close",this.onclose.bind(this)),kn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){dp(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new OE(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ta={};function _l(t,e){"object"==typeof t&&(e=t,t=void 0);const n=function G2(t,e="",n){let r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),r=hp(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),r=n.source,i=n.id;let c;return e.forceNew||e["force new connection"]||!1===e.multiplex||ta[i]&&n.path in ta[i].nsps?c=new vp(r,e):(ta[i]||(ta[i]=new vp(r,e)),c=ta[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}function NE(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function yi(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){NE(s,r,i,o,a,"next",c)}function a(c){NE(s,r,i,o,a,"throw",c)}o(void 0)})}}function FE(t){this.wrapped=t}function na(t){var e,n;function i(o,a){try{var c=t[o](a),l=c.value,u=l instanceof FE;Promise.resolve(u?l.wrapped:l).then(function(d){u?i("return"===o?"return":"next",d):s(c.done?"return":"normal",d)},function(d){i("throw",d)})}catch(d){s("throw",d)}}function s(o,a){switch(o){case"return":e.resolve({value:a,done:!0});break;case"throw":e.reject(a);break;default:e.resolve({value:a,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=function r(o,a){return new Promise(function(c,l){var u={key:o,arg:a,resolve:c,reject:l,next:null};n?n=n.next=u:(e=n=u,i(o,a))})},"function"!=typeof t.return&&(this.return=void 0)}function nB(t){return function(){return new na(t.apply(this,arguments))}}Object.assign(_l,{Manager:vp,Socket:OE,io:_l,connect:_l}),na.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},na.prototype.next=function(t){return this._invoke("next",t)},na.prototype.throw=function(t){return this._invoke("throw",t)},na.prototype.return=function(t){return this._invoke("return",t)};class rB{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return function iB(t){let e=0;for(const i of t)e+=i.byteLength;const n=new Uint8Array(e);let r=0;for(const i of t){const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);n.set(s,r),r+=i.byteLength}return n}(e).buffer}}function LE(t){return new sB(t).unpack()}function VE(t){const e=new oB;return e.pack(t),e.getBuffer()}class sB{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((224^e)<32)return(224^e)-32;let n;if((n=160^e)<=15)return this.unpack_raw(n);if((n=176^e)<=15)return this.unpack_string(n);if((n=144^e)<=15)return this.unpack_array(n);if((n=128^e)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=255&this.dataView[this.index];return this.index++,e}unpack_uint16(){const e=this.read(2),n=256*(255&e[0])+(255&e[1]);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=256*(256*(256*e[0]+e[1])+e[2])+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=256*(256*(256*(256*(256*(256*(256*e[0]+e[1])+e[2])+e[3])+e[4])+e[5])+e[6])+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let s,o,r=0,i="";for(;r<e;)s=n[r],s<160?(o=s,r++):(192^s)<32?(o=(31&s)<<6|63&n[r+1],r+=2):(224^s)<16?(o=(15&s)<<12|(63&n[r+1])<<6|63&n[r+2],r+=3):(o=(7&s)<<18|(63&n[r+1])<<12|(63&n[r+2])<<6|63&n[r+3],r+=4),i+=String.fromCodePoint(o);return this.index+=e,i}unpack_array(e){const n=new Array(e);for(let r=0;r<e;r++)n[r]=this.unpack();return n}unpack_map(e){const n={};for(let r=0;r<e;r++)n[this.unpack()]=this.unpack();return n}unpack_float(){const e=this.unpack_uint32();return(0==e>>31?1:-1)*(8388607&e|8388608)*2**((e>>23&255)-127-23)}unpack_double(){const e=this.unpack_uint32(),i=(e>>20&2047)-1023;return(0==e>>31?1:-1)*((1048575&e|1048576)*2**(i-20)+this.unpack_uint32()*2**(i-52))}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class oB{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if("string"==typeof e)this.pack_string(e);else if("number"==typeof e)Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if("boolean"==typeof e)!0===e?this._bufferBuilder.append(195):!1===e&&this._bufferBuilder.append(194);else if(void 0===e)this._bufferBuilder.append(192);else{if("object"!=typeof e)throw new Error(`Type "${typeof e}" not yet supported`);if(null===e)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array)this.pack_array(e);else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e)this.pack_bin(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));else if(e instanceof Date)this.pack_string(e.toString());else{if(n!=Object&&!n.toString().startsWith("class"))throw new Error(`Type "${n.toString()}" not yet supported`);this.pack_object(e)}}}this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else{if(!(n<=4294967295))throw new Error("Invalid length");this._bufferBuilder.append(219),this.pack_uint32(n)}this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else{if(!(r<=4294967295))throw new Error("Invalid length");this._bufferBuilder.append(217),this.pack_uint32(r)}this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else{if(!(n<=4294967295))throw new Error("Invalid length");this._bufferBuilder.append(221),this.pack_uint32(n)}for(let r=0;r<n;r++)this.pack(e[r])}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(255&e);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-0x8000000000000000&&e<=0x8000000000000000)this._bufferBuilder.append(211),this.pack_int64(e);else{if(!(e>=0&&e<=0x10000000000000000))throw new Error("Invalid integer");this._bufferBuilder.append(207),this.pack_uint64(e)}}pack_double(e){let n=0;e<0&&(n=1,e=-e);const r=Math.floor(Math.log(e)/Math.LN2),s=Math.floor((e/2**r-1)*2**52),o=2**32,a=n<<31|r+1023<<20|s/o&1048575,c=s%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(c)}pack_object(e){const r=Object.keys(e).length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else{if(!(r<=4294967295))throw new Error("Invalid length");this._bufferBuilder.append(223),this.pack_uint32(r)}for(const i in e)e.hasOwnProperty(i)&&(this.pack(i),this.pack(e[i]))}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(255&e)}pack_uint32(e){const n=4294967295&e;this._bufferBuilder.append((4278190080&n)>>>24),this._bufferBuilder.append((16711680&n)>>>16),this._bufferBuilder.append((65280&n)>>>8),this._bufferBuilder.append(255&n)}pack_uint64(e){const n=e/4294967296,r=e%2**32;this._bufferBuilder.append((4278190080&n)>>>24),this._bufferBuilder.append((16711680&n)>>>16),this._bufferBuilder.append((65280&n)>>>8),this._bufferBuilder.append(255&n),this._bufferBuilder.append((4278190080&r)>>>24),this._bufferBuilder.append((16711680&r)>>>16),this._bufferBuilder.append((65280&r)>>>8),this._bufferBuilder.append(255&r)}pack_int8(e){this._bufferBuilder.append(255&e)}pack_int16(e){this._bufferBuilder.append((65280&e)>>8),this._bufferBuilder.append(255&e)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((16711680&e)>>>16),this._bufferBuilder.append((65280&e)>>>8),this._bufferBuilder.append(255&e)}pack_int64(e){const n=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((4278190080&n)>>>24),this._bufferBuilder.append((16711680&n)>>>16),this._bufferBuilder.append((65280&n)>>>8),this._bufferBuilder.append(255&n),this._bufferBuilder.append((4278190080&r)>>>24),this._bufferBuilder.append((16711680&r)>>>16),this._bufferBuilder.append((65280&r)>>>8),this._bufferBuilder.append(255&r)}constructor(){this._bufferBuilder=new rB,this._textEncoder=new TextEncoder}}let BE=!0,jE=!0;function Cl(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function vi(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const c=l=>{const u=n(l);u&&(a.handleEvent?a.handleEvent(u):a(u))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,c),i.apply(this,[o,c])};const s=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const c=this._eventMap[e].get(a);return this._eventMap[e].delete(a),0===this._eventMap[e].size&&delete this._eventMap[e],0===Object.keys(this._eventMap).length&&delete this._eventMap,s.apply(this,[o,c])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function aB(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(BE=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function cB(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(jE=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function UE(){if("object"==typeof window){if(BE)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function _p(t,e){!jE||console.warn(t+" is deprecated, please use "+e+" instead.")}function $E(t){return"[object Object]"===Object.prototype.toString.call(t)}function HE(t){return $E(t)?Object.keys(t).reduce(function(e,n){const r=$E(t[n]),i=r?HE(t[n]):t[n],s=r&&!Object.keys(i).length;return void 0===i||s?e:Object.assign(e,{[n]:i})},{}):t}function Cp(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Cp(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{Cp(t,t.get(i),n)})}))}function GE(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===e)return i;const s=[];return t.forEach(o=>{"track"===o.type&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&Cp(t,a,i)})}),i}const zE=UE;function qE(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if("object"!=typeof a||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(l=>{if("require"===l||"advanced"===l||"mediaSource"===l)return;const u="object"==typeof a[l]?a[l]:{ideal:a[l]};void 0!==u.exact&&"number"==typeof u.exact&&(u.min=u.max=u.exact);const d=function(f,h){return f?f+h.charAt(0).toUpperCase()+h.slice(1):"deviceId"===h?"sourceId":h};if(void 0!==u.ideal){c.optional=c.optional||[];let f={};"number"==typeof u.ideal?(f[d("min",l)]=u.ideal,c.optional.push(f),f={},f[d("max",l)]=u.ideal,c.optional.push(f)):(f[d("",l)]=u.ideal,c.optional.push(f))}void 0!==u.exact&&"number"!=typeof u.exact?(c.mandatory=c.mandatory||{},c.mandatory[d("",l)]=u.exact):["min","max"].forEach(f=>{void 0!==u[f]&&(c.mandatory=c.mandatory||{},c.mandatory[d(f,l)]=u[f])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},i=function(a,c){if(e.version>=61)return c(a);if((a=JSON.parse(JSON.stringify(a)))&&"object"==typeof a.audio){const l=function(u,d,f){d in u&&!(f in u)&&(u[f]=u[d],delete u[d])};l((a=JSON.parse(JSON.stringify(a))).audio,"autoGainControl","googAutoGainControl"),l(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&"object"==typeof a.video){let l=a.video.facingMode;l=l&&("object"==typeof l?l:{ideal:l});const u=e.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||u)){let d;if(delete a.video.facingMode,"environment"===l.exact||"environment"===l.ideal?d=["back","rear"]:("user"===l.exact||"user"===l.ideal)&&(d=["front"]),d)return n.mediaDevices.enumerateDevices().then(f=>{let h=(f=f.filter(p=>"videoinput"===p.kind)).find(p=>d.some(v=>p.label.toLowerCase().includes(v)));return!h&&f.length&&d.includes("back")&&(h=f[f.length-1]),h&&(a.video.deviceId=l.exact?{exact:h.deviceId}:{ideal:h.deviceId}),a.video=r(a.video),zE("chrome: "+JSON.stringify(a)),c(a)})}a.video=r(a.video)}return zE("chrome: "+JSON.stringify(a)),c(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(a,c,l){i(a,u=>{n.webkitGetUserMedia(u,c,d=>{l&&l(s(d))})})}.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return i(c,l=>a(l).then(u=>{if(l.audio&&!u.getAudioTracks().length||l.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(d=>{d.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(s(u))))}}}function uB(t,e){if((!t.navigator.mediaDevices||!("getDisplayMedia"in t.navigator.mediaDevices))&&t.navigator.mediaDevices){if("function"!=typeof e)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");t.navigator.mediaDevices.getDisplayMedia=function(r){return e(r).then(i=>{const s=r.video&&r.video.width,o=r.video&&r.video.height;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:r.video&&r.video.frameRate||3}},s&&(r.video.mandatory.maxWidth=s),o&&(r.video.mandatory.maxHeight=o),t.navigator.mediaDevices.getUserMedia(r)})}}}function WE(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function KE(t){if("object"==typeof t&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;s=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):{track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let s;s=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===i.id):{track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else vi(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function JE(t){if("object"==typeof t&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===s.kind?i.createDTMFSender(s):null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,c){let l=i.apply(this,arguments);return l||(l=e(this,a),this._senders.push(l)),l};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const c=this._senders.indexOf(a);-1!==c&&this._senders.splice(c,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(c=>c.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if("object"==typeof t&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function YE(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[r,i,s]=arguments;if(arguments.length>0&&"function"==typeof r)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof r))return e.apply(this,[]);const o=function(c){const l={};return c.result().forEach(d=>{const f={id:d.id,timestamp:d.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[d.type]||d.type};d.names().forEach(h=>{f[h]=d.stat(h)}),l[f.id]=f}),l},a=function(c){return new Map(Object.keys(c).map(l=>[l,c[l]]))};return arguments.length>=2?e.apply(this,[function(l){i(a(o(l)))},r]):new Promise((c,l)=>{e.apply(this,[function(u){c(a(o(u)))},l])}).then(i,s)}}function QE(t){if(!("object"==typeof t&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>GE(o,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i}),vi(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>GE(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype)||!("getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===r&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(s?o=!0:s=a),a.track===r)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function ZE(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?-1===this._shimmedLocalStreams[a.id].indexOf(c)&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(l=>{if(this.getSenders().find(d=>d.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(l=>-1===a.indexOf(l));this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(o);-1!==c&&this._shimmedLocalStreams[a].splice(c,1),1===this._shimmedLocalStreams[a].length&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function XE(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return ZE(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(d=>this._reverseStreams[d.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(d=>{if(this.getSenders().find(h=>h.track===d))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const d=new t.MediaStream(u.getTracks());this._streams[u.id]=d,this._reverseStreams[d.id]=u,u=d}r.apply(this,[u])};const i=t.RTCPeerConnection.prototype.removeStream;function s(l,u){let d=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(f=>{const h=l._reverseStreams[f];d=d.replace(new RegExp(l._streams[h.id].id,"g"),h.id)}),new RTCSessionDescription({type:u.type,sdp:d})}function o(l,u){let d=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(f=>{const h=l._reverseStreams[f],p=l._streams[h.id];d=d.replace(new RegExp(h.id,"g"),p.id)}),new RTCSessionDescription({type:u.type,sdp:d})}t.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},t.RTCPeerConnection.prototype.addTrack=function(u,d){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(1!==f.length||!f[0].getTracks().find(v=>v===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(v=>v.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const p=this._streams[d.id];if(p)p.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const v=new t.MediaStream([u]);this._streams[d.id]=v,this._reverseStreams[v.id]=d,this.addStream(v)}return this.getSenders().find(v=>v.track===u)},["createOffer","createAnswer"].forEach(function(l){const u=t.RTCPeerConnection.prototype[l],d={[l](){const f=arguments;return arguments.length&&"function"==typeof arguments[0]?u.apply(this,[p=>{const v=s(this,p);f[0].apply(null,[v])},p=>{f[1]&&f[1].apply(null,p)},arguments[2]]):u.apply(this,arguments).then(p=>s(this,p))}};t.RTCPeerConnection.prototype[l]=d[l]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=o(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const c=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const l=c.get.apply(this);return""===l.type?l:s(this,l)}}),t.RTCPeerConnection.prototype.removeTrack=function(u){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(u._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let f;this._streams=this._streams||{},Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(v=>u.track===v)&&(f=this._streams[h])}),f&&(1===f.getTracks().length?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function bp(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new("addIceCandidate"===n?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function ew(t,e){vi(t,"negotiationneeded",n=>{const r=n.target;if(!(e.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return n})}function tw(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,s,o){_p("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,a,c){a in o&&!(c in o)&&(o[c]=o[a],delete o[a])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return"object"==typeof o&&"object"==typeof o.audio&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return"audio"===this.kind&&"object"==typeof a&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function dB(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||!t.navigator.mediaDevices||(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return!0===r.video?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function nw(t){"object"==typeof t&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Dp(t,e){if("object"!=typeof t||!t.RTCPeerConnection&&!t.mozRTCPeerConnection)return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new("addIceCandidate"===i?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return r.apply(this,[s||null]).then(c=>{if(e.version<53&&!o)try{c.forEach(l=>{l.type=n[l.type]||l.type})}catch(l){if("TypeError"!==l.name)throw l;c.forEach((u,d)=>{c.set(d,Object.assign({},u,{type:n[u.type]||u.type}))})}return c}).then(o,a)}}function rw(t){if("object"!=typeof t||!t.RTCPeerConnection||!t.RTCRtpSender||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function iw(t){if("object"!=typeof t||!t.RTCPeerConnection||!t.RTCRtpSender||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),vi(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function sw(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){_p("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function ow(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function aw(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;void 0===r&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||1===a.encodings.length&&0===Object.keys(a.encodings[0]).length)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function cw(t){if("object"!=typeof t||!t.RTCRtpSender)return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function lw(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function uw(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function dw(t){if("object"==typeof t&&t.RTCPeerConnection){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(-1===r)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function fw(t){if("object"==typeof t&&t.RTCPeerConnection&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function hw(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(l,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[d]);return u?(f.then(l,u),Promise.resolve()):f},e.createAnswer=function(l,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[d]);return u?(f.then(l,u),Promise.resolve()):f};let a=function(c,l,u){const d=i.apply(this,[c]);return u?(d.then(l,u),Promise.resolve()):d};e.setLocalDescription=a,a=function(c,l,u){const d=s.apply(this,[c]);return u?(d.then(l,u),Promise.resolve()):d},e.setRemoteDescription=a,a=function(c,l,u){const d=o.apply(this,[c]);return u?(d.then(l,u),Promise.resolve()):d},e.addIceCandidate=a}function pw(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(gw(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(r,i,s){e.mediaDevices.getUserMedia(r).then(i,s)}.bind(e))}function gw(t){return t&&void 0!==t.video?Object.assign({},t,{video:HE(t.video)}):t}function mw(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];void 0===a.urls&&a.url?(_p("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(r.iceServers[o])}r.iceServers=s}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:()=>e.generateCertificate})}function yw(t){"object"==typeof t&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function vw(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){void 0!==r.offerToReceiveAudio&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>"audio"===o.receiver.track.kind);!1===r.offerToReceiveAudio&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0===r.offerToReceiveAudio&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),void 0!==r.offerToReceiveVideo&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>"video"===o.receiver.track.kind);!1===r.offerToReceiveVideo&&s?"sendrecv"===s.direction?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":"recvonly"===s.direction&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):!0===r.offerToReceiveVideo&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function _w(t){"object"!=typeof t||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var Cw=g(463),ra=g.n(Cw);function bl(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if("object"==typeof r&&r.candidate&&0===r.candidate.indexOf("a=")&&((r=JSON.parse(JSON.stringify(r))).candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),s=ra().parseCandidate(r.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,vi(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Ep(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||vi(t,"icecandidate",e=>{if(e.candidate){const n=ra().parseCandidate(e.candidate.candidate);"relay"===n.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function Dl(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const c=ra().splitSections(a.sdp);return c.shift(),c.some(l=>{const u=ra().parseMLine(l);return u&&"application"===u.kind&&-1!==u.protocol.indexOf("SCTP")})},r=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===c||c.length<2)return-1;const l=parseInt(c[1],10);return l!=l?-1:l},i=function(a){let c=65536;return"firefox"===e.browser&&(c=e.version<57?-1===a?16384:2147483637:e.version<60?57===e.version?65535:65536:2147483637),c},s=function(a,c){let l=65536;"firefox"===e.browser&&57===e.version&&(l=65535);const u=ra().matchPrefix(a.sdp,"a=max-message-size:");return u.length>0?l=parseInt(u[0].substring(19),10):"firefox"===e.browser&&-1!==c&&(l=2147483637),l},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===e.browser&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();"plan-b"===c&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),l=i(c),u=s(arguments[0],c);let d;d=0===l&&0===u?Number.POSITIVE_INFINITY:0===l||0===u?Math.max(l,u):Math.min(l,u);const f={};Object.defineProperty(f,"maxMessageSize",{get:()=>d}),this._sctp=f}return o.apply(this,arguments)}}function El(t){if(!t.RTCPeerConnection||!("createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const s=r.send;r.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if("open"===r.readyState&&i.sctp&&c>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},vi(t,"datachannel",r=>(e(r.channel,r.target),r))}function wp(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Sp(t,e){if(!t.RTCPeerConnection||"chrome"===e.browser&&e.version>=71||"safari"===e.browser&&e.version>=605)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&-1!==i.sdp.indexOf("\na=extmap-allow-mixed")){const s=i.sdp.split("\n").filter(o=>"a=extmap-allow-mixed"!==o.trim()).join("\n");t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return n.apply(this,arguments)}}function wl(t,e){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||0===n.length||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===e.browser&&e.version<78||"firefox"===e.browser&&e.version<68||"safari"===e.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Sl(t,e){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||0===n.length||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if("object"!=typeof i||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer"}return i.sdp||"offer"!==i.type&&"answer"!==i.type?n.apply(this,[i]):("offer"===i.type?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const bw=function fB({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=UE,r=function lB(t){const e={browser:null,version:null};if(void 0===t||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.mozGetUserMedia)e.browser="firefox",e.version=Cl(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===t.isSecureContext&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=Cl(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!t.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return e.browser="Not a supported browser.",e;e.browser="safari",e.version=Cl(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype}return e}(t),i={browserDetails:r,commonShim:ke,extractVersion:Cl,disableLog:aB,disableWarnings:cB,sdp:Cw};switch(r.browser){case"chrome":if(!x||!bp||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=x,wl(t,r),Sl(t),qE(t,r),WE(t),bp(t,r),KE(t),XE(t,r),JE(t),YE(t),QE(t),ew(t,r),bl(t),Ep(t),wp(t),Dl(t,r),El(t),Sp(t,r);break;case"firefox":if(!P||!Dp||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=P,wl(t,r),Sl(t),tw(t,r),Dp(t,r),nw(t),sw(t),rw(t),iw(t),ow(t),aw(t),cw(t),lw(t),uw(t),bl(t),wp(t),Dl(t,r),El(t);break;case"safari":if(!te||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=te,wl(t,r),Sl(t),mw(t),vw(t),hw(t),dw(t),fw(t),yw(t),pw(t),_w(t),bl(t),Ep(t),Dl(t,r),El(t),Sp(t,r);break;default:n("Unsupported browser!")}return i}({window:"undefined"==typeof window?void 0:window});function xl(t){return new FE(t)}function hB(t,e){var n={},r=!1;function i(s,o){return r=!0,o=new Promise(function(a){a(t[s](o))}),{done:!1,value:e(o)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(s){return r?(r=!1,s):i("next",s)},"function"==typeof t.throw&&(n.throw=function(s){if(r)throw r=!1,s;return i("throw",s)}),"function"==typeof t.return&&(n.return=function(s){return r?(r=!1,s):i("return",s)}),n}function Dw(t){var e,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(e=t[n]))return e.call(t);if(r&&null!=(e=t[r]))return new Ml(e.call(t));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ml(t){function e(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(i){return{value:i,done:r}})}return(Ml=function(r){this.s=r,this.n=r.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(r){var i=this.s.return;return void 0===i?Promise.resolve({value:r,done:!0}):e(i.apply(this.s,arguments))},throw:function(r){var i=this.s.return;return void 0===i?Promise.reject(r):e(i.apply(this.s,arguments))}},new Ml(t)}let xp;try{xp=new TextDecoder}catch(t){}let F,_r,b=0;const Mp=[],ws={};let He,Ss,Qe,Pn,$t,ut,sa,_i=Mp,ia=0,he={},Ci=0,Cr=0,Ne=[],Tp=[],Sw={useRecords:!1,mapsAsObjects:!0},oa=!1,xw=2;try{new Function("")}catch(t){xw=1/0}class aa{constructor(e){if(e&&((e.keyMap||e._keyMap)&&!e.useRecords&&(e.useRecords=!1,e.mapsAsObjects=!0),!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.getStructures&&(e.getShared=e.getStructures),e.getShared&&!e.structures&&((e.structures=[]).uninitialized=!0),e.keyMap)){this.mapKey=new Map;for(let[n,r]of Object.entries(e.keyMap))this.mapKey.set(r,n)}Object.assign(this,e)}decodeKey(e){return this.keyMap&&this.mapKey.get(e)||e}encodeKey(e){return this.keyMap&&this.keyMap.hasOwnProperty(e)?this.keyMap[e]:e}encodeKeys(e){if(!this._keyMap)return e;let n=new Map;for(let[r,i]of Object.entries(e))n.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,i);return n}decodeKeys(e){if(!this._keyMap||"Map"!=e.constructor.name)return e;if(!this._mapKey){this._mapKey=new Map;for(let[r,i]of Object.entries(this._keyMap))this._mapKey.set(i,r)}let n={};return e.forEach((r,i)=>n[mn(this._mapKey.has(i)?this._mapKey.get(i):i)]=r),n}mapDecode(e,n){let r=this.decode(e);return this._keyMap&&"Array"===r.constructor.name?r.map(i=>this.decodeKeys(i)):r}decode(e,n){if(F)return kw(()=>(Op(),this?this.decode(e,n):aa.prototype.decode.call(Sw,e,n)));_r=n>-1?n:e.length,b=0,ia=0,Cr=0,Ss=null,_i=Mp,Qe=null,F=e;try{ut=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){throw F=null,e instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof aa){if(he=this,$t=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return He=this.structures,Tl();(!He||He.length>0)&&(He=[])}else he=Sw,(!He||He.length>0)&&(He=[]),$t=null;return Tl()}decodeMultiple(e,n){let r,i=0;try{let s=e.length;oa=!0;let o=this?this.decode(e,s):Np.decode(e,s);if(!n){for(r=[o];b<s;)i=b,r.push(Tl());return r}if(!1===n(o))return;for(;b<s;)if(i=b,!1===n(Tl()))return}catch(s){throw s.lastPosition=i,s.values=r,s}finally{oa=!1,Op()}}}function Tl(){try{let t=pe();if(Qe){if(b>=Qe.postBundlePosition){let e=new Error("Unexpected bundle position");throw e.incomplete=!0,e}b=Qe.postBundlePosition,Qe=null}if(b==_r)He=null,F=null,Pn&&(Pn=null);else{if(b>_r){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}if(!oa)throw new Error("Data read, but end of buffer not reached")}return t}catch(t){throw Op(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer"))&&(t.incomplete=!0),t}}function pe(){let t=F[b++],e=t>>5;if(t&=31,t>23)switch(t){case 24:t=F[b++];break;case 25:if(7==e)return function DB(){let t=F[b++],e=F[b++],n=(127&t)>>2;if(31===n)return e||3&t?NaN:128&t?-1/0:1/0;if(0===n){let r=((3&t)<<8|e)/16777216;return 128&t?-r:r}return xs[3]=128&t|56+(n>>1),xs[2]=(7&t)<<5|e>>3,xs[1]=e<<5,xs[0]=0,Rp[0]}();t=ut.getUint16(b),b+=2;break;case 26:if(7==e){let n=ut.getFloat32(b);if(he.useFloat32>2){let r=Rl[(127&F[b])<<1|F[b+1]>>7];return b+=4,(r*n+(n>0?.5:-.5)>>0)/r}return b+=4,n}t=ut.getUint32(b),b+=4;break;case 27:if(7==e){let n=ut.getFloat64(b);return b+=8,n}if(e>1){if(ut.getUint32(b)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");t=ut.getUint32(b+4)}else he.int64AsNumber?(t=4294967296*ut.getUint32(b),t+=ut.getUint32(b+4)):t=ut.getBigUint64(b);b+=8;break;case 31:switch(e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let r,n=[],i=0;for(;(r=pe())!=ws;)n[i++]=r;return 4==e?n:3==e?n.join(""):Buffer.concat(n);case 5:let s;if(he.mapsAsObjects){let o={};if(he.keyMap)for(;(s=pe())!=ws;)o[mn(he.decodeKey(s))]=pe();else for(;(s=pe())!=ws;)o[mn(s)]=pe();return o}{sa&&(he.mapsAsObjects=!0,sa=!1);let o=new Map;if(he.keyMap)for(;(s=pe())!=ws;)o.set(he.decodeKey(s),pe());else for(;(s=pe())!=ws;)o.set(s,pe());return o}case 7:return ws;default:throw new Error("Invalid major type for indefinite length "+e)}default:throw new Error("Unknown token "+t)}switch(e){case 0:return t;case 1:return~t;case 2:return function bB(t){return he.copyBuffers?Uint8Array.prototype.slice.call(F,b,b+=t):F.subarray(b,b+=t)}(t);case 3:if(Cr>=b)return Ss.slice(b-Ci,(b+=t)-Ci);if(0==Cr&&_r<140&&t<32){let i=t<16?Ip(t):function Tw(t){let e=b,n=new Array(t);for(let r=0;r<t;r++){const i=F[b++];if((128&i)>0)return void(b=e);n[r]=i}return dt.apply(String,n)}(t);if(null!=i)return i}return Al(t);case 4:let n=new Array(t);for(let i=0;i<t;i++)n[i]=pe();return n;case 5:if(he.mapsAsObjects){let i={};if(he.keyMap)for(let s=0;s<t;s++)i[mn(he.decodeKey(pe()))]=pe();else for(let s=0;s<t;s++)i[mn(pe())]=pe();return i}{sa&&(he.mapsAsObjects=!0,sa=!1);let i=new Map;if(he.keyMap)for(let s=0;s<t;s++)i.set(he.decodeKey(pe()),pe());else for(let s=0;s<t;s++)i.set(pe(),pe());return i}case 6:if(t>=57337){let i=He[8191&t];if(i)return i.read||(i.read=Ap(i)),i.read();if(t<65536){if(57343==t){let s=Ts(),o=pe(),a=pe();kp(o,a);let c={};if(he.keyMap)for(let l=2;l<s;l++)c[mn(he.decodeKey(a[l-2]))]=pe();else for(let l=2;l<s;l++)c[mn(a[l-2])]=pe();return c}if(57342==t){let s=Ts(),o=pe();for(let a=2;a<s;a++)kp(o++,pe());return pe()}if(57337==t)return function TB(){let t=Ts(),e=b+pe();for(let r=2;r<t;r++)b+=Ts();let n=b;return b=e,Qe=[Il(Ts()),Il(Ts())],Qe.position0=0,Qe.position1=0,Qe.postBundlePosition=b,b=n,pe()}();if(he.getShared&&(Pp(),i=He[8191&t],i))return i.read||(i.read=Ap(i)),i.read()}}let r=Ne[t];if(r)return r(r.handlesRead?pe:pe());{let i=pe();for(let s=0;s<Tp.length;s++){let o=Tp[s](t,i);if(void 0!==o)return o}return new bi(i,t)}case 7:switch(t){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:let i=($t||Di())[t];if(void 0!==i)return i;throw new Error("Unknown token "+t)}default:if(isNaN(t)){let i=new Error("Unexpected end of CBOR data");throw i.incomplete=!0,i}throw new Error("Unknown CBOR token "+t)}}const Mw=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Ap(t){return t.slowReads=0,function e(){let n=F[b++];if(n&=31,n>23)switch(n){case 24:n=F[b++];break;case 25:n=ut.getUint16(b),b+=2;break;case 26:n=ut.getUint32(b),b+=4;break;default:throw new Error("Expected array header, but got "+F[b-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===n)return r(pe);r=r.next}if(this.slowReads++>=xw){let s=this.length==n?this:this.slice(0,n);return r=new Function("r",he.keyMap?"return {"+s.map(o=>he.decodeKey(o)).map(o=>Mw.test(o)?mn(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}":"return {"+s.map(o=>Mw.test(o)?mn(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=n,this.compiledReader=r,r(pe)}let i={};if(he.keyMap)for(let s=0;s<n;s++)i[mn(he.decodeKey(this[s]))]=pe();else for(let s=0;s<n;s++)i[mn(this[s])]=pe();return i}}function mn(t){return"__proto__"===t?"__proto_":t}let Al=Il;function Il(t){let e;if(t<16&&(e=Ip(t)))return e;if(t>64&&xp)return xp.decode(F.subarray(b,b+=t));const n=b+t,r=[];for(e="";b<n;){const i=F[b++];if(0==(128&i))r.push(i);else if(192==(224&i)){const s=63&F[b++];r.push((31&i)<<6|s)}else if(224==(240&i)){const s=63&F[b++],o=63&F[b++];r.push((31&i)<<12|s<<6|o)}else if(240==(248&i)){let c=(7&i)<<18|(63&F[b++])<<12|(63&F[b++])<<6|63&F[b++];c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c)}else r.push(i);r.length>=4096&&(e+=dt.apply(String,r),r.length=0)}return r.length>0&&(e+=dt.apply(String,r)),e}let dt=String.fromCharCode;function Ip(t){if(t<4){if(t<2){if(0===t)return"";{let e=F[b++];return(128&e)>1?void(b-=1):dt(e)}}{let e=F[b++],n=F[b++];if((128&e)>0||(128&n)>0)return void(b-=2);if(t<3)return dt(e,n);let r=F[b++];return(128&r)>0?void(b-=3):dt(e,n,r)}}{let e=F[b++],n=F[b++],r=F[b++],i=F[b++];if((128&e)>0||(128&n)>0||(128&r)>0||(128&i)>0)return void(b-=4);if(t<6){if(4===t)return dt(e,n,r,i);{let s=F[b++];return(128&s)>0?void(b-=5):dt(e,n,r,i,s)}}if(t<8){let s=F[b++],o=F[b++];if((128&s)>0||(128&o)>0)return void(b-=6);if(t<7)return dt(e,n,r,i,s,o);let a=F[b++];return(128&a)>0?void(b-=7):dt(e,n,r,i,s,o,a)}{let s=F[b++],o=F[b++],a=F[b++],c=F[b++];if((128&s)>0||(128&o)>0||(128&a)>0||(128&c)>0)return void(b-=8);if(t<10){if(8===t)return dt(e,n,r,i,s,o,a,c);{let l=F[b++];return(128&l)>0?void(b-=9):dt(e,n,r,i,s,o,a,c,l)}}if(t<12){let l=F[b++],u=F[b++];if((128&l)>0||(128&u)>0)return void(b-=10);if(t<11)return dt(e,n,r,i,s,o,a,c,l,u);let d=F[b++];return(128&d)>0?void(b-=11):dt(e,n,r,i,s,o,a,c,l,u,d)}{let l=F[b++],u=F[b++],d=F[b++],f=F[b++];if((128&l)>0||(128&u)>0||(128&d)>0||(128&f)>0)return void(b-=12);if(t<14){if(12===t)return dt(e,n,r,i,s,o,a,c,l,u,d,f);{let h=F[b++];return(128&h)>0?void(b-=13):dt(e,n,r,i,s,o,a,c,l,u,d,f,h)}}{let h=F[b++],p=F[b++];if((128&h)>0||(128&p)>0)return void(b-=14);if(t<15)return dt(e,n,r,i,s,o,a,c,l,u,d,f,h,p);let v=F[b++];return(128&v)>0?void(b-=15):dt(e,n,r,i,s,o,a,c,l,u,d,f,h,p,v)}}}}}let Rp=new Float32Array(1),xs=new Uint8Array(Rp.buffer,0,4);new Array(4096);class bi{constructor(e,n){this.value=e,this.tag=n}}Ne[0]=t=>new Date(t),Ne[1]=t=>new Date(Math.round(1e3*t)),Ne[2]=t=>{let e=BigInt(0);for(let n=0,r=t.byteLength;n<r;n++)e=BigInt(t[n])+e<<BigInt(8);return e},Ne[3]=t=>BigInt(-1)-Ne[2](t),Ne[4]=t=>+(t[1]+"e"+t[0]),Ne[5]=t=>t[1]*Math.exp(t[0]*Math.log(2));const kp=(t,e)=>{let n=He[t-=57344];n&&n.isShared&&((He.restoreStructures||(He.restoreStructures=[]))[t]=n),He[t]=e,e.read=Ap(e)};Ne[105]=t=>{let e=t.length,n=t[1];kp(t[0],n);let r={};for(let i=2;i<e;i++)r[mn(n[i-2])]=t[i];return r},Ne[14]=t=>Qe?Qe[0].slice(Qe.position0,Qe.position0+=t):new bi(t,14),Ne[15]=t=>Qe?Qe[1].slice(Qe.position1,Qe.position1+=t):new bi(t,15);let EB={Error,RegExp};Ne[27]=t=>(EB[t[0]]||Error)(t[1],t[2]);const Iw=t=>{if(132!=F[b++]){let n=new Error("Packed values structure must be followed by a 4 element array");throw F.length<b&&(n.incomplete=!0),n}let e=t();if(!e||!e.length){let n=new Error("Packed values structure must be followed by a 4 element array");throw n.incomplete=!0,n}return $t=$t?e.concat($t.slice(e.length)):e,$t.prefixes=t(),$t.suffixes=t(),t()};function Ms(t,e){return"string"==typeof t?t+e:t instanceof Array?t.concat(e):Object.assign({},t,e)}function Di(){if(!$t){if(!he.getShared)throw new Error("No packed values available");Pp()}return $t}Iw.handlesRead=!0,Ne[51]=Iw,Ne[6]=t=>{if(!$t){if(!he.getShared)return new bi(t,6);Pp()}if("number"==typeof t)return $t[16+(t>=0?2*t:-2*t-1)];let e=new Error("No support for non-integer packed references yet");throw void 0===t&&(e.incomplete=!0),e},Ne[28]=t=>{Pn||(Pn=new Map,Pn.id=0);let r,e=Pn.id++;r=F[b]>>5==4?[]:{};let i={target:r};Pn.set(e,i);let s=t();return i.used?Object.assign(r,s):(i.target=s,s)},Ne[28].handlesRead=!0,Ne[29]=t=>{let e=Pn.get(t);return e.used=!0,e.target},Ne[258]=t=>new Set(t),(Ne[259]=t=>(he.mapsAsObjects&&(he.mapsAsObjects=!1,sa=!0),t())).handlesRead=!0,Tp.push((t,e)=>t>=225&&t<=255?Ms(Di().prefixes[t-224],e):t>=28704&&t<=32767?Ms(Di().prefixes[t-28672],e):t>=1879052288&&t<=2147483647?Ms(Di().prefixes[t-1879048192],e):t>=216&&t<=223?Ms(e,Di().suffixes[t-216]):t>=27647&&t<=28671?Ms(e,Di().suffixes[t-27639]):t>=1811940352&&t<=1879048191?Ms(e,Di().suffixes[t-1811939328]):1399353956==t?{packedValues:$t,structures:He.slice(0),version:e}:55799==t?e:void 0);const SB=1==new Uint8Array(new Uint16Array([1]).buffer)[0],Rw=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,"undefined"==typeof BigUint64Array?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,"undefined"==typeof BigInt64Array?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],xB=[64,68,69,70,71,72,77,78,79,85,86];for(let t=0;t<Rw.length;t++)MB(Rw[t],xB[t]);function MB(t,e){let r,n="get"+t.name.slice(0,-5);"function"==typeof t?r=t.BYTES_PER_ELEMENT:t=null;for(let i=0;i<2;i++){if(!i&&1==r)continue;let s=2==r?1:4==r?2:3;Ne[i?e:e-4]=1==r||i==SB?o=>{if(!t)throw new Error("Could not find typed array for code "+e);return he.copyBuffers||1!==r&&(2!==r||1&o.byteOffset)&&(4!==r||3&o.byteOffset)&&(8!==r||7&o.byteOffset)?new t(Uint8Array.prototype.slice.call(o,0).buffer):new t(o.buffer,o.byteOffset,o.byteLength)}:o=>{if(!t)throw new Error("Could not find typed array for code "+e);let a=new DataView(o.buffer,o.byteOffset,o.byteLength),c=o.length>>s,l=new t(c),u=a[n];for(let d=0;d<c;d++)l[d]=u.call(a,d<<s,i);return l}}}function Ts(){let t=31&F[b++];if(t>23)switch(t){case 24:t=F[b++];break;case 25:t=ut.getUint16(b),b+=2;break;case 26:t=ut.getUint32(b),b+=4}return t}function Pp(){if(he.getShared){let t=kw(()=>(F=null,he.getShared()))||{},e=t.structures||[];he.sharedVersion=t.version,$t=he.sharedValues=t.packedValues,!0===He?he.structures=He=e:He.splice.apply(He,[0,e.length].concat(e))}}function kw(t){let e=_r,n=b,r=ia,i=Ci,s=Cr,o=Ss,a=_i,c=Pn,l=Qe,u=new Uint8Array(F.slice(0,_r)),d=He,f=he,h=oa,p=t();return _r=e,b=n,ia=r,Ci=i,Cr=s,Ss=o,_i=a,Pn=c,Qe=l,F=u,oa=h,He=d,he=f,ut=new DataView(F.buffer,F.byteOffset,F.byteLength),p}function Op(){F=null,Pn=null,He=null}const Rl=new Array(147);for(let t=0;t<256;t++)Rl[t]=+("1e"+Math.floor(45.15-.30103*t));let kl,Pl,Fp,Np=new aa({useRecords:!1});try{kl=new TextEncoder}catch(t){}const Ol="object"==typeof globalThis&&globalThis.Buffer,ca=void 0!==Ol,Lp=ca?Ol.allocUnsafeSlow:Uint8Array,Pw=ca?Ol:Uint8Array,Nw=ca?4294967296:2144337920;let Vp,_,Te,Hr,m=0,rt=null;const RB=/[\u0080-\uFFFF]/,rn=Symbol("record-id");function Fw(t,e){t<24?_[m++]=e|t:t<256?(_[m++]=24|e,_[m++]=t):t<65536?(_[m++]=25|e,_[m++]=t>>8,_[m++]=255&t):(_[m++]=26|e,Te.setUint32(m,t),m+=4)}class Lw{constructor(e,n,r){this.structures=e,this.packedValues=n,this.version=r}}function Xn(t){t<24?_[m++]=128|t:t<256?(_[m++]=152,_[m++]=t):t<65536?(_[m++]=153,_[m++]=t>>8,_[m++]=255&t):(_[m++]=154,Te.setUint32(m,t),m+=4)}const PB="undefined"==typeof Blob?function(){}:Blob;function Bp(t){if(t instanceof PB)return!0;let e=t[Symbol.toStringTag];return"Blob"===e||"File"===e}function Nl(t,e){switch(typeof t){case"string":if(t.length>3){if(e.objectMap[t]>-1||e.values.length>=e.maxValues)return;let r=e.get(t);if(r)2==++r.count&&e.values.push(t);else if(e.set(t,{count:1}),e.samplingPackedValues){let i=e.samplingPackedValues.get(t);i?i.count++:e.samplingPackedValues.set(t,{count:1})}}break;case"object":if(t)if(t instanceof Array)for(let r=0,i=t.length;r<i;r++)Nl(t[r],e);else{let r=!e.encoder.useRecords;for(var n in t)t.hasOwnProperty(n)&&(r&&Nl(n,e),Nl(t[n],e))}break;case"function":console.log(t)}}const OB=1==new Uint8Array(new Uint16Array([1]).buffer)[0];function er(t,e){return!OB&&e>1&&(t-=4),{tag:t,encode:function(r,i){let s=r.byteLength,o=r.byteOffset||0,a=r.buffer||r;i(ca?Ol.from(a,o,s):new Uint8Array(a,o,s))}}}function Vw(t,e){let n=t.byteLength;n<24?_[m++]=64+n:n<256?(_[m++]=88,_[m++]=n):n<65536?(_[m++]=89,_[m++]=n>>8,_[m++]=255&n):(_[m++]=90,Te.setUint32(m,n),m+=4),m+n>=_.length&&e(m+n),_.set(t.buffer?t:new Uint8Array(t),m),m+=n}function Bw(t,e){Te.setUint32(rt.position+t,m-rt.position-t+1);let n=rt;rt=null,e(n[0]),e(n[1])}Fp=[Date,Set,Error,RegExp,bi,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,"undefined"==typeof BigUint64Array?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,"undefined"==typeof BigInt64Array?function(){}:BigInt64Array,Float32Array,Float64Array,Lw],Pl=[{tag:1,encode(t,e){let n=t.getTime()/1e3;(this.useTimestamp32||0===t.getMilliseconds())&&n>=0&&n<4294967296?(_[m++]=26,Te.setUint32(m,n),m+=4):(_[m++]=251,Te.setFloat64(m,n),m+=8)}},{tag:258,encode(t,e){e(Array.from(t))}},{tag:27,encode(t,e){e([t.name,t.message])}},{tag:27,encode(t,e){e(["RegExp",t.source,t.flags])}},{getTag:t=>t.tag,encode(t,e){e(t.value)}},{encode(t,e,n){Vw(t,n)}},{getTag(t){if(t.constructor===Uint8Array&&(this.tagUint8Array||ca&&!1!==this.tagUint8Array))return 64},encode(t,e,n){Vw(t,n)}},er(68,1),er(69,2),er(70,4),er(71,8),er(72,1),er(77,2),er(78,4),er(79,8),er(85,4),er(86,8),{encode(t,e){let n=t.packedValues||[],r=t.structures||[];if(n.values.length>0){_[m++]=216,_[m++]=51,Xn(4);let i=n.values;e(i),Xn(0),Xn(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let s=0,o=i.length;s<o;s++)packedObjectMap[i[s]]=s}if(r){Te.setUint32(m,3655335424),m+=3;let i=r.slice(0);i.unshift(57344),i.push(new bi(t.version,1399353956)),e(i)}else e(new bi(t.version,1399353956))}}],new class kB extends aa{constructor(e){let r,i,s,o,a;super(e),this.offset=0;let c=Pw.prototype.utf8Write?function(C,L,I){return _.utf8Write(C,L,I)}:!(!kl||!kl.encodeInto)&&function(C,L){return kl.encodeInto(C,_.subarray(L)).written},l=this,d=(e=e||{}).maxSharedStructures;if(null==d&&(d=e.structures||e.saveStructures?128:0),d>8190)throw new Error("Maximum maxSharedStructure is 8190");let f=e.sequential;f&&(d=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let h,p,E,v=e.sharedValues;if(v){E=Object.create(null);for(let C=0,L=v.length;C<L;C++)E[v[C]]=C}let S=[],D=0,V=0;this.mapEncode=function(C,L){return this._keyMap&&!this._mapped&&"Array"===C.constructor.name&&(C=C.map(I=>this.encodeKeys(I))),this.encode(C,L)},this.encode=function(C,L){if(_||(_=new Lp(8192),Te=new DataView(_.buffer,0,8192),m=0),Hr=_.length-10,Hr-m<2048?(_=new Lp(_.length),Te=new DataView(_.buffer,0,_.length),Hr=_.length-10,m=0):L===jw&&(m=m+7&2147483640),r=m,l.useSelfDescribedHeader&&(Te.setUint32(m,3654940416),m+=3),a=l.structuredClone?new Map:null,l.bundleStrings&&"string"!=typeof C?(rt=[],rt.size=1/0):rt=null,i=l.structures,i){if(i.uninitialized){let R=l.getShared()||{};l.structures=i=R.structures||[],l.sharedVersion=R.version;let A=l.sharedValues=R.packedValues;if(A){E={};for(let U=0,q=A.length;U<q;U++)E[A[U]]=U}}let I=i.length;if(I>d&&!f&&(I=d),!i.transitions){i.transitions=Object.create(null);for(let R=0;R<I;R++){let A=i[R];if(!A)continue;let U,q=i.transitions;for(let z=0,oe=A.length;z<oe;z++){void 0===q[rn]&&(q[rn]=R);let ee=A[z];U=q[ee],U||(U=q[ee]=Object.create(null)),q=U}q[rn]=1048576|R}}f||(i.nextId=I)}if(s&&(s=!1),o=i||[],p=E,e.pack){let I=new Map;if(I.values=[],I.encoder=l,I.maxValues=e.maxPrivatePackedValues||(E?16:1/0),I.objectMap=E||!1,I.samplingPackedValues=h,Nl(C,I),I.values.length>0){_[m++]=216,_[m++]=51,Xn(4);let R=I.values;k(R),Xn(0),Xn(0),p=Object.create(E||null);for(let A=0,U=R.length;A<U;A++)p[R[A]]=A}}Vp=L&Up;try{if(Vp)return;if(k(C),rt&&Bw(r,k),l.offset=m,a&&a.idsToInsert){m+=2*a.idsToInsert.length,m>Hr&&st(m),l.offset=m;let I=function NB(t,e){let n,r=2*e.length,i=t.length-r;e.sort((s,o)=>s.offset>o.offset?1:-1);for(let s=0;s<e.length;s++){let o=e[s];o.id=s;for(let a of o.references)t[a++]=s>>8,t[a]=255&s}for(;n=e.pop();){let s=n.offset;t.copyWithin(s+r,s,i),r-=2;let o=s+r;t[o++]=216,t[o++]=28,i=s}return t}(_.subarray(r,m),a.idsToInsert);return a=null,I}return L&jw?(_.start=r,_.end=m,_):_.subarray(r,m)}finally{if(i)if(V<10&&V++,i.length>d&&(i.length=d),D>1e4)i.transitions=null,V=0,D=0,S.length>0&&(S=[]);else if(S.length>0&&!f){for(let I=0,R=S.length;I<R;I++)S[I][rn]=void 0;S=[]}if(s&&l.saveShared){l.structures.length>d&&(l.structures=l.structures.slice(0,d));let I=_.subarray(r,m);return!1===l.updateSharedData()?l.encode(C):I}L&FB&&(m=r)}},this.findCommonStringsToPack=()=>(h=new Map,E||(E=Object.create(null)),C=>{let L=C&&C.threshold||4,I=this.pack?C.maxPrivatePackedValues||16:0;v||(v=this.sharedValues=[]);for(let[R,A]of h)A.count>L&&(E[R]=I++,v.push(R),s=!0);for(;this.saveShared&&!1===this.updateSharedData(););h=null});const k=C=>{m>Hr&&(_=st(m));var I,L=typeof C;if("string"===L){if(p){let q=p[C];if(q>=0)return void(q<16?_[m++]=q+224:(_[m++]=198,k(1&q?15-q>>1:q-16>>1)));if(h&&!e.pack){let z=h.get(C);z?z.count++:h.set(C,{count:1})}}let A,R=C.length;if(rt&&R>=4&&R<1024){if((rt.size+=R)>61440){let z,oe=(rt[0]?3*rt[0].length+rt[1].length:0)+10;m+oe>Hr&&(_=st(m+oe)),_[m++]=217,_[m++]=223,_[m++]=249,_[m++]=rt.position?132:130,_[m++]=26,z=m-r,m+=4,rt.position&&Bw(r,k),rt=["",""],rt.size=0,rt.position=z}let q=RB.test(C);return rt[q?0:1]+=C,_[m++]=q?206:207,void k(R)}A=R<32?1:R<256?2:R<65536?3:5;let U=3*R;if(m+U>Hr&&(_=st(m+U)),R<64||!c){let q,z,oe,ee=m+A;for(q=0;q<R;q++)z=C.charCodeAt(q),z<128?_[ee++]=z:z<2048?(_[ee++]=z>>6|192,_[ee++]=63&z|128):55296==(64512&z)&&56320==(64512&(oe=C.charCodeAt(q+1)))?(z=65536+((1023&z)<<10)+(1023&oe),q++,_[ee++]=z>>18|240,_[ee++]=z>>12&63|128,_[ee++]=z>>6&63|128,_[ee++]=63&z|128):(_[ee++]=z>>12|224,_[ee++]=z>>6&63|128,_[ee++]=63&z|128);I=ee-m-A}else I=c(C,m+A,U);I<24?_[m++]=96|I:I<256?(A<2&&_.copyWithin(m+2,m+1,m+1+I),_[m++]=120,_[m++]=I):I<65536?(A<3&&_.copyWithin(m+3,m+2,m+2+I),_[m++]=121,_[m++]=I>>8,_[m++]=255&I):(A<5&&_.copyWithin(m+5,m+3,m+3+I),_[m++]=122,Te.setUint32(m,I),m+=4),m+=I}else if("number"===L)if(this.alwaysUseFloat||C>>>0!==C)if(this.alwaysUseFloat||C>>0!==C){let R;if((R=this.useFloat32)>0&&C<4294967296&&C>=-2147483648){let A;if(_[m++]=250,Te.setFloat32(m,C),R<4||(A=C*Rl[(127&_[m])<<1|_[m+1]>>7])>>0===A)return void(m+=4);m--}_[m++]=251,Te.setFloat64(m,C),m+=8}else C>=-24?_[m++]=31-C:C>=-256?(_[m++]=56,_[m++]=~C):C>=-65536?(_[m++]=57,Te.setUint16(m,~C),m+=2):(_[m++]=58,Te.setUint32(m,~C),m+=4);else C<24?_[m++]=C:C<256?(_[m++]=24,_[m++]=C):C<65536?(_[m++]=25,_[m++]=C>>8,_[m++]=255&C):(_[m++]=26,Te.setUint32(m,C),m+=4);else if("object"===L)if(C){if(a){let A=a.get(C);if(A){if(_[m++]=216,_[m++]=29,_[m++]=25,!A.references){let U=a.idsToInsert||(a.idsToInsert=[]);A.references=[],U.push(A)}return A.references.push(m-r),void(m+=2)}a.set(C,{offset:m-r})}let R=C.constructor;if(R===Object)ue(C,!0);else if(R===Array){(I=C.length)<24?_[m++]=128|I:Xn(I);for(let A=0;A<I;A++)k(C[A])}else if(R===Map)if((this.mapsAsObjects?!1!==this.useTag259ForMaps:this.useTag259ForMaps)&&(_[m++]=217,_[m++]=1,_[m++]=3),(I=C.size)<24?_[m++]=160|I:I<256?(_[m++]=184,_[m++]=I):I<65536?(_[m++]=185,_[m++]=I>>8,_[m++]=255&I):(_[m++]=186,Te.setUint32(m,I),m+=4),l.keyMap)for(let[A,U]of C)k(l.encodeKey(A)),k(U);else for(let[A,U]of C)k(A),k(U);else{for(let A=0,U=Pl.length;A<U;A++)if(C instanceof Fp[A]){let z=Pl[A],oe=z.tag;return null==oe&&(oe=z.getTag&&z.getTag.call(this,C)),oe<24?_[m++]=192|oe:oe<256?(_[m++]=216,_[m++]=oe):oe<65536?(_[m++]=217,_[m++]=oe>>8,_[m++]=255&oe):oe>-1&&(_[m++]=218,Te.setUint32(m,oe),m+=4),void z.encode.call(this,C,k,st)}if(C[Symbol.iterator]){if(Vp){let A=new Error("Iterable should be serialized as iterator");throw A.iteratorNotHandled=!0,A}_[m++]=159;for(let A of C)k(A);return void(_[m++]=255)}if(C[Symbol.asyncIterator]||Bp(C)){let A=new Error("Iterable/blob should be serialized as iterator");throw A.iteratorNotHandled=!0,A}if(this.useToJSON&&C.toJSON){const A=C.toJSON();if(A!==C)return k(A)}ue(C,!C.hasOwnProperty)}}else _[m++]=246;else if("boolean"===L)_[m++]=C?245:244;else if("bigint"===L){if(C<BigInt(1)<<BigInt(64)&&C>=0)_[m++]=27,Te.setBigUint64(m,C);else if(C>-(BigInt(1)<<BigInt(64))&&C<0)_[m++]=59,Te.setBigUint64(m,-C-BigInt(1));else{if(!this.largeBigIntToFloat)throw new RangeError(C+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");_[m++]=251,Te.setFloat64(m,Number(C))}m+=8}else{if("undefined"!==L)throw new Error("Unknown type: "+L);_[m++]=247}},ue=!1===this.useRecords?this.variableMapSize?C=>{let L=Object.keys(C),I=Object.values(C),R=L.length;if(R<24?_[m++]=160|R:R<256?(_[m++]=184,_[m++]=R):R<65536?(_[m++]=185,_[m++]=R>>8,_[m++]=255&R):(_[m++]=186,Te.setUint32(m,R),m+=4),l.keyMap)for(let U=0;U<R;U++)k(l.encodeKey(L[U])),k(I[U]);else for(let U=0;U<R;U++)k(L[U]),k(I[U])}:(C,L)=>{_[m++]=185;let I=m-r;m+=2;let R=0;if(l.keyMap)for(let A in C)(L||C.hasOwnProperty(A))&&(k(l.encodeKey(A)),k(C[A]),R++);else for(let A in C)(L||C.hasOwnProperty(A))&&(k(A),k(C[A]),R++);_[I+++r]=R>>8,_[I+r]=255&R}:(C,L)=>{let I,q,z,R=o.transitions||(o.transitions=Object.create(null)),A=0,U=0;if(this.keyMap){z=Object.keys(C).map(ee=>this.encodeKey(ee)),U=z.length;for(let ee=0;ee<U;ee++){let fa=z[ee];I=R[fa],I||(I=R[fa]=Object.create(null),A++),R=I}}else for(let ee in C)(L||C.hasOwnProperty(ee))&&(I=R[ee],I||(1048576&R[rn]&&(q=65535&R[rn]),I=R[ee]=Object.create(null),A++),R=I,U++);let oe=R[rn];if(void 0!==oe)oe&=65535,_[m++]=217,_[m++]=oe>>8|224,_[m++]=255&oe;else{if(z||(z=R.__keys__||(R.__keys__=Object.keys(C))),void 0===q?(oe=o.nextId++,oe||(oe=0,o.nextId=1),oe>=256&&(o.nextId=(oe=d)+1)):oe=q,o[oe]=z,!(oe<d)){if(R[rn]=oe,Te.setUint32(m,3655335680),m+=3,A&&(D+=V*A),S.length>=256-d&&(S.shift()[rn]=void 0),S.push(R),Xn(U+2),k(57344+oe),k(z),null===L)return;for(let ee in C)(L||C.hasOwnProperty(ee))&&k(C[ee]);return}_[m++]=217,_[m++]=oe>>8|224,_[m++]=255&oe,R=o.transitions;for(let ee=0;ee<U;ee++)(void 0===R[rn]||1048576&R[rn])&&(R[rn]=oe),R=R[z[ee]];R[rn]=1048576|oe,s=!0}if(U<24?_[m++]=128|U:Xn(U),null!==L)for(let ee in C)(L||C.hasOwnProperty(ee))&&k(C[ee])},st=C=>{let L;if(C>16777216){if(C-r>Nw)throw new Error("Encoded buffer would be larger than maximum buffer size");L=Math.min(Nw,4096*Math.round(Math.max((C-r)*(C>67108864?1.25:2),4194304)/4096))}else L=1+(Math.max(C-r<<2,_.length-1)>>12)<<12;let I=new Lp(L);return Te=new DataView(I.buffer,0,L),_.copy?_.copy(I,0,r,C):I.set(_.slice(r,C)),m-=r,r=0,Hr=I.length-10,_=I};let Vt=100,Rs=1e3;function*tr(C,L,I){let R=C.constructor;if(R===Object){let A=!1!==l.useRecords;A?ue(C,null):Fw(Object.keys(C).length,160);for(let U in C){let q=C[U];A||k(U),q&&"object"==typeof q?L[U]?yield*tr(q,L[U]):yield*Mi(q,L,U):k(q)}}else if(R===Array){let A=C.length;Xn(A);for(let U=0;U<A;U++){let q=C[U];q&&("object"==typeof q||m-r>Vt)?L.element?yield*tr(q,L.element):yield*Mi(q,L,"element"):k(q)}}else if(C[Symbol.iterator]){_[m++]=159;for(let A of C)A&&("object"==typeof A||m-r>Vt)?L.element?yield*tr(A,L.element):yield*Mi(A,L,"element"):k(A);_[m++]=255}else Bp(C)?(Fw(C.size,64),yield _.subarray(r,m),yield C,br()):C[Symbol.asyncIterator]?(_[m++]=159,yield _.subarray(r,m),yield C,br(),_[m++]=255):k(C);I&&m>r?yield _.subarray(r,m):m-r>Vt&&(yield _.subarray(r,m),br())}function*Mi(C,L,I){let R=m-r;try{k(C),m-r>Vt&&(yield _.subarray(r,m),br())}catch(A){if(!A.iteratorNotHandled)throw A;L[I]={},m=r+R,yield*tr.call(this,C,L[I])}}function br(){Vt=Rs,l.encode(null,Up)}function ks(C,L,I){return Vt=L&&L.chunkThreshold?Rs=L.chunkThreshold:100,C&&"object"==typeof C?(l.encode(null,Up),I(C,l.iterateProperties||(l.iterateProperties={}),!0)):[l.encode(C)]}function Ps(C,L){return Ti.apply(this,arguments)}function Ti(){return(Ti=nB(function*(C,L){for(let z of tr(C,L,!0)){let oe=z.constructor;if(oe===Pw||oe===Uint8Array)yield z;else if(Bp(z)){let fa,ee=z.stream().getReader();for(;!(fa=yield xl(ee.read())).done;)yield fa.value}else if(z[Symbol.asyncIterator]){var A,I=!1,R=!1;try{for(var q,U=Dw(z);I=!(q=yield xl(U.next())).done;I=!1){let ee=q.value;br(),ee?yield*hB(Dw(Ps(ee,L.async||(L.async={}))),xl):yield l.encode(ee)}}catch(ee){R=!0,A=ee}finally{try{I&&null!=U.return&&(yield xl(U.return()))}finally{if(R)throw A}}}else yield z}})).apply(this,arguments)}this.encodeAsIterable=function(C,L){return ks(C,L,tr)},this.encodeAsAsyncIterable=function(C,L){return ks(C,L,Ps)}}useBuffer(e){_=e,Te=new DataView(_.buffer,_.byteOffset,_.byteLength),m=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let n=this.structures.slice(0),r=new Lw(n,this.sharedValues,this.sharedVersion),i=this.saveShared(r,s=>(s&&s.version||0)==e);return!1===i?(r=this.getShared()||{},this.structures=r.structures||[],this.sharedValues=r.packedValues,this.sharedVersion=r.version,this.structures.nextId=this.structures.length):n.forEach((s,o)=>this.structures[o]=s),i}}({useRecords:!1});const jw=512,FB=1024,Up=2048;function Ei(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}class Uw{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],r=e.byteLength,i=Math.ceil(r/this.chunkedMTU);let s=0,o=0;for(;o<r;){const a=Math.min(r,o+this.chunkedMTU),c=e.slice(o,a);n.push({__peerData:this._dataCount,n:s,data:c,total:i}),o=a,s++}return this._dataCount++,n}}}const Hp=bw.default||bw,la=new class{isWebRTCSupported(){return"undefined"!=typeof RTCPeerConnection}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return!!this.supportedBrowsers.includes(t)&&("chrome"===t?e>=this.minChromeVersion:"firefox"===t?e>=this.minFirefoxVersion:"safari"===t&&!this.isIOS&&e>=this.minSafariVersion)}getBrowser(){return Hp.browserDetails.browser}getVersion(){return Hp.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=Hp.browserDetails.version||0;if("chrome"===t&&e<this.minChromeVersion)return!1;if("firefox"===t&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch(i){}finally{n&&n.close()}return r}toString(){return`Supports:\n    browser:${this.getBrowser()}\n    version:${this.getVersion()}\n    isIOS:${this.isIOS}\n    isWebRTCSupported:${this.isWebRTCSupported()}\n    isBrowserSupported:${this.isBrowserSupported()}\n    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},jB=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),$w=()=>Math.random().toString(36).slice(2),Hw={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Ht=new class UB extends Uw{noop(){}blobToArrayBuffer(e,n){const r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=255&e.charCodeAt(r);return n.buffer}isSecure(){return"https:"===location.protocol}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Hw,this.browser=la.getBrowser(),this.browserVersion=la.getVersion(),this.pack=VE,this.unpack=LE,this.supports=function(){const n={browser:la.isBrowserSupported(),webRTC:la.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{let i;r=new RTCPeerConnection(Hw),n.audioVideo=!0;try{i=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!i.ordered;try{i.binaryType="blob",n.binaryBlob=!la.isIOS}catch(s){}}catch(s){}finally{i&&i.close()}}catch(i){}finally{r&&r.close()}return n}(),this.validateId=jB,this.randomToken=$w}};var Gp,sn=(()=>{return(t=sn||(sn={}))[t.Disabled=0]="Disabled",t[t.Errors=1]="Errors",t[t.Warnings=2]="Warnings",t[t.All=3]="All",sn;var t})(),B=new class HB{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=sn.All&&this._print(sn.All,...e)}warn(...e){this._logLevel>=sn.Warnings&&this._print(sn.Warnings,...e)}error(...e){this._logLevel>=sn.Errors&&this._print(sn.Errors,...e)}setLogFunction(e){this._print=e}_print(e,...n){const r=["PeerJS: ",...n];for(const i in r)r[i]instanceof Error&&(r[i]="("+r[i].name+") "+r[i].message);e>=sn.All?console.log(...r):e>=sn.Warnings?console.warn("WARNING",...r):e>=sn.Errors&&console.error("ERROR",...r)}constructor(){this._logLevel=sn.Disabled}},GB=Object.prototype.hasOwnProperty,Lt="~";function ua(){}function zB(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function Gw(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new zB(n,r||t,i),o=Lt?Lt+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],s]:t._events[o].push(s):(t._events[o]=s,t._eventsCount++),t}function Fl(t,e){0==--t._eventsCount?t._events=new ua:delete t._events[e]}function Tt(){this._events=new ua,this._eventsCount=0}Object.create&&(ua.prototype=Object.create(null),(new ua).__proto__||(Lt=!1)),Tt.prototype.eventNames=function(){var n,r,e=[];if(0===this._eventsCount)return e;for(r in n=this._events)GB.call(n,r)&&e.push(Lt?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e},Tt.prototype.listeners=function(e){var r=this._events[Lt?Lt+e:e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},Tt.prototype.listenerCount=function(e){var r=this._events[Lt?Lt+e:e];return r?r.fn?1:r.length:0},Tt.prototype.emit=function(e,n,r,i,s,o){var a=Lt?Lt+e:e;if(!this._events[a])return!1;var u,d,c=this._events[a],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,n),!0;case 3:return c.fn.call(c.context,n,r),!0;case 4:return c.fn.call(c.context,n,r,i),!0;case 5:return c.fn.call(c.context,n,r,i,s),!0;case 6:return c.fn.call(c.context,n,r,i,s,o),!0}for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var h,f=c.length;for(d=0;d<f;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,n);break;case 3:c[d].fn.call(c[d].context,n,r);break;case 4:c[d].fn.call(c[d].context,n,r,i);break;default:if(!u)for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];c[d].fn.apply(c[d].context,u)}}return!0},Tt.prototype.on=function(e,n,r){return Gw(this,e,n,r,!1)},Tt.prototype.once=function(e,n,r){return Gw(this,e,n,r,!0)},Tt.prototype.removeListener=function(e,n,r,i){var s=Lt?Lt+e:e;if(!this._events[s])return this;if(!n)return Fl(this,s),this;var o=this._events[s];if(o.fn)o.fn===n&&(!i||o.once)&&(!r||o.context===r)&&Fl(this,s);else{for(var a=0,c=[],l=o.length;a<l;a++)(o[a].fn!==n||i&&!o[a].once||r&&o[a].context!==r)&&c.push(o[a]);c.length?this._events[s]=1===c.length?c[0]:c:Fl(this,s)}return this},Tt.prototype.removeAllListeners=function(e){var n;return e?this._events[n=Lt?Lt+e:e]&&Fl(this,n):(this._events=new ua,this._eventsCount=0),this},Tt.prototype.off=Tt.prototype.removeListener,Tt.prototype.addListener=Tt.prototype.on,Tt.prefixed=Lt,Tt.EventEmitter=Tt,Gp=Tt;var wi={};Ei(wi,"ConnectionType",()=>On),Ei(wi,"PeerErrorType",()=>Fe),Ei(wi,"BaseConnectionErrorType",()=>As),Ei(wi,"DataConnectionErrorType",()=>Is),Ei(wi,"SerializationType",()=>Si),Ei(wi,"SocketEventType",()=>Nn),Ei(wi,"ServerMessageType",()=>it);var zp,On=(()=>{return(t=On||(On={})).Data="data",t.Media="media",On;var t})(),Fe=(()=>{return(t=Fe||(Fe={})).BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",Fe;var t})(),As=(()=>{return(t=As||(As={})).NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",As;var t})(),Is=(()=>{return(t=Is||(Is={})).NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",Is;var t})(),Si=(()=>{return(t=Si||(Si={})).Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",Si;var t})(),Nn=(()=>{return(t=Nn||(Nn={})).Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",Nn;var t})(),it=(()=>{return(t=it||(it={})).Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",it;var t})();zp=JSON.parse('{"name":"peerjs","version":"1.5.1","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xfcckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-cbor":"dist/serializer.cbor.mjs","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-cbor":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/Cbor.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","cbor-x":"^1.5.3","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.0.0","webrtc-adapter":"^8.0.0"},"alias":{"process":false,"buffer":false}}');class qB extends Gp.EventEmitter{constructor(e,n,r,i,s,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[],this._baseUrl=(e?"wss://":"ws://")+n+":"+r+i+"peerjs?key="+s}start(e,n){this._id=e,this._socket||!this._disconnected||(this._socket=new WebSocket(`${this._baseUrl}&id=${e}&token=${n}&version=`+zp.version),this._disconnected=!1,this._socket.onmessage=i=>{let s;try{s=JSON.parse(i.data),B.log("Server message received:",s)}catch(o){return void B.log("Invalid server message",i.data)}this.emit(Nn.Message,s)},this._socket.onclose=i=>{this._disconnected||(B.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(Nn.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),B.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen())return void B.log("Cannot send heartbeat, because socket closed");const e=JSON.stringify({type:it.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&1===this._socket.readyState}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id)return void this._messagesQueue.push(e);if(!e.type)return void this.emit(Nn.Error,"Invalid message");if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class zw{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===On.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const r=this.connection,s=n.createDataChannel(r.label,{ordered:!!e.reliable});r._initializeDataChannel(s),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){B.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,s=this.connection.provider;B.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(B.log(`Received ICE candidates for ${n}:`,o.candidate),s.socket.send({type:it.Candidate,payload:{candidate:o.candidate,type:i,connectionId:r},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":B.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(As.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":B.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(As.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":B.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{}}this.connection.emit("iceStateChanged",e.iceConnectionState)},B.log("Listening for data channel"),e.ondatachannel=o=>{B.log("Received data channel");const a=o.channel;s.getConnection(n,r)._initializeDataChannel(a)},B.log("Listening for remote stream"),e.ontrack=o=>{B.log("Received remote stream");const a=o.streams[0],c=s.getConnection(n,r);c.type===On.Media&&this._addStreamToMediaConnection(a,c)}}cleanup(){B.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};let r=!1;const i=this.connection.dataChannel;i&&(r=!!i.readyState&&"closed"!==i.readyState),("closed"!==e.signalingState||r)&&e.close()}_makeOffer(){var e=this;return yi(function*(){const n=e.connection.peerConnection,r=e.connection.provider;try{const i=yield n.createOffer(e.connection.options.constraints);B.log("Created offer."),e.connection.options.sdpTransform&&"function"==typeof e.connection.options.sdpTransform&&(i.sdp=e.connection.options.sdpTransform(i.sdp)||i.sdp);try{yield n.setLocalDescription(i),B.log("Set localDescription:",i,`for:${e.connection.peer}`);let s={sdp:i,type:e.connection.type,connectionId:e.connection.connectionId,metadata:e.connection.metadata};if(e.connection.type===On.Data){const o=e.connection;s=Os(nr({},s),{label:o.label,reliable:o.reliable,serialization:o.serialization})}r.socket.send({type:it.Offer,payload:s,dst:e.connection.peer})}catch(s){"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=s&&(r.emitError(Fe.WebRTC,s),B.log("Failed to setLocalDescription, ",s))}}catch(i){r.emitError(Fe.WebRTC,i),B.log("Failed to createOffer, ",i)}})()}_makeAnswer(){var e=this;return yi(function*(){const n=e.connection.peerConnection,r=e.connection.provider;try{const i=yield n.createAnswer();B.log("Created answer."),e.connection.options.sdpTransform&&"function"==typeof e.connection.options.sdpTransform&&(i.sdp=e.connection.options.sdpTransform(i.sdp)||i.sdp);try{yield n.setLocalDescription(i),B.log("Set localDescription:",i,`for:${e.connection.peer}`),r.socket.send({type:it.Answer,payload:{sdp:i,type:e.connection.type,connectionId:e.connection.connectionId},dst:e.connection.peer})}catch(s){r.emitError(Fe.WebRTC,s),B.log("Failed to setLocalDescription, ",s)}}catch(i){r.emitError(Fe.WebRTC,i),B.log("Failed to create answer, ",i)}})()}handleSDP(e,n){var r=this;return yi(function*(){n=new RTCSessionDescription(n);const i=r.connection.peerConnection,s=r.connection.provider;B.log("Setting remote description",n);const o=r;try{yield i.setRemoteDescription(n),B.log(`Set remoteDescription:${e} for:${r.connection.peer}`),"OFFER"===e&&(yield o._makeAnswer())}catch(a){s.emitError(Fe.WebRTC,a),B.log("Failed to setRemoteDescription, ",a)}})()}handleCandidate(e){var n=this;return yi(function*(){B.log("handleCandidate:",e);try{yield n.connection.peerConnection.addIceCandidate(e),B.log(`Added ICE candidate for:${n.connection.peer}`)}catch(r){n.connection.provider.emitError(Fe.WebRTC,r),B.log("Failed to handleCandidate, ",r)}})()}_addTracksToConnection(e,n){if(B.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return B.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{n.addTrack(r,e)})}_addStreamToMediaConnection(e,n){B.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class qw extends Gp.EventEmitter{emitError(e,n){B.error("Error:",n),this.emit("error",new WB(`${e}`,n))}}class WB extends Error{constructor(e,n){"string"==typeof n?super(n):(super(),Object.assign(this,n)),this.type=e}}class Ww extends qw{get open(){return this._open}constructor(e,n,r){super(),this.peer=e,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}const Vl=class extends Ww{get type(){return On.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,r){super(e,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Vl.ID_PREFIX+Ht.randomToken(),this._negotiator=new zw(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{B.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{B.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){B.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,r=e.payload;switch(e.type){case it.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case it.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:B.warn(`Unrecognized message type:${n} from peer:${this.peer}`)}}answer(e,n={}){if(this._localStream)return void B.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection(Os(nr({},this.options._payload),{_stream:e}));const r=this.provider._getMessages(this.connectionId);for(const i of r)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};let Ll=Vl;Jp=new WeakMap,ha(Ll,Jp,void(Vl.ID_PREFIX="mc_"));class KB{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:r,port:i,path:s,key:o}=this._options,a=new URL(`${n}://${r}:${i}${s}${o}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",zp.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}retrieveId(){var e=this;return yi(function*(){try{const n=yield e._buildRequest("id");if(200!==n.status)throw new Error(`Error. Status:${n.status}`);return n.text()}catch(n){B.error("Error retrieving ID",n);let r="";throw"/"===e._options.path&&e._options.host!==Ht.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r)}})()}listAllPeers(){var e=this;return yi(function*(){try{const n=yield e._buildRequest("peers");if(200!==n.status){if(401===n.status){let r="";throw r=e._options.host===Ht.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+r)}throw new Error(`Error. Status:${n.status}`)}return n.json()}catch(n){throw B.error("Error retrieving list peers",n),new Error("Could not get list peers from the server."+n)}})()}}const da=class extends Ww{get type(){return On.Data}constructor(e,n,r){super(e,n,r),this.connectionId=this.options.connectionId||da.ID_PREFIX+$w(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new zw(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{B.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{B.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{B.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){(null==e?void 0:e.flush)?this.send({__peerData:{type:"close"}}):(this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close")))}send(e,n=!1){if(this.open)return this._send(e,n);this.emitError(Is.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.")}handleMessage(e){var n=this;return yi(function*(){const r=e.payload;switch(e.type){case it.Answer:yield n._negotiator.handleSDP(e.type,r.sdp);break;case it.Candidate:yield n._negotiator.handleCandidate(r.candidate);break;default:B.warn("Unrecognized message type:",e.type,"from peer:",n.peer)}})()}};let xi=da;Yp=new WeakMap,Qp=new WeakMap,ha(xi,Yp,void(da.ID_PREFIX="dc_")),ha(xi,Qp,void(da.MAX_BUFFERED_AMOUNT=8388608));class qp extends xi{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>xi.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return B.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){(null==e?void 0:e.flush)?this.send({__peerData:{type:"close"}}):(this._buffer=[],this._bufferSize=0,super.close())}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Wp extends qp{close(e){super.close(e),this._chunkedData={}}constructor(e,n,r){super(e,n,r),this.chunker=new Uw,this.serialization=Si.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=LE(e),r=n.__peerData;if(r)return"close"===r.type?void this.close():void this._handleChunk(n);this.emit("data",n)}_handleChunk(e){const n=e.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const i=function BB(t){let e=0;for(const i of t)e+=i.byteLength;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.byteLength;return n}(r.data);this._handleDataMessage({data:i})}}_send(e,n){if(e instanceof Blob)return e.arrayBuffer().then(i=>{this._send(i,n)});const r=VE(e);!n&&r.byteLength>this.chunker.chunkedMTU?this._sendChunks(r):this._bufferedSend(r)}_sendChunks(e){const n=this.chunker.chunk(e);B.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class JB extends qp{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Si.None}}class YB extends qp{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),r=n.__peerData;r&&"close"===r.type?this.close():this.emit("data",n)}_send(e,n){const r=this.encoder.encode(this.stringify(e));r.byteLength>=Ht.chunkedMTU?this.emitError(Is.MessageToBig,"Message too big for JSON channel"):this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=Si.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}const Bl=class extends qw{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,r]of this._connections)e[n]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){let r;super(),this._serializers={raw:JB,json:YB,binary:Wp,"binary-utf8":Wp,default:Wp},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map,e&&e.constructor==Object?n=e:e&&(r=e.toString()),n=nr({debug:0,host:Ht.CLOUD_HOST,port:Ht.CLOUD_PORT,path:"/",key:Bl.DEFAULT_KEY,token:Ht.randomToken(),config:Ht.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{}},n),this._options=n,this._serializers=nr(nr({},this._serializers),this.options.serializers),"/"===this._options.host&&(this._options.host=window.location.hostname),this._options.path&&("/"!==this._options.path[0]&&(this._options.path="/"+this._options.path),"/"!==this._options.path[this._options.path.length-1]&&(this._options.path+="/")),void 0===this._options.secure&&this._options.host!==Ht.CLOUD_HOST?this._options.secure=Ht.isSecure():this._options.host==Ht.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&B.setLogFunction(this._options.logFunction),B.logLevel=this._options.debug||0,this._api=new KB(n),this._socket=this._createServerConnection(),Ht.supports.audioVideo||Ht.supports.data?!r||Ht.validateId(r)?r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(Fe.ServerError,i)):this._delayedAbort(Fe.InvalidID,`ID "${r}" is invalid`):this._delayedAbort(Fe.BrowserIncompatible,"The current browser does not support WebRTC")}_createServerConnection(){const e=new qB(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Nn.Message,n=>{this._handleMessage(n)}),e.on(Nn.Error,n=>{this._abort(Fe.SocketError,n)}),e.on(Nn.Disconnected,()=>{this.disconnected||(this.emitError(Fe.Network,"Lost connection to server."),this.disconnect())}),e.on(Nn.Close,()=>{this.disconnected||this._abort(Fe.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,r=e.payload,i=e.src;switch(n){case it.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case it.Error:this._abort(Fe.ServerError,r.msg);break;case it.IdTaken:this._abort(Fe.UnavailableID,`ID "${this.id}" is taken`);break;case it.InvalidKey:this._abort(Fe.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case it.Leave:B.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case it.Expire:this.emitError(Fe.PeerUnavailable,`Could not connect to peer ${i}`);break;case it.Offer:{const s=r.connectionId;let o=this.getConnection(i,s);if(o&&(o.close(),B.warn(`Offer received for existing Connection ID:${s}`)),r.type===On.Media){const c=new Ll(i,this,{connectionId:s,_payload:r,metadata:r.metadata});o=c,this._addConnection(i,o),this.emit("call",c)}else{if(r.type!==On.Data)return void B.warn(`Received malformed connection type:${r.type}`);{const c=new this._serializers[r.serialization](i,this,{connectionId:s,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});o=c,this._addConnection(i,o),this.emit("connection",c)}}const a=this._getMessages(s);for(const c of a)o.handleMessage(c);break}default:{if(!r)return void B.warn(`You received a malformed message from ${i} of type ${n}`);const s=r.connectionId,o=this.getConnection(i,s);o&&o.peerConnection?o.handleMessage(e):s?this._storeMessage(s,e):B.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n=nr({serialization:"default"},n),this.disconnected)return B.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(Fe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");const r=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,r),r}call(e,n,r={}){if(this.disconnected)return B.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(Fe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(!n)return void B.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");const i=new Ll(e,this,Os(nr({},r),{_stream:n}));return this._addConnection(e,i),i}_addConnection(e,n){B.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const r=this._connections.get(e);if(!r)return null;for(const i of r)if(i.connectionId===n)return i;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){B.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(B.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const e=this.id;B.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)B.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`);B.error("In a hurry? We're still trying to make the initial connection!")}}listAllPeers(e=(n=>{})){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(Fe.ServerError,n))}};let Kp=Bl;Zp=new WeakMap,ha(Kp,Zp,void(Bl.DEFAULT_KEY="peerjs")),Symbol.for(null);var ej=Kp;let Yw=(()=>{class t{constructor(n,r){this.http=n,this.router=r,this.socket=_l("http://localhost:4000"),this.peer=new ej({host:"127.0.0.1",port:4e3,path:"/peerjs",config:{iceServers:[{url:"stun:stun01.sipphone.com"},{url:"stun:stun.ekiga.net"},{url:"stun:stunserver.org"},{url:"stun:stun.softjoys.com"},{url:"stun:stun.voiparound.com"},{url:"stun:stun.voipbuster.com"},{url:"stun:stun.voipstunt.com"},{url:"stun:stun.voxgratia.org"},{url:"stun:stun.xten.com"},{url:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{url:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}]},debug:3})}getSocket(){return this.socket}getPeer(){return this.peer}sendMessage(n){this.socket.emit("message",n)}onNewMessage(){return new Le(n=>{this.socket.on("new-message",r=>{n.next(r)})})}createNewRoom(){}}return t.\u0275fac=function(n){return new(n||t)(j(ep),j(lt))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tj(t,e){if(1&t){const n=function Av(){return T()}();Me(0,"div",4),yt("click",function(){const s=function Hg(t){return Y.lFrame.contextLView=t,t[8]}(n).$implicit;return Ov().onClickRoom(s)}),Xt(1),je()}if(2&t){const n=e.$implicit;ei(1),cc(" ",n.room_id," ")}}const nj=[{path:"",component:h2},{path:"register",component:p2},{path:"home",component:(()=>{class t{constructor(n,r,i){this.socketService=n,this.userService=r,this.router=i,this.rooms=[]}ngOnInit(){this.getRooms(),this.socketService.sendMessage("hi socket io"),console.log(this.socketService.onNewMessage())}onCreateNewRoom(){this.userService.createNewRoom().subscribe(n=>{n.success&&this.router.navigate([`${n.id}`])})}getRooms(){this.userService.getRooms().subscribe(n=>{this.rooms=n.body.success?n.body.data:[]})}onClickRoom(n){this.router.navigate([`${n.room_id}`])}}return t.\u0275fac=function(n){return new(n||t)(M(Yw),M(ul),M(lt))},t.\u0275cmp=Sr({type:t,selectors:[["app-home"]],decls:6,vars:1,consts:[[1,"outer-container"],["class","room",3,"click",4,"ngFor","ngForOf"],[1,"create-button"],[3,"click"],[1,"room",3,"click"]],template:function(n,r){1&n&&(Me(0,"div",0)(1,"div"),function yv(t,e,n,r,i,s,o,a){const c=T(),l=me(),u=t+20,d=l.firstCreatePass?function mI(t,e,n,r,i,s,o,a,c){const l=e.consts,u=Wi(e,t,4,o||null,Mr(l,a));Cd(e,n,u,Mr(l,c)),Ia(e,u);const d=u.tViews=ec(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];Bn(d,!1);const f=c[Z].createComment("");za(l,c,f,d),wt(f,c),tc(c,c[u]=Ly(f,c,f,d)),Sa(d)&&vd(l,c,d),null!=o&&_d(c,d,a)}(2,tj,2,1,"div",1),je(),Me(3,"div",2)(4,"button",3),yt("click",function(){return r.onCreateNewRoom()}),Xt(5,"Create Room"),je()()()),2&n&&(ei(2),ni("ngForOf",r.rooms))},directives:[CC],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap";[_ngcontent-%COMP%]:root{--main-darklg: #1d2635;--main-dark: #161d29;--primary-color: #2f80ec;--main-light: #eeeeee;font-family:Poppins,sans-serif}*[_ngcontent-%COMP%]{margin:0;padding:0}.header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:8vh;position:relative;width:100%;background-color:var(--main-darklg)}.logo[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{color:var(--main-light)}.main[_ngcontent-%COMP%]{overflow:hidden;height:92vh;display:flex}.main__left[_ngcontent-%COMP%]{flex:.7;display:flex;flex-direction:column}.videos__group[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center;align-items:center;padding:1rem;background-color:var(--main-dark)}video[_ngcontent-%COMP%]{height:300px;border-radius:1rem;margin:.5rem;width:400px;object-fit:cover;transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg)}.options[_ngcontent-%COMP%]{padding:1rem;display:flex;background-color:var(--main-darklg)}.options__left[_ngcontent-%COMP%]{display:flex}.options__right[_ngcontent-%COMP%]{margin-left:auto}.options__button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:var(--primary-color);height:50px;border-radius:5px;color:var(--main-light);font-size:1.2rem;width:50px;margin:0 .5rem}.background__red[_ngcontent-%COMP%]{background-color:#f6484a}.main__right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:.3;background-color:#242f41}.main__chat_window[_ngcontent-%COMP%]{flex-grow:1;overflow-y:scroll}.main__chat_window[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.main__message_container[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;justify-content:center}.main__message_container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:50px;flex:1;font-size:1rem;border-radius:5px;padding-left:20px;border:none}.messages[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1.5rem}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{color:#eee;display:flex;align-items:center;text-transform:capitalize}.message[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:.7rem;font-size:1.5rem}.message[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eee;margin:1rem 0;padding:1rem;border-radius:5px}#video-grid[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}#showChat[_ngcontent-%COMP%]{display:none}.header__back[_ngcontent-%COMP%]{display:none;position:absolute;font-size:1.3rem;top:17px;left:28px;color:#fff}@media (max-width: 700px){.main__right[_ngcontent-%COMP%]{display:none}.main__left[_ngcontent-%COMP%]{width:100%;flex:1}video[_ngcontent-%COMP%]{height:auto;width:100%}#showChat[_ngcontent-%COMP%]{display:flex}}.create-room[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:5px;background-color:#8fbc8f;width:50%}.create-room[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.room[_ngcontent-%COMP%]{margin:8% 0%;background:darkkhaki;width:100%;padding:6%;cursor:pointer}.outer-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:8%}.create-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;padding:5%;background-color:#0ff;cursor:pointer}']}),t})()},{path:":id",component:(()=>{class t{constructor(n,r,i){this.socketService=n,this.userService=r,this.route=i,this.route.params.subscribe(s=>{this.room_id=s.id})}ngOnInit(){var n;this.socket=this.socketService.getSocket(),this.peer=this.socketService.getPeer(),this.videoGrid=document.getElementById("video-grid");const r=document.createElement("video");r.muted=!0,null===(n=navigator.mediaDevices)||void 0===n||n.getUserMedia({audio:!0,video:!0}).then(i=>{this.myVideoStream=i,this.addVideoStream(r,i),this.peer.on("call",s=>{console.log("on call peer"),s.answer(i);const o=document.createElement("video");s.on("stream",a=>{console.log("call on stream"),this.addVideoStream(o,a)})}),this.socket.on("user-connected",s=>{console.log("on user-connected"),this.connectToNewUser(s,i)})}),this.peer.on("open",i=>{console.log("on peer open"),this.socket.emit("join-room",this.room_id,i)})}addVideoStream(n,r){n.srcObject=r,n.addEventListener("loadedmetadata",()=>{n.play(),this.videoGrid.append(n)})}connectToNewUser(n,r){const i=this.peer.call(n,r),s=document.createElement("video");i.on("stream",o=>{this.addVideoStream(s,o)})}}return t.\u0275fac=function(n){return new(n||t)(M(Yw),M(ul),M(di))},t.\u0275cmp=Sr({type:t,selectors:[["app-chat"]],decls:24,vars:0,consts:[[1,"header"],[1,"logo"],[1,"main"],[1,"main__left"],[1,"videos__group"],["id","video-grid"],[1,"options"],[1,"options__left"],[1,"options__button"],["aria-hidden","true",1,"fa","fa-video-camera"],["aria-hidden","true",1,"fa","fa-microphone"],[1,"options__right"],[1,"options__button","background__red"],["aria-hidden","true",1,"fa","fa-phone"],[1,"main__right"],[1,"main__chat_window"],[1,"messages"],[1,"main__message_container"],["id","chat_message","type","text","placeholder","Type message here..."],["aria-hidden","true",1,"fa","fa-plus"]],template:function(n,r){1&n&&(Me(0,"div",0)(1,"div",1)(2,"h3"),Xt(3,"Video Chat"),je()()(),Me(4,"div",2)(5,"div",3)(6,"div",4),xt(7,"div",5),je(),Me(8,"div",6)(9,"div",7)(10,"div",8),xt(11,"i",9),je(),Me(12,"div",8),xt(13,"i",10),je()(),Me(14,"div",11)(15,"div",12),xt(16,"i",13),je()()()(),Me(17,"div",14)(18,"div",15),xt(19,"ul",16),je(),Me(20,"div",17),xt(21,"input",18),Me(22,"div",8),xt(23,"i",19),je()()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap";[_ngcontent-%COMP%]:root{--main-darklg: #1d2635;--main-dark: #161d29;--primary-color: #2f80ec;--main-light: #eeeeee;font-family:Poppins,sans-serif}.header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:8vh;position:relative;width:100%;background-color:var(--main-darklg)}.logo[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{color:var(--main-light)}.videos__group[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center;align-items:center;padding:1rem;background-color:var(--main-dark)}.options[_ngcontent-%COMP%]{padding:1rem;display:flex;background-color:var(--main-darklg)}.options__button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:var(--primary-color);height:50px;border-radius:5px;color:var(--main-light);font-size:1.2rem;width:50px;margin:0 .5rem}.main__right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:.3;background-color:#242f41}.main__chat_window[_ngcontent-%COMP%]{flex-grow:1;overflow-y:scroll}.main__chat_window[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.main__message_container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:50px;flex:1;font-size:1rem;border-radius:5px;padding-left:20px;border:none}.messages[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1.5rem}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{color:#eee;display:flex;align-items:center;text-transform:capitalize}.message[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:.7rem;font-size:1.5rem}.message[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eee;margin:1rem 0;padding:1rem;border-radius:5px}#showChat[_ngcontent-%COMP%]{display:none}.header__back[_ngcontent-%COMP%]{display:none;position:absolute;font-size:1.3rem;top:17px;left:28px;color:#fff}@media (max-width: 700px){.main__right[_ngcontent-%COMP%]{display:none}.main__left[_ngcontent-%COMP%]{width:100%;flex:1}video[_ngcontent-%COMP%]{height:auto;width:100%}#showChat[_ngcontent-%COMP%]{display:flex}}.create-room[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:5px;background-color:#8fbc8f;width:50%}.create-room[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}*[_ngcontent-%COMP%]{margin:0;padding:0}.header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:8vh;width:100%;background-color:var( \\2014  main-darklg)}.logo[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{color:var( \\2014  main-light)}.main[_ngcontent-%COMP%]{overflow:hidden;height:92vh;display:flex}.main__left[_ngcontent-%COMP%]{flex:.7;display:flex;flex-direction:column}.videos__group[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center;align-items:center;padding:1rem;background-color:var( \\2014  main-dark)}video[_ngcontent-%COMP%]{height:300px;border-radius:1rem;margin:.5rem;width:400px;object-fit:cover;transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg)}.options[_ngcontent-%COMP%]{padding:1rem;display:flex;background-color:var( \\2014  main-darklg)}.options__left[_ngcontent-%COMP%]{display:flex}.options__right[_ngcontent-%COMP%]{margin-left:auto}.options__button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:var( \\2014  primary-color);height:50px;border-radius:5px;color:var( \\2014  main-light);font-size:1.2rem;width:50px;margin:0 .5rem}.background__red[_ngcontent-%COMP%]{background-color:#f6484a}.main__right[_ngcontent-%COMP%]{flex:.3;background-color:#242f41}.main__chat_window[_ngcontent-%COMP%]{flex-grow:1}.main__message_container[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;justify-content:center}.main__message_container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:50px;flex:1;border-radius:5px;padding-left:20px;border:none}#video-grid[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}']}),t})()}];let rj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Bt({imports:[[Wb.forRoot(nj)],Wb]}),t})(),ij=(()=>{class t{constructor(){this.title="video-call"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Sr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&xt(0,"router-outlet")},directives:[_h],styles:[""]}),t})(),sj=(()=>{class t{intercept(n,r){const i=localStorage.getItem("token"),s=null==i?void 0:i.indexOf('"'),o=null==i?void 0:i.lastIndexOf('"'),a=null==i?void 0:i.substring(s+1,o),c=n.clone({setHeaders:{Authorization:`Bearer ${a}`}});return r.handle(c)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),oj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t,bootstrap:[ij]}),t.\u0275inj=Bt({providers:[{provide:tp,useClass:sj,multi:!0}],imports:[[wN,f2,rj,ZV,QV]]}),t})();(function aP(){J0=!1})(),DN().bootstrapModule(oj).catch(t=>console.error(t))},463:Ze=>{const w={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};w.localCName=w.generateIdentifier(),w.splitLines=function(g){return g.trim().split("\n").map(y=>y.trim())},w.splitSections=function(g){return g.split("\nm=").map((x,P)=>(P>0?"m="+x:x).trim()+"\r\n")},w.getDescription=function(g){const y=w.splitSections(g);return y&&y[0]},w.getMediaSections=function(g){const y=w.splitSections(g);return y.shift(),y},w.matchPrefix=function(g,y){return w.splitLines(g).filter(x=>0===x.indexOf(y))},w.parseCandidate=function(g){let y;y=0===g.indexOf("a=candidate:")?g.substring(12).split(" "):g.substring(10).split(" ");const x={foundation:y[0],component:{1:"rtp",2:"rtcp"}[y[1]]||y[1],protocol:y[2].toLowerCase(),priority:parseInt(y[3],10),ip:y[4],address:y[4],port:parseInt(y[5],10),type:y[7]};for(let P=8;P<y.length;P+=2)switch(y[P]){case"raddr":x.relatedAddress=y[P+1];break;case"rport":x.relatedPort=parseInt(y[P+1],10);break;case"tcptype":x.tcpType=y[P+1];break;case"ufrag":x.ufrag=y[P+1],x.usernameFragment=y[P+1];break;default:void 0===x[y[P]]&&(x[y[P]]=y[P+1])}return x},w.writeCandidate=function(g){const y=[];y.push(g.foundation);const x=g.component;y.push("rtp"===x?1:"rtcp"===x?2:x),y.push(g.protocol.toUpperCase()),y.push(g.priority),y.push(g.address||g.ip),y.push(g.port);const P=g.type;return y.push("typ"),y.push(P),"host"!==P&&g.relatedAddress&&g.relatedPort&&(y.push("raddr"),y.push(g.relatedAddress),y.push("rport"),y.push(g.relatedPort)),g.tcpType&&"tcp"===g.protocol.toLowerCase()&&(y.push("tcptype"),y.push(g.tcpType)),(g.usernameFragment||g.ufrag)&&(y.push("ufrag"),y.push(g.usernameFragment||g.ufrag)),"candidate:"+y.join(" ")},w.parseIceOptions=function(g){return g.substring(14).split(" ")},w.parseRtpMap=function(g){let y=g.substring(9).split(" ");const x={payloadType:parseInt(y.shift(),10)};return y=y[0].split("/"),x.name=y[0],x.clockRate=parseInt(y[1],10),x.channels=3===y.length?parseInt(y[2],10):1,x.numChannels=x.channels,x},w.writeRtpMap=function(g){let y=g.payloadType;void 0!==g.preferredPayloadType&&(y=g.preferredPayloadType);const x=g.channels||g.numChannels||1;return"a=rtpmap:"+y+" "+g.name+"/"+g.clockRate+(1!==x?"/"+x:"")+"\r\n"},w.parseExtmap=function(g){const y=g.substring(9).split(" ");return{id:parseInt(y[0],10),direction:y[0].indexOf("/")>0?y[0].split("/")[1]:"sendrecv",uri:y[1],attributes:y.slice(2).join(" ")}},w.writeExtmap=function(g){return"a=extmap:"+(g.id||g.preferredId)+(g.direction&&"sendrecv"!==g.direction?"/"+g.direction:"")+" "+g.uri+(g.attributes?" "+g.attributes:"")+"\r\n"},w.parseFmtp=function(g){const y={};let x;const P=g.substring(g.indexOf(" ")+1).split(";");for(let te=0;te<P.length;te++)x=P[te].trim().split("="),y[x[0].trim()]=x[1];return y},w.writeFmtp=function(g){let y="",x=g.payloadType;if(void 0!==g.preferredPayloadType&&(x=g.preferredPayloadType),g.parameters&&Object.keys(g.parameters).length){const P=[];Object.keys(g.parameters).forEach(te=>{P.push(void 0!==g.parameters[te]?te+"="+g.parameters[te]:te)}),y+="a=fmtp:"+x+" "+P.join(";")+"\r\n"}return y},w.parseRtcpFb=function(g){const y=g.substring(g.indexOf(" ")+1).split(" ");return{type:y.shift(),parameter:y.join(" ")}},w.writeRtcpFb=function(g){let y="",x=g.payloadType;return void 0!==g.preferredPayloadType&&(x=g.preferredPayloadType),g.rtcpFeedback&&g.rtcpFeedback.length&&g.rtcpFeedback.forEach(P=>{y+="a=rtcp-fb:"+x+" "+P.type+(P.parameter&&P.parameter.length?" "+P.parameter:"")+"\r\n"}),y},w.parseSsrcMedia=function(g){const y=g.indexOf(" "),x={ssrc:parseInt(g.substring(7,y),10)},P=g.indexOf(":",y);return P>-1?(x.attribute=g.substring(y+1,P),x.value=g.substring(P+1)):x.attribute=g.substring(y+1),x},w.parseSsrcGroup=function(g){const y=g.substring(13).split(" ");return{semantics:y.shift(),ssrcs:y.map(x=>parseInt(x,10))}},w.getMid=function(g){const y=w.matchPrefix(g,"a=mid:")[0];if(y)return y.substring(6)},w.parseFingerprint=function(g){const y=g.substring(14).split(" ");return{algorithm:y[0].toLowerCase(),value:y[1].toUpperCase()}},w.getDtlsParameters=function(g,y){return{role:"auto",fingerprints:w.matchPrefix(g+y,"a=fingerprint:").map(w.parseFingerprint)}},w.writeDtlsParameters=function(g,y){let x="a=setup:"+y+"\r\n";return g.fingerprints.forEach(P=>{x+="a=fingerprint:"+P.algorithm+" "+P.value+"\r\n"}),x},w.parseCryptoLine=function(g){const y=g.substring(9).split(" ");return{tag:parseInt(y[0],10),cryptoSuite:y[1],keyParams:y[2],sessionParams:y.slice(3)}},w.writeCryptoLine=function(g){return"a=crypto:"+g.tag+" "+g.cryptoSuite+" "+("object"==typeof g.keyParams?w.writeCryptoKeyParams(g.keyParams):g.keyParams)+(g.sessionParams?" "+g.sessionParams.join(" "):"")+"\r\n"},w.parseCryptoKeyParams=function(g){if(0!==g.indexOf("inline:"))return null;const y=g.substring(7).split("|");return{keyMethod:"inline",keySalt:y[0],lifeTime:y[1],mkiValue:y[2]?y[2].split(":")[0]:void 0,mkiLength:y[2]?y[2].split(":")[1]:void 0}},w.writeCryptoKeyParams=function(g){return g.keyMethod+":"+g.keySalt+(g.lifeTime?"|"+g.lifeTime:"")+(g.mkiValue&&g.mkiLength?"|"+g.mkiValue+":"+g.mkiLength:"")},w.getCryptoParameters=function(g,y){return w.matchPrefix(g+y,"a=crypto:").map(w.parseCryptoLine)},w.getIceParameters=function(g,y){const x=w.matchPrefix(g+y,"a=ice-ufrag:")[0],P=w.matchPrefix(g+y,"a=ice-pwd:")[0];return x&&P?{usernameFragment:x.substring(12),password:P.substring(10)}:null},w.writeIceParameters=function(g){let y="a=ice-ufrag:"+g.usernameFragment+"\r\na=ice-pwd:"+g.password+"\r\n";return g.iceLite&&(y+="a=ice-lite\r\n"),y},w.parseRtpParameters=function(g){const y={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},P=w.splitLines(g)[0].split(" ");y.profile=P[2];for(let ke=3;ke<P.length;ke++){const ne=P[ke],yn=w.matchPrefix(g,"a=rtpmap:"+ne+" ")[0];if(yn){const ft=w.parseRtpMap(yn),bt=w.matchPrefix(g,"a=fmtp:"+ne+" ");switch(ft.parameters=bt.length?w.parseFmtp(bt[0]):{},ft.rtcpFeedback=w.matchPrefix(g,"a=rtcp-fb:"+ne+" ").map(w.parseRtcpFb),y.codecs.push(ft),ft.name.toUpperCase()){case"RED":case"ULPFEC":y.fecMechanisms.push(ft.name.toUpperCase())}}}w.matchPrefix(g,"a=extmap:").forEach(ke=>{y.headerExtensions.push(w.parseExtmap(ke))});const te=w.matchPrefix(g,"a=rtcp-fb:* ").map(w.parseRtcpFb);return y.codecs.forEach(ke=>{te.forEach(ne=>{ke.rtcpFeedback.find(ft=>ft.type===ne.type&&ft.parameter===ne.parameter)||ke.rtcpFeedback.push(ne)})}),y},w.writeRtpDescription=function(g,y){let x="";x+="m="+g+" ",x+=y.codecs.length>0?"9":"0",x+=" "+(y.profile||"UDP/TLS/RTP/SAVPF")+" ",x+=y.codecs.map(te=>void 0!==te.preferredPayloadType?te.preferredPayloadType:te.payloadType).join(" ")+"\r\n",x+="c=IN IP4 0.0.0.0\r\n",x+="a=rtcp:9 IN IP4 0.0.0.0\r\n",y.codecs.forEach(te=>{x+=w.writeRtpMap(te),x+=w.writeFmtp(te),x+=w.writeRtcpFb(te)});let P=0;return y.codecs.forEach(te=>{te.maxptime>P&&(P=te.maxptime)}),P>0&&(x+="a=maxptime:"+P+"\r\n"),y.headerExtensions&&y.headerExtensions.forEach(te=>{x+=w.writeExtmap(te)}),x},w.parseRtpEncodingParameters=function(g){const y=[],x=w.parseRtpParameters(g),P=-1!==x.fecMechanisms.indexOf("RED"),te=-1!==x.fecMechanisms.indexOf("ULPFEC"),ke=w.matchPrefix(g,"a=ssrc:").map(Ae=>w.parseSsrcMedia(Ae)).filter(Ae=>"cname"===Ae.attribute),ne=ke.length>0&&ke[0].ssrc;let yn;const ft=w.matchPrefix(g,"a=ssrc-group:FID").map(Ae=>Ae.substring(17).split(" ").map(pa=>parseInt(pa,10)));ft.length>0&&ft[0].length>1&&ft[0][0]===ne&&(yn=ft[0][1]),x.codecs.forEach(Ae=>{if("RTX"===Ae.name.toUpperCase()&&Ae.parameters.apt){let Fn={ssrc:ne,codecPayloadType:parseInt(Ae.parameters.apt,10)};ne&&yn&&(Fn.rtx={ssrc:yn}),y.push(Fn),P&&(Fn=JSON.parse(JSON.stringify(Fn)),Fn.fec={ssrc:ne,mechanism:te?"red+ulpfec":"red"},y.push(Fn))}}),0===y.length&&ne&&y.push({ssrc:ne});let bt=w.matchPrefix(g,"b=");return bt.length&&(bt=0===bt[0].indexOf("b=TIAS:")?parseInt(bt[0].substring(7),10):0===bt[0].indexOf("b=AS:")?1e3*parseInt(bt[0].substring(5),10)*.95-16e3:void 0,y.forEach(Ae=>{Ae.maxBitrate=bt})),y},w.parseRtcpParameters=function(g){const y={},x=w.matchPrefix(g,"a=ssrc:").map(ke=>w.parseSsrcMedia(ke)).filter(ke=>"cname"===ke.attribute)[0];x&&(y.cname=x.value,y.ssrc=x.ssrc);const P=w.matchPrefix(g,"a=rtcp-rsize");y.reducedSize=P.length>0,y.compound=0===P.length;const te=w.matchPrefix(g,"a=rtcp-mux");return y.mux=te.length>0,y},w.writeRtcpParameters=function(g){let y="";return g.reducedSize&&(y+="a=rtcp-rsize\r\n"),g.mux&&(y+="a=rtcp-mux\r\n"),void 0!==g.ssrc&&g.cname&&(y+="a=ssrc:"+g.ssrc+" cname:"+g.cname+"\r\n"),y},w.parseMsid=function(g){let y;const x=w.matchPrefix(g,"a=msid:");if(1===x.length)return y=x[0].substring(7).split(" "),{stream:y[0],track:y[1]};const P=w.matchPrefix(g,"a=ssrc:").map(te=>w.parseSsrcMedia(te)).filter(te=>"msid"===te.attribute);return P.length>0?(y=P[0].value.split(" "),{stream:y[0],track:y[1]}):void 0},w.parseSctpDescription=function(g){const y=w.parseMLine(g),x=w.matchPrefix(g,"a=max-message-size:");let P;x.length>0&&(P=parseInt(x[0].substring(19),10)),isNaN(P)&&(P=65536);const te=w.matchPrefix(g,"a=sctp-port:");if(te.length>0)return{port:parseInt(te[0].substring(12),10),protocol:y.fmt,maxMessageSize:P};const ke=w.matchPrefix(g,"a=sctpmap:");if(ke.length>0){const ne=ke[0].substring(10).split(" ");return{port:parseInt(ne[0],10),protocol:ne[1],maxMessageSize:P}}},w.writeSctpDescription=function(g,y){let x=[];return x="DTLS/SCTP"!==g.protocol?["m="+g.kind+" 9 "+g.protocol+" "+y.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+y.port+"\r\n"]:["m="+g.kind+" 9 "+g.protocol+" "+y.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+y.port+" "+y.protocol+" 65535\r\n"],void 0!==y.maxMessageSize&&x.push("a=max-message-size:"+y.maxMessageSize+"\r\n"),x.join("")},w.generateSessionId=function(){return Math.random().toString().substr(2,22)},w.writeSessionBoilerplate=function(g,y,x){let P;const te=void 0!==y?y:2;return P=g||w.generateSessionId(),"v=0\r\no="+(x||"thisisadapterortc")+" "+P+" "+te+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},w.getDirection=function(g,y){const x=w.splitLines(g);for(let P=0;P<x.length;P++)switch(x[P]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return x[P].substring(2)}return y?w.getDirection(y):"sendrecv"},w.getKind=function(g){return w.splitLines(g)[0].split(" ")[0].substring(2)},w.isRejected=function(g){return"0"===g.split(" ",2)[1]},w.parseMLine=function(g){const x=w.splitLines(g)[0].substring(2).split(" ");return{kind:x[0],port:parseInt(x[1],10),protocol:x[2],fmt:x.slice(3).join(" ")}},w.parseOLine=function(g){const x=w.matchPrefix(g,"o=")[0].substring(2).split(" ");return{username:x[0],sessionId:x[1],sessionVersion:parseInt(x[2],10),netType:x[3],addressType:x[4],address:x[5]}},w.isValidSDP=function(g){if("string"!=typeof g||0===g.length)return!1;const y=w.splitLines(g);for(let x=0;x<y.length;x++)if(y[x].length<2||"="!==y[x].charAt(1))return!1;return!0},Ze.exports=w}},Ze=>{Ze(Ze.s=36)}]);